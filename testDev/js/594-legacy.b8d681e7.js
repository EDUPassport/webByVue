(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[594],{5594:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return q}});s(4916),s(4765);var a=s(6252),n=s(3577),i=function(e){return(0,a.dD)("data-v-4130694f"),e=e(),(0,a.Cn)(),e},r={class:"bg"},o={class:"result-container"},u={class:"result-label"},l=i((function(){return(0,a._)("div",{class:"result-tips"},null,-1)})),c={class:"result-content-container"},d={class:"content-l"},g={class:"content-item-title"},h=i((function(){return(0,a._)("span",null,"Job",-1)})),v={class:"content-item-desc"},f={class:"content-item-title"},m=i((function(){return(0,a._)("span",null,"Deal",-1)})),_={class:"content-item-desc"},p={class:"content-r"},w={class:"content-r-container"},b=i((function(){return(0,a._)("div",{class:"content-r-label"},"Search Site",-1)})),y={class:"content-r-input"},k=i((function(){return(0,a._)("div",{class:"content-r-tips"}," Search through thousands of jobs, Events and Deals. For better results,search for keywords that are as unique your desired results as possible. ",-1)})),D={class:"content-r-tags"},L=i((function(){return(0,a._)("div",{class:"content-r-tags-label"},"Tags",-1)})),S={class:"content-r-tags-content"},x=["onClick"];function j(e,t,s,i,j,P){var E=(0,a.up)("el-col"),V=(0,a.up)("el-row"),W=(0,a.up)("router-link"),q=(0,a.up)("el-input"),z=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(V,{align:"top",justify:"center"},{default:(0,a.w5)((function(){return[(0,a.Wm)(E,{class:"result-banner",xs:24,sm:24,md:24,lg:24,xl:24})]})),_:1}),(0,a.Wm)(V,{align:"top",justify:"center"},{default:(0,a.w5)((function(){return[(0,a._)("div",o,[(0,a.Wm)(E,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,a.w5)((function(){return[(0,a._)("div",u,' Showing Search Results for "'+(0,n.zw)(j.keyword)+'" ',1),l,(0,a.wy)((0,a._)("div",c,[(0,a._)("div",d,[(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(j.jobsData,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:t},[(0,a._)("div",g,[(0,a.Wm)(W,{target:"_blank",to:{path:"/jobs/detail",query:{id:e.id}}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(e.job_title),1)]})),_:2},1032,["to"]),h]),(0,a._)("div",v,(0,n.zw)(e.desc),1)])})),128))]),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(j.dealsData,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:t},[(0,a._)("div",f,[(0,a.Wm)(W,{target:"_blank",to:{path:"/deals/detail",query:{id:e.id}}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(e.title),1)]})),_:2},1032,["to"]),m]),(0,a._)("div",_,(0,n.zw)(e.desc),1)])})),128))])]),(0,a._)("div",p,[(0,a._)("div",w,[b,(0,a._)("div",y,[(0,a.Wm)(q,{modelValue:j.searchSiteValue,"onUpdate:modelValue":t[0]||(t[0]=function(e){return j.searchSiteValue=e}),placeholder:"Type Search here",onChange:t[1]||(t[1]=function(e){return P.siteSearch()})},null,8,["modelValue"])]),k,(0,a._)("div",D,[L,(0,a._)("div",S,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(j.tagsData,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{class:"content-r-tags-item",key:t,onClick:function(t){return P.search(e.name_en)}},(0,n.zw)(e.name_en),9,x)})),128))])])])])],512),[[z,j.searchLoadingStatus]])]})),_:1})])]})),_:1})])}var P=s(43),E={name:"result",data:function(){return{searchLoadingStatus:!0,searchSiteValue:"",tagsList:[],tagsData:[],keyword:"",page:1,limit:2,businessPage:1,businessLimit:2,businessLastPage:0,vendorPage:1,vendorLimit:2,vendorLastPage:0,dealsPage:1,dealsLimit:2,dealsLastPage:0,eventsPage:1,eventsLimit:2,eventsLastPage:0,jobsPage:1,jobsLimit:2,jobsLastPage:0,businessData:[],vendorData:[],dealsData:[],eventsData:[],jobsData:[]}},mounted:function(){var e=this.$route.query.keyword;e&&""!=e?(this.keyword=e,this.getEsSearch(this.page,this.limit,e)):this.searchLoadingStatus=!1,this.getTagsList()},methods:{getTagsList:function(){var e=this,t={page:1,limit:1e4};(0,P.dD)(t).then((function(t){console.log(t),200==t.code&&(e.tagsData=t.message.data)}))},search:function(e){this.searchSiteValue="",this.searchLoadingStatus=!0,this.keyword=e,this.$router.push({path:"/search/result",query:{keyword:e}}),this.getEsSearch(1,this.limit,e)},siteSearch:function(){this.searchLoadingStatus=!0,this.keyword=this.searchSiteValue,this.$router.push({path:"/search/result",query:{keyword:this.keyword}}),this.getEsSearch(1,this.limit,this.keyword)},getEsSearch:function(e,t,s){var a=this,n={page:e,limit:t,kw:s};(0,P.ii)(n).then((function(e){console.log(e),200==e.code&&(e.message.business_list&&(a.businessData=e.message.business_list.data,a.businessLastPage=e.message.business_list.last_page),e.message.vendor_list&&(a.vendorData=e.message.vendor_list.data,a.vendorLastPage=e.message.vendor_list.last_page),e.message.deal_list&&(a.dealsData=e.message.deal_list.data,a.dealsLastPage=e.message.deal_list.last_page),e.message.event_list&&(a.eventsData=e.message.event_list.data,a.eventsLastPage=e.message.event_list.last_page),e.message.jobs_list&&(a.jobsData=e.message.jobs_list.data,a.jobsLastPage=e.message.jobs_list.last_page),a.searchLoadingStatus=!1)}))}}},V=s(8118);const W=(0,V.Z)(E,[["render",j],["__scopeId","data-v-4130694f"]]);var q=W},7007:function(e,t,s){"use strict";s(4916);var a=s(1702),n=s(1320),i=s(2261),r=s(7293),o=s(5112),u=s(8880),l=o("species"),c=RegExp.prototype;e.exports=function(e,t,s,d){var g=o(e),h=!r((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),v=h&&!r((function(){var t=!1,s=/a/;return"split"===e&&(s={},s.constructor={},s.constructor[l]=function(){return s},s.flags="",s[g]=/./[g]),s.exec=function(){return t=!0,null},s[g](""),!t}));if(!h||!v||s){var f=a(/./[g]),m=t(g,""[e],(function(e,t,s,n,r){var o=a(e),u=t.exec;return u===i||u===c.exec?h&&!r?{done:!0,value:f(t,s,n)}:{done:!0,value:o(s,t,n)}:{done:!1}}));n(String.prototype,e,m[0]),n(c,g,m[1])}d&&u(c[g],"sham",!0)}},7651:function(e,t,s){var a=s(7854),n=s(6916),i=s(9670),r=s(614),o=s(4326),u=s(2261),l=a.TypeError;e.exports=function(e,t){var s=e.exec;if(r(s)){var a=n(s,e,t);return null!==a&&i(a),a}if("RegExp"===o(e))return n(u,e,t);throw l("RegExp#exec called on incompatible receiver")}},1150:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},4765:function(e,t,s){"use strict";var a=s(6916),n=s(7007),i=s(9670),r=s(4488),o=s(1150),u=s(1340),l=s(8173),c=s(7651);n("search",(function(e,t,s){return[function(t){var s=r(this),n=void 0==t?void 0:l(t,e);return n?a(n,t,s):new RegExp(t)[e](u(s))},function(e){var a=i(this),n=u(e),r=s(t,a,n);if(r.done)return r.value;var l=a.lastIndex;o(l,0)||(a.lastIndex=0);var d=c(a,n);return o(a.lastIndex,l)||(a.lastIndex=l),null===d?-1:d.index}]}))}}]);
//# sourceMappingURL=594-legacy.b8d681e7.js.map