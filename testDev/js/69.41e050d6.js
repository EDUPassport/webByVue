"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[69],{8742:function(e,t,a){a.d(t,{Z:function(){return L}});var s=a(6252),o=a(3577);const l={class:"profile-l-container"},i={class:"profile-photo-container"},n={class:"l-container"},c={class:"l-item"},r=(0,s.Uk)("Overview"),d={class:"l-item"},u=(0,s.Uk)("My Favorites"),g={class:"l-item"},m=(0,s.Uk)("My Account & Profile"),p=(0,s.Uk)("My Account & Profile"),h=(0,s.Uk)("My Account & Profile"),b={key:0,class:"l-item"},f=(0,s.Uk)("My Jobs"),w={key:1,class:"l-item"},v=(0,s.Uk)("My Deals"),y={key:2,class:"l-item"},_=(0,s.Uk)("Post a Job"),k={key:3,class:"l-item"},C=(0,s.Uk)("Offer a Deal"),T={class:"l-item"},D=(0,s.Uk)("Privacy Policy"),V={key:4,class:"l-item"},F=(0,s.Uk)("My Applications");function W(e,t,a,W,j,U){const O=(0,s.up)("el-image"),S=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",i,[U.userAvatar?((0,s.wg)(),(0,s.j4)(O,{key:0,class:"profile-photo",src:U.userAvatar},null,8,["src"])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("span",null,(0,o.zw)(U.username),1)])]),(0,s._)("div",n,[(0,s._)("div",c,[(0,s.Wm)(S,{to:"/overview",exact:""},{default:(0,s.w5)((()=>[r])),_:1})]),(0,s._)("div",d,[(0,s.Wm)(S,{to:"/favorites",exact:""},{default:(0,s.w5)((()=>[u])),_:1})]),(0,s._)("div",g,[1==U.identity?((0,s.wg)(),(0,s.j4)(S,{key:0,to:"/educator/profile",exact:""},{default:(0,s.w5)((()=>[m])),_:1})):(0,s.kq)("",!0),2==U.identity?((0,s.wg)(),(0,s.j4)(S,{key:1,to:"/business/profile",exact:""},{default:(0,s.w5)((()=>[p])),_:1})):(0,s.kq)("",!0),3==U.identity?((0,s.wg)(),(0,s.j4)(S,{key:2,to:"/vendor/profile",exact:""},{default:(0,s.w5)((()=>[h])),_:1})):(0,s.kq)("",!0)]),2==U.identity?((0,s.wg)(),(0,s.iD)("div",b,[(0,s.Wm)(S,{to:"/jobs/myJobs",exact:""},{default:(0,s.w5)((()=>[f])),_:1})])):(0,s.kq)("",!0),3==U.identity?((0,s.wg)(),(0,s.iD)("div",w,[(0,s.Wm)(S,{to:"/deals/myDeals",exact:""},{default:(0,s.w5)((()=>[v])),_:1})])):(0,s.kq)("",!0),2==U.identity?((0,s.wg)(),(0,s.iD)("div",y,[(0,s.Wm)(S,{to:{path:"/jobs/post",query:{version_time:j.versionTime}},exact:""},{default:(0,s.w5)((()=>[_])),_:1},8,["to"])])):(0,s.kq)("",!0),3==U.identity?((0,s.wg)(),(0,s.iD)("div",k,[(0,s.Wm)(S,{to:"/deals/offer",exact:""},{default:(0,s.w5)((()=>[C])),_:1})])):(0,s.kq)("",!0),(0,s._)("div",T,[(0,s.Wm)(S,{to:"/",exact:""},{default:(0,s.w5)((()=>[D])),_:1})]),2==U.identity?((0,s.wg)(),(0,s.iD)("div",V,[(0,s.Wm)(S,{to:"/",exact:""},{default:(0,s.w5)((()=>[F])),_:1})])):(0,s.kq)("",!0)])])}var j=a(2325),U=a(6565),O={name:"meSideMenu",data(){return{accountInfo:{},accountPhotoValue:"",versionTime:(0,j.O1)()}},computed:{username:{get(){return this.$store.state.username}},userAvatar:{get(){return this.$store.state.userAvatar}},identity:{get(){return this.$store.state.identity}}},mounted(){},methods:{getBasicInfo(){let e=localStorage.getItem("uid"),t=localStorage.getItem("identity"),a={id:e,token:localStorage.getItem("token")};(0,U.zP)(a).then((e=>{console.log(e),200==e.code&&(this.phone=e.message.phone,1==t&&e.message.educator_info&&(this.accountInfo=e.message.educator_info,this.accountPhotoValue=e.message.educator_info.profile_photo),2==t&&e.message.business_info&&(this.accountInfo=e.message.business_info,this.accountPhotoValue=e.message.business_info.logo),3==t&&e.message.vendor_info&&(this.accountInfo=e.message.vendor_info,this.accountPhotoValue=e.message.vendor_info.logo))}))}}},S=a(8118);const x=(0,S.Z)(O,[["render",W],["__scopeId","data-v-c3de7384"]]);var L=x},4069:function(e,t,a){a.r(t),a.d(t,{default:function(){return Y}});var s=a(6252),o=a(3577);const l=e=>((0,s.dD)("data-v-4f3119e4"),e=e(),(0,s.Cn)(),e),i={class:"bg"},n={class:"profile-container"},c={class:"basic-form"},r=l((()=>(0,s._)("div",{class:"tags-tips"}," Tags help people search for and discover you more easily. Add tags to improve your chances of discovery. ",-1))),d={class:"object-tags-container"},u={class:"object-tags"},g=["onClick"],m={class:"object-tags"},p=["onClick"],h={class:"object-tags"},b={class:"object-tags-add"},f={key:0,class:"object-tags-item-add"},w={class:"object-tags-item-btn-container"},v=(0,s.Uk)("Confirm "),y=(0,s.Uk)("Cancel "),_=l((()=>(0,s._)("div",{class:"deals-tips"}," This deal is only available online ",-1))),k={class:"deals-location-select-container"},C=l((()=>(0,s._)("div",{class:"map-container"},[(0,s._)("div",{id:"mapContainer",class:"basemap"})],-1))),T=l((()=>(0,s._)("div",{class:"deals-tips"}," This deal is available online and at the location below ",-1))),D={class:"deals-location-select-container"},V=l((()=>(0,s._)("div",{class:"map-container"},[(0,s._)("div",{id:"mapContainer1",class:"basemap"})],-1))),F=(0,s.Uk)(" I understand this deal will need ESL Passport's approval. "),W=(0,s.Uk)(" Submit "),j=(0,s.Uk)("Reset");function U(e,t,a,l,U,O){const S=(0,s.up)("meSideMenu"),x=(0,s.up)("el-col"),L=(0,s.up)("el-input"),I=(0,s.up)("el-form-item"),A=(0,s.up)("el-button"),P=(0,s.up)("el-tab-pane"),M=(0,s.up)("el-option"),q=(0,s.up)("el-select"),Y=(0,s.up)("el-tabs"),H=(0,s.up)("el-form"),z=(0,s.up)("el-row");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",n,[(0,s.Wm)(z,{align:"top",justify:"center"},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{xs:24,sm:24,md:4,lg:4,xl:4},{default:(0,s.w5)((()=>[(0,s.Wm)(S)])),_:1}),(0,s.Wm)(x,{class:"jobs-r-container",xs:24,sm:24,md:20,lg:20,xl:20},{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s.Wm)(H,{ref:"basicForm",model:U.basicForm,rules:U.basicRules,"label-width":"120px","label-position":"top",class:"demo-ruleForm"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{label:"Deal Name",prop:"title"},{default:(0,s.w5)((()=>[(0,s.Wm)(L,{modelValue:U.basicForm.title,"onUpdate:modelValue":t[0]||(t[0]=e=>U.basicForm.title=e),placeholder:"Example:50% off all pizzas.."},null,8,["modelValue"])])),_:1}),(0,s.Wm)(I,{label:"Deal Description",prop:"desc"},{default:(0,s.w5)((()=>[(0,s.Wm)(L,{modelValue:U.basicForm.desc,"onUpdate:modelValue":t[1]||(t[1]=e=>U.basicForm.desc=e),type:"textarea",placeholder:"Deal Details"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(I,{label:"Tags"},{default:(0,s.w5)((()=>[r,(0,s._)("div",d,[(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(U.tagsData,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["object-tags-item",-1==U.selectTagsList.indexOf(e.id)?"":"tags-active"]),key:t,onClick:t=>O.selectTagA(e)},(0,o.zw)(e.name_en),11,g)))),128))]),(0,s._)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(U.ownTagsList,((t,a)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,o.C_)(["object-tags-item",-1==U.selectTagsList.indexOf(t)?"":"tags-active"]),key:a,onClick:a=>e.selectTag(t)},(0,o.zw)(t),11,p)))),128))]),(0,s._)("div",h,[0==U.addTagsStatus?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"object-tags-item",onClick:t[2]||(t[2]=e=>U.addTagsStatus=!0)},"Add+ ")):(0,s.kq)("",!0)]),(0,s._)("div",b,[U.addTagsStatus?((0,s.wg)(),(0,s.iD)("div",f,[(0,s.Wm)(L,{type:"text",modelValue:U.ownTagsValue,"onUpdate:modelValue":t[3]||(t[3]=e=>U.ownTagsValue=e),placeholder:"Add tag"},null,8,["modelValue"]),(0,s._)("div",w,[U.ownTagsValue.length>0?((0,s.wg)(),(0,s.j4)(A,{key:0,class:"object-tags-item-btn",type:"primary",onClick:O.addOwnTag},{default:(0,s.w5)((()=>[v])),_:1},8,["onClick"])):(0,s.kq)("",!0),0==U.ownTagsValue.length?((0,s.wg)(),(0,s.j4)(A,{key:1,class:"object-tags-item-btn",type:"primary",onClick:t[4]||(t[4]=e=>U.addTagsStatus=!1)},{default:(0,s.w5)((()=>[y])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])])])),_:1}),(0,s.Wm)(I,{label:"Deal Location"},{default:(0,s.w5)((()=>[(0,s.Wm)(Y,{class:"deals-tabs-container",type:"border-card",modelValue:U.dealLocationTypeValue,"onUpdate:modelValue":t[11]||(t[11]=e=>U.dealLocationTypeValue=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{label:"Online",name:"1"},{default:(0,s.w5)((()=>[_])),_:1}),(0,s.Wm)(P,{label:"Offline",name:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",k,[(0,s.Wm)(q,{modelValue:U.basicForm.province,"onUpdate:modelValue":t[5]||(t[5]=e=>U.basicForm.province=e),onChange:O.provinceChange,placeholder:"Select Province"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(U.provinceOptions,((e,t)=>((0,s.wg)(),(0,s.j4)(M,{key:t,label:e.Pinyin,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,s.Wm)(q,{modelValue:U.basicForm.city,"onUpdate:modelValue":t[6]||(t[6]=e=>U.basicForm.city=e),onChange:O.cityChange,placeholder:"Select City"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(U.cityOptions,((e,t)=>((0,s.wg)(),(0,s.j4)(M,{key:t,label:e.Pinyin,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,s.Wm)(q,{modelValue:U.basicForm.district,"onUpdate:modelValue":t[7]||(t[7]=e=>U.basicForm.district=e),onChange:O.districtChange,placeholder:"Select District"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(U.districtOptions,((e,t)=>((0,s.wg)(),(0,s.j4)(M,{key:t,label:e.Pinyin,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])]),C])),_:1}),(0,s.Wm)(P,{label:"Both",name:"3"},{default:(0,s.w5)((()=>[T,(0,s._)("div",D,[(0,s.Wm)(q,{modelValue:U.basicForm.province,"onUpdate:modelValue":t[8]||(t[8]=e=>U.basicForm.province=e),onChange:O.provinceChange,placeholder:"Select Province"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(U.provinceOptions,((e,t)=>((0,s.wg)(),(0,s.j4)(M,{key:t,label:e.Pinyin,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,s.Wm)(q,{modelValue:U.basicForm.city,"onUpdate:modelValue":t[9]||(t[9]=e=>U.basicForm.city=e),onChange:O.cityChange,placeholder:"Select City"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(U.cityOptions,((e,t)=>((0,s.wg)(),(0,s.j4)(M,{key:t,label:e.Pinyin,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,s.Wm)(q,{modelValue:U.basicForm.district,"onUpdate:modelValue":t[10]||(t[10]=e=>U.basicForm.district=e),onChange:O.districtChange,placeholder:"Select District"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(U.districtOptions,((e,t)=>((0,s.wg)(),(0,s.j4)(M,{key:t,label:e.Pinyin,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])]),V])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,s.Wm)(I,{label:"Deal Agreement"},{default:(0,s.w5)((()=>[F])),_:1}),(0,s.Wm)(I,null,{default:(0,s.w5)((()=>[(0,s.Wm)(A,{type:"primary",onClick:t[12]||(t[12]=e=>O.submitForm("basicForm"))},{default:(0,s.w5)((()=>[W])),_:1}),(0,s.Wm)(A,{onClick:t[13]||(t[13]=e=>O.resetForm("basicForm"))},{default:(0,s.w5)((()=>[j])),_:1})])),_:1})])),_:1},8,["model","rules"])])])),_:1})])),_:1})])])}var O=a(8742),S=a(6565),x=a(6158),L=a.n(x),I=a(9651),A=a.n(I),P={name:"jobs",components:{meSideMenu:O.Z},data(){return{accessToken:"pk.eyJ1Ijoic3JrbGluZ2UiLCJhIjoiY2t2NnR4anI2OWU5NDJ3bWE1dHd3c3h1aSJ9.O0JfjqiyBBkFuf4G-DQ-DQ",mapStyle:"mapbox://styles/mapbox/streets-v11",dealLocationTypeValue:"1",userInfo:{},basicUserInfo:{},tagsData:[],addTagsStatus:!1,ownTagsValue:"",ownTagsList:[],selectTagsList:[],selectTagsArr:[],tagsCnData:[],tagsEnData:[],provinceOptions:[],provinceName:"",cityOptions:[],cityName:"",districtOptions:[],districtName:"",basicForm:{token:localStorage.getItem("token"),user_id:localStorage.getItem("uid"),title:"",desc:"",tag:"",is_online:0,location:"",province:"",city:"",district:"",lng:"",lat:"",tags_cn:"",tags_en:""},basicRules:{title:[{required:!0,message:"Please input",trigger:"blur"}],desc:[{required:!0,message:"Please input",trigger:"blur"}]}}},mounted(){this.getTagsList(),this.getAllAreas(0),this.initMap(),this.initMap1()},methods:{initMap(){L().accessToken=this.accessToken;const e=new(L().Map)({container:"mapContainer",center:[115.64673,34.42592],style:this.mapStyle,zoom:12}),t=new(L().NavigationControl);e.addControl(t,"top-right");const a=new(L().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});e.addControl(a,"top-right");const s=new(A())({accessToken:this.accessToken,mapboxgl:L()});e.addControl(s,"top-left");const o=new(L().Marker);s.on("result",(t=>{console.log(t),o.setLngLat(t.result.center).addTo(e),this.basicForm.location=t.result.place_name,this.basicForm.lng=t.result.center[0],this.basicForm.lat=t.result.center[1]})),s.on("clear",(e=>{console.log(e),this.basicForm.location="",this.basicForm.lng="",this.basicForm.lat=""}))},initMap1(){L().accessToken=this.accessToken;const e=new(L().Map)({container:"mapContainer1",center:[115.64673,34.42592],style:this.mapStyle,zoom:12}),t=new(L().NavigationControl);e.addControl(t,"top-right");const a=new(L().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});e.addControl(a,"top-right");const s=new(A())({accessToken:this.accessToken,mapboxgl:L()});e.addControl(s,"top-left");const o=new(L().Marker);s.on("result",(t=>{console.log(t),o.setLngLat(t.result.center).addTo(e),this.basicForm.location=t.result.place_name,this.basicForm.lng=t.result.center[0],this.basicForm.lat=t.result.center[1]})),s.on("clear",(e=>{console.log(e),this.basicForm.location="",this.basicForm.lng="",this.basicForm.lat=""}))},getAllAreas(e){let t={pid:e};(0,S.Yu)(t).then((e=>{console.log(e),200==e.code&&(this.provinceOptions=e.message)}))},getAllCitys(e){let t={pid:e};(0,S.Yu)(t).then((e=>{console.log(e),200==e.code&&(this.cityOptions=e.message)}))},getAllDistricts(e){let t={pid:e};(0,S.Yu)(t).then((e=>{console.log(e),200==e.code&&(this.districtOptions=e.message)}))},provinceChange(e){console.log(e),this.getAllCitys(e)},cityChange(e){console.log(e),this.getAllDistricts(e)},districtChange(e){console.log(e)},getTagsList(){let e={page:1,limit:1e3};(0,S.dD)(e).then((e=>{console.log(e),200==e.code&&(this.tagsData=e.message.data)}))},addOwnTag(){this.addTagsStatus=!1;let e=localStorage.getItem("token"),t={token:e,tag_name:this.ownTagsValue};(0,S.D)(t).then((e=>{if(console.log(e),200==e.code&&0==e.message){let e=this.ownTagsList.indexOf(this.ownTagsValue);-1==e&&this.ownTagsList.push(this.ownTagsValue);let t=this.selectTagsList.indexOf(this.ownTagsValue);-1==t?(this.selectTagsList.push(this.ownTagsValue),this.tagsCnData.push(this.ownTagsValue),this.tagsEnData.push(this.ownTagsValue)):(this.selectTagsList.splice(t,1),this.tagsCnData.splice(t,1),this.tagsEnData.splice(t,1)),this.ownTagsValue=""}}))},selectTagA(e){let t=this.selectTagsList.indexOf(e.id);-1==t?(this.selectTagsList.push(e.id),this.tagsCnData.push(e.name_cn),this.tagsEnData.push(e.name_en)):(this.selectTagsList.splice(t,1),this.tagsCnData.splice(t,1),this.tagsEnData.splice(t,1))},getVisitorBasicInfo(){let e=localStorage.getItem("uid"),t=localStorage.getItem("identity"),a={id:e,identity:t};(0,S.P9)(a).then((e=>{console.log(e),200==e.code&&(this.basicUserInfo=e.message,1==t&&e.message.educator_info&&(this.userInfo=e.message.educator_info),2==t&&e.message.business_info&&(this.userInfo=e.message.business_info),3==t&&e.message.vendor_info&&(this.userInfo=e.message.vendor_info))}))},submitForm(e){this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;{this.basicForm.tag=this.selectTagsList,this.basicForm.tags_cn=this.tagsCnData.join(","),this.basicForm.tags_en=this.tagsEnData.join(",");let e=Object.assign({},this.basicForm);(0,S.$z)(e).then((e=>{console.log(e),200==e.code&&console.log("abs")}))}}))},resetForm(e){this.$refs[e].resetFields()}}},M=a(8118);const q=(0,M.Z)(P,[["render",U],["__scopeId","data-v-4f3119e4"]]);var Y=q}}]);
//# sourceMappingURL=69.41e050d6.js.map