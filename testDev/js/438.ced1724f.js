"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[438],{8438:function(e,l,a){a.r(l),a.d(l,{default:function(){return q}});var t=a(6252),s=a(3577);const i=e=>((0,t.dD)("data-v-3d4cee2c"),e=e(),(0,t.Cn)(),e),o={class:"bg"},r={class:"bg-2"},n={class:"logo-container"},m={class:"login-tabs-login-container"},d={class:"remeber-container"},u=(0,t.Uk)(" Login in "),g=(0,t.Uk)(" Sign in with Facebook "),c=(0,t.Uk)(" Sign in with Google "),p={class:"login-tabs-register-container"},f=(0,t.Uk)("Send Code"),w={class:"identity-container"},b=i((()=>(0,t._)("div",{class:"identity-label"},"I am a/an",-1))),_={class:"identity-content"},h=(0,t.Uk)(" Submit "),y=(0,t.Uk)(" Sign in with Facebook "),W=(0,t.Uk)(" Sign in with Google "),F=i((()=>(0,t._)("div",{class:"footer-content"},null,-1)));function V(e,l,a,i,V,v){const C=(0,t.up)("el-image"),L=(0,t.up)("router-link"),S=(0,t.up)("el-col"),k=(0,t.up)("el-row"),x=(0,t.up)("el-header"),U=(0,t.up)("el-input"),P=(0,t.up)("el-form-item"),q=(0,t.up)("el-checkbox"),I=(0,t.up)("el-button"),R=(0,t.up)("el-form"),j=(0,t.up)("el-tab-pane"),E=(0,t.up)("el-tabs"),T=(0,t.up)("el-main"),$=(0,t.up)("el-footer"),z=(0,t.up)("el-container");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",r,[(0,t.Wm)(z,{class:"login-container"},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{class:"container-1",height:"auto"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{justify:"center",align:"middle"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,t.w5)((()=>[(0,t._)("div",n,[(0,t.Wm)(L,{class:"logo-title",to:"/"},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{class:"logo-img",src:V.imgLogo,fit:"contain"},null,8,["src"])])),_:1})])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(T,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{justify:"center",align:"middle"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{xs:22,sm:12,md:14,lg:14,xl:14},{default:(0,t.w5)((()=>[(0,t.Wm)(E,{type:"border-card",class:"login-tabs"},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{label:"Login"},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t.Wm)(k,{class:"marginTop container-7",justify:"center",align:"middle"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{xs:24,sm:24,md:22,lg:22,xl:22},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{model:V.loginForm,rules:V.loginRules,ref:"loginForm","label-width":"100px","label-position":"top",class:"demo-ruleForm"},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{label:"Username/Email",prop:"email"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"medium",placeholder:"Username/Email",modelValue:V.loginForm.email,"onUpdate:modelValue":l[0]||(l[0]=e=>V.loginForm.email=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(P,{label:"Password",prop:"password"},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"medium",placeholder:"Password",type:"password",modelValue:V.loginForm.password,"onUpdate:modelValue":l[1]||(l[1]=e=>V.loginForm.password=e)},null,8,["modelValue"])])),_:1}),(0,t._)("div",d,[(0,t.Wm)(q,{modelValue:V.remeberValue,"onUpdate:modelValue":l[2]||(l[2]=e=>V.remeberValue=e),label:"Remeber Me",onChange:v.remeberChange},null,8,["modelValue","onChange"])]),(0,t.Wm)(P,null,{default:(0,t.w5)((()=>[(0,t.Wm)(I,{class:"submit-btn",loading:V.submitLoginLoadingStatus,onClick:l[3]||(l[3]=e=>v.submitLoginForm("loginForm"))},{default:(0,t.w5)((()=>[u])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1}),(0,t.Wm)(k,{class:"marginTop container-5",justify:"center",align:"middle"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{class:"apple-btn",plain:"",icon:"iconfont  el-icon-alifacebook"},{default:(0,t.w5)((()=>[g])),_:1})])),_:1})])),_:1}),(0,t.Wm)(k,{class:"marginTop container-4",justify:"center",align:"middle"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{class:"google-btn",plain:"",icon:"iconfont  el-icon-aligoogle"},{default:(0,t.w5)((()=>[c])),_:1})])),_:1})])),_:1})])])),_:1}),(0,t.Wm)(j,{label:"Register"},{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t.Wm)(k,{class:"marginTop container-3",justify:"center",align:"middle"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,t.w5)((()=>[(0,t.Wm)(R,{model:V.registerForm,rules:V.registerRules,ref:"registerForm","label-width":"160px","label-position":"top",class:"demo-ruleForm"},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{label:"First Name",prop:"first_name",required:""},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"medium",placeholder:"First Name",modelValue:V.registerForm.first_name,"onUpdate:modelValue":l[4]||(l[4]=e=>V.registerForm.first_name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(P,{label:"Last Name",prop:"last_name",required:""},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"medium",placeholder:"Last Name",modelValue:V.registerForm.last_name,"onUpdate:modelValue":l[5]||(l[5]=e=>V.registerForm.last_name=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(P,{label:"Email",prop:"email",required:""},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"medium",placeholder:"Email",modelValue:V.registerForm.email,"onUpdate:modelValue":l[6]||(l[6]=e=>V.registerForm.email=e)},{append:(0,t.w5)((()=>[(0,t.Wm)(I,{class:"send-code-btn",loading:V.sendCodeLoading,onClick:v.sendEmailCode},{default:(0,t.w5)((()=>[f])),_:1},8,["loading","onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(P,{label:"Email Activation Code",prop:"code",required:""},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"medium",placeholder:"Email Activation Code",modelValue:V.registerForm.code,"onUpdate:modelValue":l[7]||(l[7]=e=>V.registerForm.code=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(P,{label:"Password",prop:"password",required:""},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"medium",type:"password",placeholder:"Password",modelValue:V.registerForm.password,"onUpdate:modelValue":l[8]||(l[8]=e=>V.registerForm.password=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(P,{label:"Confirm Password",prop:"c_password",required:""},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"medium",type:"password",placeholder:"Confirm Password",modelValue:V.registerForm.c_password,"onUpdate:modelValue":l[9]||(l[9]=e=>V.registerForm.c_password=e)},null,8,["modelValue"])])),_:1}),(0,t._)("div",w,[b,(0,t._)("div",_,[(0,t._)("div",{class:(0,s.C_)(["identity-btn",1==V.identityValue?"identity-educator-active":""]),onClick:l[10]||(l[10]=e=>v.selectedIdentity(1))},"Educator",2),(0,t._)("div",{class:(0,s.C_)(["identity-btn identity-btn-margin",2==V.identityValue?"identity-business-active":""]),onClick:l[11]||(l[11]=e=>v.selectedIdentity(2))},"Business",2),(0,t._)("div",{class:(0,s.C_)(["identity-btn identity-btn-margin",3==V.identityValue?"identity-vendor-active":""]),onClick:l[12]||(l[12]=e=>v.selectedIdentity(3))},"Vendor",2)])]),(0,t.Wm)(P,null,{default:(0,t.w5)((()=>[(0,t.Wm)(I,{class:"submit-btn",loading:V.submitRegisterLoadingStatus,onClick:l[13]||(l[13]=e=>v.submitRegisterForm("registerForm"))},{default:(0,t.w5)((()=>[h])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1}),(0,t.Wm)(k,{class:"marginTop container-6",justify:"center",align:"middle"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{class:"apple-btn",plain:"",icon:"iconfont  el-icon-alifacebook"},{default:(0,t.w5)((()=>[y])),_:1})])),_:1})])),_:1}),(0,t.Wm)(k,{class:"marginTop container-5",justify:"center",align:"middle"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{class:"google-btn",plain:"",icon:"iconfont  el-icon-aligoogle"},{default:(0,t.w5)((()=>[W])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)($,{class:"footer-container",height:"auto"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{justify:"center",align:"middle"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{xs:12,sm:12,md:12,lg:8,xl:6},{default:(0,t.w5)((()=>[F])),_:1})])),_:1})])),_:1})])),_:1})])])}var v=a(6949),C=a(43),L=a(2119),S=a(9669),k=a.n(S),x={name:"index",data(){return{imgLogo:v,loginForm:{email:""},loginRules:{email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},submitLoginLoadingStatus:!1,submitRegisterLoadingStatus:!1,humanVerifyStatus:!0,remeberValue:!1,registerForm:{first_name:"",last_name:"",email:"",code:"",password:"",c_password:""},registerRules:{first_name:[{required:!0,message:"Please fill out your first name.",trigger:"blur"}],last_name:[{required:!0,message:"Please fill out your last name.",trigger:"blur"}],code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],c_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},identityValue:0,sendCodeLoading:!1}},components:{},setup(){let e=(0,L.tv)(),l=(0,L.yj)();const a=()=>(console.log(l.query),l.query),t=()=>e.push({path:"/"});return{getParams:a,skipHomePage:t}},methods:{remeberChange(e){console.log(e)},humanVerify(e,l){console.log(l),this.$loading({text:"Loading..."});let a=new FormData;a.append("secret","0x55587f4f237ef6B48A96284Ee257D0AA3d828508"),a.append("response",e),k().post("/siteverify",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:"/hcaptcha",timeout:1e5}).then((e=>{console.log(e),e.success?(this.$loading().close(),this.humanVerifyStatus=!0,this.$message.success("Success")):(this.$message.error("Fail"),this.$loading().close())}))},sendEmailCode(){let e=this,l=this.registerForm.email;if(l){let a={email:l};e.sendCodeLoading=!0,(0,C.h1)(a).then((l=>{200==l.code&&setTimeout((function(){e.sendCodeLoading=!1,e.$message.success("Success")}),1500)})).catch((l=>{console.log(l),e.sendCodeLoading=!1}))}},selectedIdentity(e){console.log(e),this.identityValue=e},submitLoginForm(e){let l=this;l.humanVerifyStatus&&(this.submitLoginLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoginLoadingStatus=!1,!1;{let e=Object.assign({},this.loginForm);(0,C.Ym)(e).then((e=>{if(200==e.code){localStorage.setItem("token",e.message.token),localStorage.setItem("uid",e.message.id),localStorage.setItem("identity",e.message.identity),localStorage.setItem("language",e.message.language),localStorage.setItem("email",e.message.email);let a=e.message.identity;if(0==a&&localStorage.setItem("name","Guest"),1==a){let l=e.message.educator.first_name,a=e.message.educator.last_name;localStorage.setItem("name",l+" "+a)}if(2==a){let l=e.message.business.first_name,a=e.message.business.last_name;localStorage.setItem("name",l+" "+a)}if(3==a){let l=e.message.vendor.first_name,a=e.message.vendor.last_name;localStorage.setItem("name",l+" "+a)}setTimeout((function(){l.skipHomePage(),l.submitLoginLoadingStatus=!1}),1500)}}))}})))},submitRegisterForm(e){let l=this;this.submitRegisterLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitRegisterLoadingStatus=!1,!1;{let e=Object.assign({identity:l.identityValue},this.registerForm);(0,C.OX)(e).then((e=>{console.log(e),200==e.code&&(this.$message.success("Registration completed!"),location.reload())})),setTimeout((function(){l.submitRegisterLoadingStatus=!1}),2e3)}}))},resetForm(e){this.$refs[e].resetFields()}}},U=a(8118);const P=(0,U.Z)(x,[["render",V],["__scopeId","data-v-3d4cee2c"]]);var q=P}}]);
//# sourceMappingURL=438.ced1724f.js.map