"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[604],{2604:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var l=a(6252),i=a(3577);const o=e=>((0,l.dD)("data-v-09789fde"),e=e(),(0,l.Cn)(),e),s={class:"bg"},n={class:"bg-2"},r={class:"logo-container"},d={class:"login-tabs-login-container"},m={class:"remeber-container"},u={class:"hcaptcha-container"},c=(0,l.Uk)(" Login in "),g=(0,l.Uk)(" Sign in with Facebook "),p=(0,l.Uk)(" Sign in with Google "),f={class:"login-tabs-register-container"},h=(0,l.Uk)("Send Code"),b={class:"identity-container"},w=o((()=>(0,l._)("div",{class:"identity-label"},"I am a/an",-1))),y={class:"identity-content"},_=(0,l.Uk)(" Submit "),W=(0,l.Uk)(" Sign in with Facebook "),v=(0,l.Uk)(" Sign in with Google "),V=o((()=>(0,l._)("div",{class:"footer-content"},null,-1)));function C(e,t,a,o,C,F){const S=(0,l.up)("el-image"),x=(0,l.up)("router-link"),k=(0,l.up)("el-col"),L=(0,l.up)("el-row"),E=(0,l.up)("el-header"),q=(0,l.up)("el-input"),P=(0,l.up)("el-form-item"),R=(0,l.up)("el-checkbox"),U=(0,l.up)("hcaptcha"),I=(0,l.up)("el-button"),j=(0,l.up)("el-form"),z=(0,l.up)("el-tab-pane"),T=(0,l.up)("el-tabs"),$=(0,l.up)("el-main"),A=(0,l.up)("el-footer"),D=(0,l.up)("el-container");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",n,[(0,l.Wm)(D,{class:"login-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(E,{class:"container-1",height:"auto"},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{justify:"center",align:"middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l.Wm)(x,{class:"logo-title",to:"/"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,{class:"logo-img",src:C.imgLogo,fit:"contain"},null,8,["src"])])),_:1})])])),_:1})])),_:1})])),_:1}),(0,l.Wm)($,null,{default:(0,l.w5)((()=>[(0,l.Wm)(L,{justify:"center",align:"middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{xs:22,sm:12,md:14,lg:14,xl:14},{default:(0,l.w5)((()=>[(0,l.Wm)(T,{type:"border-card",class:"login-tabs"},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{label:"Login"},{default:(0,l.w5)((()=>[(0,l._)("div",d,[(0,l.Wm)(L,{class:"marginTop container-7",justify:"center",align:"middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{xs:24,sm:24,md:22,lg:22,xl:22},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{model:C.loginForm,rules:C.loginRules,ref:"loginForm","label-width":"100px","label-position":"top",class:"demo-ruleForm"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{label:"Username/Email",prop:"email"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{size:"medium",placeholder:"Username/Email",modelValue:C.loginForm.email,"onUpdate:modelValue":t[0]||(t[0]=e=>C.loginForm.email=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(P,{label:"Password",prop:"password"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{size:"medium",placeholder:"Password",type:"password",modelValue:C.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=e=>C.loginForm.password=e)},null,8,["modelValue"])])),_:1}),(0,l._)("div",m,[(0,l.Wm)(R,{modelValue:C.remeberValue,"onUpdate:modelValue":t[2]||(t[2]=e=>C.remeberValue=e),label:"Remeber Me",onChange:F.remeberChange},null,8,["modelValue","onChange"])]),(0,l._)("div",u,[(0,l.Wm)(U,{sitekey:"ad946ce8-55f2-4b65-97d5-0c42eccf794d",onVerify:F.humanVerify},null,8,["onVerify"])]),(0,l.Wm)(P,null,{default:(0,l.w5)((()=>[(0,l.Wm)(I,{class:"submit-btn",loading:C.submitLoginLoadingStatus,onClick:t[3]||(t[3]=e=>F.submitLoginForm("loginForm"))},{default:(0,l.w5)((()=>[c])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1}),(0,l.Wm)(L,{class:"marginTop container-5",justify:"center",align:"middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{class:"apple-btn",plain:"",icon:"iconfont  el-icon-alifacebook"},{default:(0,l.w5)((()=>[g])),_:1})])),_:1})])),_:1}),(0,l.Wm)(L,{class:"marginTop container-4",justify:"center",align:"middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{class:"google-btn",plain:"",icon:"iconfont  el-icon-aligoogle"},{default:(0,l.w5)((()=>[p])),_:1})])),_:1})])),_:1})])])),_:1}),(0,l.Wm)(z,{label:"Register"},{default:(0,l.w5)((()=>[(0,l._)("div",f,[(0,l.Wm)(L,{class:"marginTop container-3",justify:"center",align:"middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,l.w5)((()=>[(0,l.Wm)(j,{model:C.registerForm,rules:C.registerRules,ref:"registerForm","label-width":"160px","label-position":"top",class:"demo-ruleForm"},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{label:"First Name",prop:"first_name",required:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{size:"medium",placeholder:"First Name",modelValue:C.registerForm.first_name,"onUpdate:modelValue":t[4]||(t[4]=e=>C.registerForm.first_name=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(P,{label:"Last Name",prop:"last_name",required:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{size:"medium",placeholder:"Last Name",modelValue:C.registerForm.last_name,"onUpdate:modelValue":t[5]||(t[5]=e=>C.registerForm.last_name=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(P,{label:"Email",prop:"email",required:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{size:"medium",placeholder:"Email",modelValue:C.registerForm.email,"onUpdate:modelValue":t[6]||(t[6]=e=>C.registerForm.email=e)},{append:(0,l.w5)((()=>[(0,l.Wm)(I,{class:"send-code-btn",loading:C.sendCodeLoading,onClick:F.sendEmailCode},{default:(0,l.w5)((()=>[h])),_:1},8,["loading","onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,l.Wm)(P,{label:"Email Activation Code",prop:"code",required:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{size:"medium",placeholder:"Email Activation Code",modelValue:C.registerForm.code,"onUpdate:modelValue":t[7]||(t[7]=e=>C.registerForm.code=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(P,{label:"Password",prop:"password",required:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{size:"medium",placeholder:"Password",modelValue:C.registerForm.password,"onUpdate:modelValue":t[8]||(t[8]=e=>C.registerForm.password=e)},null,8,["modelValue"])])),_:1}),(0,l.Wm)(P,{label:"Confirm Password",prop:"c_password",required:""},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{size:"medium",placeholder:"Confirm Password",modelValue:C.registerForm.c_password,"onUpdate:modelValue":t[9]||(t[9]=e=>C.registerForm.c_password=e)},null,8,["modelValue"])])),_:1}),(0,l._)("div",b,[w,(0,l._)("div",y,[(0,l._)("div",{class:(0,i.C_)(["identity-btn",1==C.identityValue?"identity-educator-active":""]),onClick:t[10]||(t[10]=e=>F.selectedIdentity(1))},"Educator",2),(0,l._)("div",{class:(0,i.C_)(["identity-btn identity-btn-margin",2==C.identityValue?"identity-business-active":""]),onClick:t[11]||(t[11]=e=>F.selectedIdentity(2))},"Business",2),(0,l._)("div",{class:(0,i.C_)(["identity-btn identity-btn-margin",3==C.identityValue?"identity-vendor-active":""]),onClick:t[12]||(t[12]=e=>F.selectedIdentity(3))},"Vendor",2)])]),(0,l.Wm)(P,null,{default:(0,l.w5)((()=>[(0,l.Wm)(I,{class:"submit-btn",loading:C.submitRegisterLoadingStatus,onClick:t[13]||(t[13]=e=>F.submitRegisterForm("registerForm"))},{default:(0,l.w5)((()=>[_])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])),_:1}),(0,l.Wm)(L,{class:"marginTop container-6",justify:"center",align:"middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{class:"apple-btn",plain:"",icon:"iconfont  el-icon-alifacebook"},{default:(0,l.w5)((()=>[W])),_:1})])),_:1})])),_:1}),(0,l.Wm)(L,{class:"marginTop container-5",justify:"center",align:"middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{xs:22,sm:22,md:22,lg:22,xl:22},{default:(0,l.w5)((()=>[(0,l.Wm)(I,{class:"google-btn",plain:"",icon:"iconfont  el-icon-aligoogle"},{default:(0,l.w5)((()=>[v])),_:1})])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.Wm)(A,{class:"footer-container",height:"auto"},{default:(0,l.w5)((()=>[(0,l.Wm)(L,{justify:"center",align:"middle"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{xs:12,sm:12,md:12,lg:8,xl:6},{default:(0,l.w5)((()=>[V])),_:1})])),_:1})])),_:1})])),_:1})])])}var F=a(2262);const S="hcaptcha-api-script-id",x=2;function k(e){if(void 0!==window.hcaptcha)return Promise.resolve(!0);if(document.getElementById(S))return Promise.resolve(!0);const t=L(e),a=document.createElement("script");return a.id=S,a.src=t,a.async=!0,a.defer=!0,a.onerror=e=>(console.error("Failed to load api: "+t,e),Promise.reject(new Error("Failed to load api.js"))),new Promise(((e,t)=>{a.addEventListener("load",q((()=>{e(!0)})),!1),a.onerror=e=>{t(e)},document.head.appendChild(a)}))}function L(e){let t=e.apiEndpoint;return t=E(t,"render","explicit"),t=E(t,"onload",e.onload),t=E(t,"recaptchacompat",!1===e.reCaptchaCompat?"off":"on"),t=E(t,"hl",e.language),t=E(t,"sentry",e.sentry),t=E(t,"endpoint",e.endpoint),t=E(t,"assethost",e.assethost),t=E(t,"imghost",e.imghost),t=E(t,"reportapi",e.reportapi),t}function E(e,t,a){if(void 0!==a&&null!==a){const l=e.includes("?")?"&":"?";return e+l+t+"="+encodeURIComponent(a)}return e}function q(e){return()=>{void 0===window.hcaptcha?setTimeout((()=>{}),x):e()}}var P=(0,l.aZ)({name:"hcaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String,default:void 0},size:{type:String,default:void 0},tabindex:{type:String,default:void 0},language:{type:String,default:void 0},reCaptchaCompat:{type:Boolean,default:!0},challengeContainer:{type:String,default:void 0},rqdata:{type:String,default:void 0},sentry:{type:Boolean,default:!0},apiEndpoint:{type:String,default:"https://hcaptcha.com/1/api.js"},endpoint:{type:String,default:void 0},reportapi:{type:String,default:void 0},assethost:{type:String,default:void 0},imghost:{type:String,default:void 0}},emits:["error","rendered","executed","reset","verify","expired","challengeExpired","opened","closed"],setup(e,{emit:t}){let a=null,i=null,o=(0,F.iH)(null);function s(){i=window.hcaptcha;const t={sitekey:e.sitekey,theme:e.theme,size:e.size,tabindex:e.tabindex,callback:g,"expired-callback":p,"chalexpired-callback":f,"error-callback":c,"open-callback":h,"close-callback":b};e.challengeContainer&&(t["challenge-container"]=e.challengeContainer),a=i.render(o.value,t),e.rqdata&&i.setData(a,{rqdata:e.rqdata}),d()}function n(){i.execute(a),m()}function r(){a?(i.reset(a),u()):t("error","Element is not rendered yet and thus cannot reset it. Wait for `rendered` event to safely call reset.")}function d(){t("rendered")}function m(){t("executed")}function u(){t("reset")}function c(e){t("error",e),r()}function g(){const e=i.getResponse(a),l=i.getRespKey(a);t("verify",e,l)}function p(){t("expired")}function f(){t("challengeExpired")}function h(){t("opened")}function b(){t("closed")}return(0,l.bv)((async()=>{await k(e),s()})),(0,l.Ah)((()=>{a&&i&&i.remove(a)})),{widgetId:a,hcaptcha:i,hcaptchaContainer:o,onApiLoaded:s,execute:n,reset:r,onRendered:d,onExecuted:m,onReset:u,onError:c,onVerify:g,onExpired:p,onChallengeExpired:f,onOpen:h,onClose:b}}});const R={ref:"hcaptchaContainer"};function U(e,t,a,i,o,s){return(0,l.wg)(),(0,l.iD)("div",R,null,512)}P.render=U;var I=a(6949),j=a(43),z=a(2119),T=a(9669),$=a.n(T),A={name:"index",data(){return{imgLogo:I,loginForm:{email:""},loginRules:{email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},submitLoginLoadingStatus:!1,submitRegisterLoadingStatus:!1,humanVerifyStatus:!1,remeberValue:!1,registerForm:{first_name:"",last_name:"",email:"",code:"",password:"",c_password:""},registerRules:{first_name:[{required:!0,message:"Please fill out your first name.",trigger:"blur"}],last_name:[{required:!0,message:"Please fill out your last name.",trigger:"blur"}],code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],c_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},identityValue:0,sendCodeLoading:!1}},components:{hcaptcha:P},setup(){let e=(0,z.tv)(),t=(0,z.yj)();const a=()=>(console.log(t.query),t.query),l=()=>e.push({path:"/"});return{getParams:a,skipHomePage:l}},methods:{remeberChange(e){console.log(e)},humanVerify(e,t){console.log(t),this.$loading({text:"Loading..."});let a=new FormData;a.append("secret","0x55587f4f237ef6B48A96284Ee257D0AA3d828508"),a.append("response",e),$().post("/siteverify",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:"/hcaptcha",timeout:1e5}).then((e=>{console.log(e),e.success?(this.$loading().close(),this.humanVerifyStatus=!0,this.$message.success("Success")):(this.$message.error("Fail"),this.$loading().close())}))},sendEmailCode(){let e=this,t=this.registerForm.email;if(t){let a={email:t};e.sendCodeLoading=!0,(0,j.h1)(a).then((t=>{200==t.code&&setTimeout((function(){e.sendCodeLoading=!1,e.$message.success("Success")}),1500)})).catch((t=>{console.log(t),e.sendCodeLoading=!1}))}},selectedIdentity(e){console.log(e),this.identityValue=e},submitLoginForm(e){let t=this;t.humanVerifyStatus&&(this.submitLoginLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoginLoadingStatus=!1,!1;{let e=Object.assign({},this.loginForm);(0,j.Ym)(e).then((e=>{if(200==e.code){localStorage.setItem("token",e.message.token),localStorage.setItem("uid",e.message.id),localStorage.setItem("identity",e.message.identity),localStorage.setItem("language",e.message.language),localStorage.setItem("email",e.message.email);let a=e.message.identity;if(0==a&&localStorage.setItem("name","Guest"),1==a){let t=e.message.educator.first_name,a=e.message.educator.last_name;localStorage.setItem("name",t+" "+a)}if(2==a){let t=e.message.business.first_name,a=e.message.business.last_name;localStorage.setItem("name",t+" "+a)}if(3==a){let t=e.message.vendor.first_name,a=e.message.vendor.last_name;localStorage.setItem("name",t+" "+a)}setTimeout((function(){t.skipHomePage(),t.submitLoginLoadingStatus=!1}),1500)}}))}})))},submitRegisterForm(e){let t=this;this.submitRegisterLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitRegisterLoadingStatus=!1,!1;{let e=Object.assign({identity:t.identityValue},this.registerForm);(0,j.OX)(e).then((e=>{console.log(e),200==e.code&&(this.$message.success("Register Success! "),location.reload())})),setTimeout((function(){t.submitRegisterLoadingStatus=!1}),2e3)}}))},resetForm(e){this.$refs[e].resetFields()}}},D=a(8118);const B=(0,D.Z)(A,[["render",C],["__scopeId","data-v-09789fde"]]);var N=B}}]);
//# sourceMappingURL=604.f8b88498.js.map