"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[173],{9173:function(e,s,t){t.r(s),t.d(s,{default:function(){return z}});var a=t(6252),i=t(3577);const l=e=>((0,a.dD)("data-v-765fd483"),e=e(),(0,a.Cn)(),e),n={class:"bg"},o={class:"result-container"},r={class:"result-label"},d=l((()=>(0,a._)("div",{class:"result-tips"},null,-1))),c={class:"result-content-container"},h={key:0,class:"content-l"},g={class:"content-item-title"},u=l((()=>(0,a._)("span",null,"Job",-1))),m={class:"content-item-desc"},v={class:"content-item-title"},_=l((()=>(0,a._)("span",null,"Deal",-1))),w={class:"content-item-desc"},p={class:"pagination-container"},b={key:1,class:"empty-result-container"},k={class:"content-r"},D={class:"content-r-container"},y=l((()=>(0,a._)("div",{class:"content-r-label"},"Search Site",-1))),S={class:"content-r-input"},L=l((()=>(0,a._)("div",{class:"content-r-tips"}," Search through thousands of jobs, Events and Deals. For better results,search for keywords that are as unique your desired results as possible. ",-1))),f={class:"content-r-tags"},P=l((()=>(0,a._)("div",{class:"content-r-tags-label"},"Tags",-1))),j={class:"content-r-tags-content"},x=["onClick"];function C(e,s,t,l,C,V){const E=(0,a.up)("el-col"),W=(0,a.up)("el-row"),q=(0,a.up)("router-link"),z=(0,a.up)("el-input"),N=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(W,{align:"top",justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{class:"result-banner",xs:24,sm:24,md:24,lg:24,xl:24})])),_:1}),(0,a.Wm)(W,{align:"top",justify:"center"},{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a.Wm)(E,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,a.w5)((()=>[(0,a._)("div",r,' Showing Search Results for "'+(0,i.zw)(C.keyword)+'" ',1),d,(0,a.wy)((0,a._)("div",c,[C.jobsData.length>0||C.dealsData.length>0?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.jobsData,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",g,[(0,a.Wm)(q,{target:"_blank",to:{path:"/jobs/detail",query:{id:e.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.job_title),1)])),_:2},1032,["to"]),u]),(0,a._)("div",m,(0,i.zw)(e.desc),1)])))),128))]),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.dealsData,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",v,[(0,a.Wm)(q,{target:"_blank",to:{path:"/deals/detail",query:{id:e.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(e.title),1)])),_:2},1032,["to"]),_]),(0,a._)("div",w,(0,i.zw)(e.desc),1)])))),128))]),(0,a._)("div",p,[(0,a._)("div",{class:"prev-container",onClick:s[0]||(s[0]=e=>V.showPrevPage())},"Prev"),(0,a._)("div",{class:"next-container",onClick:s[1]||(s[1]=e=>V.showNextPage())},"Next")])])):((0,a.wg)(),(0,a.iD)("div",b," No search results ")),(0,a._)("div",k,[(0,a._)("div",D,[y,(0,a._)("div",S,[(0,a.Wm)(z,{modelValue:C.searchSiteValue,"onUpdate:modelValue":s[2]||(s[2]=e=>C.searchSiteValue=e),placeholder:"Type Search here",onChange:s[3]||(s[3]=e=>V.siteSearch())},null,8,["modelValue"])]),L,(0,a._)("div",f,[P,(0,a._)("div",j,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.tagsData,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-r-tags-item",key:s,onClick:s=>V.search(e.name_en)},(0,i.zw)(e.name_en),9,x)))),128))])])])])],512),[[N,C.searchLoadingStatus]])])),_:1})])])),_:1})])}var V=t(43),E={name:"result",data(){return{searchLoadingStatus:!0,searchSiteValue:"",tagsList:[],tagsData:[],keyword:"",page:1,limit:8,totalNum:0,businessPage:1,businessLimit:2,businessLastPage:0,vendorPage:1,vendorLimit:2,vendorLastPage:0,dealsPage:1,dealsLimit:2,dealsLastPage:0,eventsPage:1,eventsLimit:2,eventsLastPage:0,jobsPage:1,jobsLimit:2,jobsLastPage:0,businessData:[],vendorData:[],dealsData:[],eventsData:[],jobsData:[]}},mounted(){let e=this.$route.query.keyword;e&&""!=e?(this.keyword=e,this.getEsSearch(this.page,this.limit,e)):this.searchLoadingStatus=!1,this.getTagsList()},methods:{getTagsList(){let e={page:1,limit:1e4};(0,V.dD)(e).then((e=>{console.log(e),200==e.code&&(this.tagsData=e.message.data)}))},search(e){this.searchSiteValue="",this.searchLoadingStatus=!0,this.keyword=e,this.$router.push({path:"/search/result",query:{keyword:e}}),this.getEsSearch(1,this.limit,e)},siteSearch(){this.searchLoadingStatus=!0,this.keyword=this.searchSiteValue,this.$router.push({path:"/search/result",query:{keyword:this.keyword}}),this.getEsSearch(1,this.limit,this.keyword)},getEsSearch(e,s,t){let a={page:e,limit:s,kw:t};(0,V.ii)(a).then((e=>{if(console.log(e),200==e.code){if(e.message.business_list){let s=e.message.business_list.data;this.businessData=s,this.businessLastPage=e.message.business_list.last_page}if(e.message.vendor_list){let s=e.message.vendor_list.data;this.vendorData=s,this.vendorLastPage=e.message.vendor_list.last_page}if(e.message.deal_list){let s=e.message.deal_list.data;this.dealsData=s,this.dealsLastPage=e.message.deal_list.last_page}if(e.message.event_list){let s=e.message.event_list.data;this.eventsData=s,this.eventsLastPage=e.message.event_list.last_page}if(e.message.jobs_list){let s=e.message.jobs_list.data;this.jobsData=s,this.jobsLastPage=e.message.jobs_list.last_page}this.searchLoadingStatus=!1}}))},showPrevPage(){this.searchLoadingStatus=!0,this.page--,this.page<=0&&(this.page=1),this.getEsSearch(this.page,this.limit,this.keyword)},showNextPage(){this.searchLoadingStatus=!0,this.page++,this.getEsSearch(this.page,this.limit,this.keyword)}}},W=t(8118);const q=(0,W.Z)(E,[["render",C],["__scopeId","data-v-765fd483"]]);var z=q}}]);
//# sourceMappingURL=173.133cdf97.js.map