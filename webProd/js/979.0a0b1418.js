"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[979],{5979:function(t,s,e){e.r(s),e.d(s,{default:function(){return Y}});var a=e(6252),i=e(3577),l=e(9963);const n=t=>((0,a.dD)("data-v-2238dc97"),t=t(),(0,a.Cn)(),t),o={class:"bg"},r={class:"result-container"},h={class:"result-label"},d=n((()=>(0,a._)("div",{class:"result-tips"},null,-1))),c={class:"result-content-container"},g={class:"content-l"},u={key:0,class:"content-l-content"},w={key:0},m={class:"content-item-title"},_=n((()=>(0,a._)("span",null,"Job",-1))),v={class:"content-item-desc"},p={key:1},k={class:"content-item-title"},S=n((()=>(0,a._)("span",null,"Deal",-1))),b={class:"content-item-desc"},y={key:1,class:"empty-result-container"},D={class:"pagination-container"},P=(0,a.Uk)("Prev"),f=(0,a.Uk)("Next"),L={class:"content-r"},j={class:"content-r-container"},x=n((()=>(0,a._)("div",{class:"content-r-label"},"Search Site",-1))),W={class:"content-r-input"},q=n((()=>(0,a._)("div",{class:"content-r-tips"}," Search through thousands of jobs, Events and Deals. For better results,search for keywords that are as unique your desired results as possible. ",-1))),C={class:"content-r-tags"},N=n((()=>(0,a._)("div",{class:"content-r-tags-label"},"Tags",-1))),V={class:"content-r-tags-content"},E=["onClick"];function z(t,s,e,n,z,U){const T=(0,a.up)("el-col"),H=(0,a.up)("el-row"),K=(0,a.up)("router-link"),Y=(0,a.up)("el-button"),$=(0,a.up)("el-input"),F=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(H,{align:"top",justify:"center"},{default:(0,a.w5)((()=>[(0,a.Wm)(T,{class:"result-banner",xs:24,sm:24,md:24,lg:24,xl:24})])),_:1}),(0,a.Wm)(H,{align:"top",justify:"center"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(T,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,a.w5)((()=>[(0,a._)("div",h,' Showing Search Results for "'+(0,i.zw)(z.keyword)+'" ',1),d,(0,a.wy)((0,a._)("div",c,[(0,a._)("div",g,[z.jobsData.length>0||z.dealsData.length>0?((0,a.wg)(),(0,a.iD)("div",u,[z.jobsData.length>0?((0,a.wg)(),(0,a.iD)("div",w,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.jobsData,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",m,[(0,a.Wm)(K,{target:"_blank",to:{path:"/jobs/detail",query:{id:t.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.job_title),1)])),_:2},1032,["to"]),_]),(0,a._)("div",v,(0,i.zw)(t.desc),1)])))),128))])):(0,a.kq)("",!0),z.dealsData.length>0?((0,a.wg)(),(0,a.iD)("div",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.dealsData,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:s},[(0,a._)("div",k,[(0,a.Wm)(K,{target:"_blank",to:{path:"/deals/detail",query:{id:t.id}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,i.zw)(t.title),1)])),_:2},1032,["to"]),S]),(0,a._)("div",b,(0,i.zw)(t.desc),1)])))),128))])):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",y," No search results ")),(0,a.wy)((0,a._)("div",D,[(0,a.Wm)(Y,{class:"prev-container",type:"primary",disabled:!z.showPrevPaginationStatus,round:"",onClick:s[0]||(s[0]=t=>U.showPrevPage())},{default:(0,a.w5)((()=>[P])),_:1},8,["disabled"]),(0,a.Wm)(Y,{class:"next-container",type:"primary",disabled:!z.showNextPaginationStatus,round:"",onClick:s[1]||(s[1]=t=>U.showNextPage())},{default:(0,a.w5)((()=>[f])),_:1},8,["disabled"])],512),[[l.F8,z.showPaginationStatus]])]),(0,a._)("div",L,[(0,a._)("div",j,[x,(0,a._)("div",W,[(0,a.Wm)($,{modelValue:z.searchSiteValue,"onUpdate:modelValue":s[2]||(s[2]=t=>z.searchSiteValue=t),placeholder:"Type Search here",onChange:s[3]||(s[3]=t=>U.siteSearch())},null,8,["modelValue"])]),q,(0,a._)("div",C,[N,(0,a._)("div",V,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.tagsData,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"content-r-tags-item",key:s,onClick:s=>U.search(t.name_en)},(0,i.zw)(t.name_en),9,E)))),128))])])])])],512),[[F,z.searchLoadingStatus]])])),_:1})])])),_:1})])}var U=e(43),T={name:"result",data(){return{searchLoadingStatus:!0,searchSiteValue:"",tagsList:[],tagsData:[],keyword:"",page:1,limit:10,totalNum:0,businessData:[],vendorData:[],dealsData:[],eventsData:[],jobsData:[],showPaginationStatus:!1,showNextPaginationStatus:!0,showPrevPaginationStatus:!0}},mounted(){let t=this.$route.query.keyword;t&&""!=t?(this.keyword=t,this.getEsSearch(this.page,this.limit,t)):this.searchLoadingStatus=!1,this.getTagsList()},methods:{getTagsList(){let t={page:1,limit:1e4};(0,U.dD)(t).then((t=>{console.log(t),200==t.code&&(this.tagsData=t.message.data)}))},search(t){this.searchSiteValue="",this.searchLoadingStatus=!0,this.keyword=t,this.$router.push({path:"/search/result",query:{keyword:t}}),this.getEsSearch(1,this.limit,t)},siteSearch(){this.searchLoadingStatus=!0,this.keyword=this.searchSiteValue,this.$router.push({path:"/search/result",query:{keyword:this.keyword}}),this.getEsSearch(1,this.limit,this.keyword)},getEsSearch(t,s,e){let a={page:t,limit:s,kw:e};(0,U.ii)(a).then((s=>{if(console.log(s),200==s.code){let e=s.message.business_list.data,a=s.message.vendor_list.data,i=s.message.deal_list.data,l=s.message.jobs_list.data,n=s.message.event_list.data;s.message.business_list&&(this.businessData=e,this.businessLastPage=s.message.business_list.last_page),s.message.vendor_list&&(this.vendorData=a,this.vendorLastPage=s.message.vendor_list.last_page),s.message.deal_list&&(this.dealsData=i,this.dealsLastPage=s.message.deal_list.last_page),s.message.event_list&&(this.eventsData=n,this.eventsLastPage=s.message.event_list.last_page),s.message.jobs_list&&(this.jobsData=l,this.jobsLastPage=s.message.jobs_list.last_page);let o=l.length,r=i.length;1==t?(this.showPaginationStatus=o+r>=10,this.showPrevPaginationStatus=!1):(this.showPaginationStatus=!0,this.showPrevPaginationStatus=!0,this.showNextPaginationStatus=o+r>0),this.searchLoadingStatus=!1}}))},showPrevPage(){this.searchLoadingStatus=!0,this.page--,this.page<=0&&(this.page=1),this.getEsSearch(this.page,this.limit,this.keyword)},showNextPage(){this.searchLoadingStatus=!0,this.page++,this.getEsSearch(this.page,this.limit,this.keyword)}}},H=e(8118);const K=(0,H.Z)(T,[["render",z],["__scopeId","data-v-2238dc97"]]);var Y=K}}]);
//# sourceMappingURL=979.0a0b1418.js.map