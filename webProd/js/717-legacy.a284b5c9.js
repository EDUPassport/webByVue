(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[717],{4717:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});s(4916),s(4765);var a=s(6252),n=s(3577),i=function(e){return(0,a.dD)("data-v-27c00c43"),e=e(),(0,a.Cn)(),e},r={class:"bg"},o={class:"result-container"},l={class:"result-label"},u=i((function(){return(0,a._)("div",{class:"result-tips"},null,-1)})),c={class:"result-content-container"},d={key:0,class:"content-l"},g={class:"content-item-title"},h=i((function(){return(0,a._)("span",null,"Job",-1)})),v={class:"content-item-desc"},f={class:"content-item-title"},m=i((function(){return(0,a._)("span",null,"Deal",-1)})),p={class:"content-item-desc"},_={class:"pagination-container"},w={key:1,class:"empty-result-container"},b={class:"content-r"},k={class:"content-r-container"},y=i((function(){return(0,a._)("div",{class:"content-r-label"},"Search Site",-1)})),D={class:"content-r-input"},S=i((function(){return(0,a._)("div",{class:"content-r-tips"}," Search through thousands of jobs, Events and Deals. For better results,search for keywords that are as unique your desired results as possible. ",-1)})),L={class:"content-r-tags"},x=i((function(){return(0,a._)("div",{class:"content-r-tags-label"},"Tags",-1)})),P={class:"content-r-tags-content"},j=["onClick"];function E(e,t,s,i,E,C){var V=(0,a.up)("el-col"),W=(0,a.up)("el-row"),q=(0,a.up)("router-link"),z=(0,a.up)("el-input"),I=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(W,{align:"top",justify:"center"},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{class:"result-banner",xs:24,sm:24,md:24,lg:24,xl:24})]})),_:1}),(0,a.Wm)(W,{align:"top",justify:"center"},{default:(0,a.w5)((function(){return[(0,a._)("div",o,[(0,a.Wm)(V,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,a.w5)((function(){return[(0,a._)("div",l,' Showing Search Results for "'+(0,n.zw)(E.keyword)+'" ',1),u,(0,a.wy)((0,a._)("div",c,[E.jobsData.length>0||E.dealsData.length>0?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(E.jobsData,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:t},[(0,a._)("div",g,[(0,a.Wm)(q,{target:"_blank",to:{path:"/jobs/detail",query:{id:e.id}}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(e.job_title),1)]})),_:2},1032,["to"]),h]),(0,a._)("div",v,(0,n.zw)(e.desc),1)])})),128))]),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(E.dealsData,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:t},[(0,a._)("div",f,[(0,a.Wm)(q,{target:"_blank",to:{path:"/deals/detail",query:{id:e.id}}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(e.title),1)]})),_:2},1032,["to"]),m]),(0,a._)("div",p,(0,n.zw)(e.desc),1)])})),128))]),(0,a._)("div",_,[(0,a._)("div",{class:"prev-container",onClick:t[0]||(t[0]=function(e){return C.showPrevPage()})},"Prev"),(0,a._)("div",{class:"next-container",onClick:t[1]||(t[1]=function(e){return C.showNextPage()})},"Next")])])):((0,a.wg)(),(0,a.iD)("div",w," No search results ")),(0,a._)("div",b,[(0,a._)("div",k,[y,(0,a._)("div",D,[(0,a.Wm)(z,{modelValue:E.searchSiteValue,"onUpdate:modelValue":t[2]||(t[2]=function(e){return E.searchSiteValue=e}),placeholder:"Type Search here",onChange:t[3]||(t[3]=function(e){return C.siteSearch()})},null,8,["modelValue"])]),S,(0,a._)("div",L,[x,(0,a._)("div",P,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(E.tagsData,(function(e,t){return(0,a.wg)(),(0,a.iD)("div",{class:"content-r-tags-item",key:t,onClick:function(t){return C.search(e.name_en)}},(0,n.zw)(e.name_en),9,j)})),128))])])])])],512),[[I,E.searchLoadingStatus]])]})),_:1})])]})),_:1})])}var C=s(43),V={name:"result",data:function(){return{searchLoadingStatus:!0,searchSiteValue:"",tagsList:[],tagsData:[],keyword:"",page:1,limit:8,totalNum:0,businessPage:1,businessLimit:2,businessLastPage:0,vendorPage:1,vendorLimit:2,vendorLastPage:0,dealsPage:1,dealsLimit:2,dealsLastPage:0,eventsPage:1,eventsLimit:2,eventsLastPage:0,jobsPage:1,jobsLimit:2,jobsLastPage:0,businessData:[],vendorData:[],dealsData:[],eventsData:[],jobsData:[]}},mounted:function(){var e=this.$route.query.keyword;e&&""!=e?(this.keyword=e,this.getEsSearch(this.page,this.limit,e)):this.searchLoadingStatus=!1,this.getTagsList()},methods:{getTagsList:function(){var e=this,t={page:1,limit:1e4};(0,C.dD)(t).then((function(t){console.log(t),200==t.code&&(e.tagsData=t.message.data)}))},search:function(e){this.searchSiteValue="",this.searchLoadingStatus=!0,this.keyword=e,this.$router.push({path:"/search/result",query:{keyword:e}}),this.getEsSearch(1,this.limit,e)},siteSearch:function(){this.searchLoadingStatus=!0,this.keyword=this.searchSiteValue,this.$router.push({path:"/search/result",query:{keyword:this.keyword}}),this.getEsSearch(1,this.limit,this.keyword)},getEsSearch:function(e,t,s){var a=this,n={page:e,limit:t,kw:s};(0,C.ii)(n).then((function(e){if(console.log(e),200==e.code){if(e.message.business_list){var t=e.message.business_list.data;a.businessData=t,a.businessLastPage=e.message.business_list.last_page}if(e.message.vendor_list){var s=e.message.vendor_list.data;a.vendorData=s,a.vendorLastPage=e.message.vendor_list.last_page}if(e.message.deal_list){var n=e.message.deal_list.data;a.dealsData=n,a.dealsLastPage=e.message.deal_list.last_page}if(e.message.event_list){var i=e.message.event_list.data;a.eventsData=i,a.eventsLastPage=e.message.event_list.last_page}if(e.message.jobs_list){var r=e.message.jobs_list.data;a.jobsData=r,a.jobsLastPage=e.message.jobs_list.last_page}a.searchLoadingStatus=!1}}))},showPrevPage:function(){this.searchLoadingStatus=!0,this.page--,this.page<=0&&(this.page=1),this.getEsSearch(this.page,this.limit,this.keyword)},showNextPage:function(){this.searchLoadingStatus=!0,this.page++,this.getEsSearch(this.page,this.limit,this.keyword)}}},W=s(8118);const q=(0,W.Z)(V,[["render",E],["__scopeId","data-v-27c00c43"]]);var z=q},7007:function(e,t,s){"use strict";s(4916);var a=s(1702),n=s(1320),i=s(2261),r=s(7293),o=s(5112),l=s(8880),u=o("species"),c=RegExp.prototype;e.exports=function(e,t,s,d){var g=o(e),h=!r((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),v=h&&!r((function(){var t=!1,s=/a/;return"split"===e&&(s={},s.constructor={},s.constructor[u]=function(){return s},s.flags="",s[g]=/./[g]),s.exec=function(){return t=!0,null},s[g](""),!t}));if(!h||!v||s){var f=a(/./[g]),m=t(g,""[e],(function(e,t,s,n,r){var o=a(e),l=t.exec;return l===i||l===c.exec?h&&!r?{done:!0,value:f(t,s,n)}:{done:!0,value:o(s,t,n)}:{done:!1}}));n(String.prototype,e,m[0]),n(c,g,m[1])}d&&l(c[g],"sham",!0)}},7651:function(e,t,s){var a=s(7854),n=s(6916),i=s(9670),r=s(614),o=s(4326),l=s(2261),u=a.TypeError;e.exports=function(e,t){var s=e.exec;if(r(s)){var a=n(s,e,t);return null!==a&&i(a),a}if("RegExp"===o(e))return n(l,e,t);throw u("RegExp#exec called on incompatible receiver")}},1150:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},4765:function(e,t,s){"use strict";var a=s(6916),n=s(7007),i=s(9670),r=s(4488),o=s(1150),l=s(1340),u=s(8173),c=s(7651);n("search",(function(e,t,s){return[function(t){var s=r(this),n=void 0==t?void 0:u(t,e);return n?a(n,t,s):new RegExp(t)[e](l(s))},function(e){var a=i(this),n=l(e),r=s(t,a,n);if(r.done)return r.value;var u=a.lastIndex;o(u,0)||(a.lastIndex=0);var d=c(a,n);return o(a.lastIndex,u)||(a.lastIndex=u),null===d?-1:d.index}]}))}}]);
//# sourceMappingURL=717-legacy.a284b5c9.js.map