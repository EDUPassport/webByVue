"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[256],{63256:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var n=a(66252),o=a(3577),s=function(e){return(0,n.dD)("data-v-57714797"),e=e(),(0,n.Cn)(),e},i={class:"bg"},l={class:"job-title"},c={class:"job-address-salary"},r={class:"job-address"},d={class:"job-desc-container"},u=s((function(){return(0,n._)("div",{class:"job-desc-label"},"Deal Description",-1)})),g=s((function(){return(0,n._)("div",{class:"job-desc-label-underline"},null,-1)})),v={class:"job-desc-content"},f={key:0,class:"job-tags"},m={class:"address-container"},p=s((function(){return(0,n._)("div",{class:"address-label"},"Address & Location",-1)})),_=s((function(){return(0,n._)("div",{class:"address-label-underline"},null,-1)})),b={class:"address-content"},h={class:"address-address"},D=s((function(){return(0,n._)("b",null,"Address:",-1)})),k=s((function(){return(0,n._)("div",{class:"address-location"},[(0,n._)("b",null,"Location: "),(0,n._)("div",{class:"map-container"},[(0,n._)("div",{id:"mapContainer",class:"basemap"})])],-1)})),y={class:"deals-detail-share-container"},w=s((function(){return(0,n._)("i",{class:"iconfont el-icon-alixll-heart-filled xll-heart-icon"},null,-1)})),I=[w],C=s((function(){return(0,n._)("i",{class:"iconfont el-icon-alixll-heart xll-heart-icon"},null,-1)})),j=[C],x={class:"company-bio-container"},F=s((function(){return(0,n._)("div",{class:"company-bio-label"},"Company Bio",-1)})),J=s((function(){return(0,n._)("div",{class:"company-bio-label-underline"},null,-1)})),L={class:"company-bio-content"},z={class:"company-logo-container"},S={key:0,class:"company-bio-text"},q={key:0,class:"contact-container"},W=s((function(){return(0,n._)("div",{class:"contact-label"},"Contact Person",-1)})),$={class:"contact-content"},T={class:"contact-l"},M={class:"contact-r"},V={class:"contact-r-t"},B={class:"contact-r-b"},H=(0,n.Uk)("Let's Chat!");function U(e,t,a,s,w,C){var U=(0,n.up)("el-col"),A=(0,n.up)("el-image"),G=(0,n.up)("el-button"),N=(0,n.up)("el-row");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",null,[(0,n.Wm)(N,{class:"detail-row",align:"top",justify:"start"},{default:(0,n.w5)((function(){return[(0,n.Wm)(U,{class:"detail-l-col",xs:24,sm:24,md:16,lg:16,xl:16},{default:(0,n.w5)((function(){return[(0,n._)("div",l,(0,o.zw)(w.detailData.title),1),(0,n._)("div",c,[(0,n._)("div",r,(0,o.zw)(w.detailData.location),1)]),(0,n._)("div",d,[u,g,(0,n._)("div",v,(0,o.zw)(w.detailData.desc),1),w.detailData.tags?((0,n.wg)(),(0,n.iD)("div",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.detailData.tags,(function(e,t){return(0,n.wg)(),(0,n.iD)("div",{class:"job-tag",key:t},(0,o.zw)(e.tag_name_en),1)})),128))])):(0,n.kq)("",!0)]),(0,n._)("div",m,[p,_,(0,n._)("div",b,[(0,n._)("div",h,[D,(0,n._)("span",null,(0,o.zw)(w.detailData.location),1)]),k])]),(0,n._)("div",y,[1==w.isFavoriteValue?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"deals-favorite",onClick:t[0]||(t[0]=function(e){return C.cancelFavorite(2,w.detailData.id)})},I)):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"deals-favorite",onClick:t[1]||(t[1]=function(e){return C.addFavorite(w.detailData.id,2,w.detailData.title,w.detailData.userInfo.logo)})},j))])]})),_:1}),(0,n.Wm)(U,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,n.w5)((function(){return[(0,n._)("div",x,[F,J,(0,n._)("div",L,[(0,n._)("div",z,[w.detailData.userInfo?((0,n.wg)(),(0,n.j4)(A,{key:0,class:"company-logo",src:w.detailData.userInfo.logo},null,8,["src"])):(0,n.kq)("",!0)]),w.detailData.userInfo?((0,n.wg)(),(0,n.iD)("div",S,(0,o.zw)(w.detailData.userInfo.vendor_bio),1)):(0,n.kq)("",!0)])]),w.detailData.userInfo?((0,n.wg)(),(0,n.iD)("div",q,[W,(0,n._)("div",$,[(0,n._)("div",T,[(0,n.Wm)(A,{class:"contact-profile-photo",src:w.detailData.userInfo.profile_photo},null,8,["src"])]),(0,n._)("div",M,[(0,n._)("div",V," Hi I am "+(0,o.zw)(w.detailData.userInfo.first_name)+" from "+(0,o.zw)(w.detailData.userInfo.vendor_name_en)+". ",1),(0,n._)("div",B,[(0,n.Wm)(G,{type:"primary"},{default:(0,n.w5)((function(){return[H]})),_:1})])])])])):(0,n.kq)("",!0)]})),_:1})]})),_:1})])])}var A=a(6158),G=a.n(A),N=a(19651),O=a.n(N),Q=a(30043),R={name:"detail",data:function(){return{accessToken:"pk.eyJ1Ijoic3JrbGluZ2UiLCJhIjoiY2t2NnR4anI2OWU5NDJ3bWE1dHd3c3h1aSJ9.O0JfjqiyBBkFuf4G-DQ-DQ",mapStyle:"mapbox://styles/mapbox/streets-v11",detailData:{},otherJobsData:[],isFavoriteValue:0}},components:{},mounted:function(){var e=this.$route.query.id;this.getDealDetail(e);var t=localStorage.getItem("token");t&&""!=t&&this.isFavorite(2,e)},methods:{initMap:function(e,t){G().accessToken=this.accessToken;var a=new(G().Map)({container:"mapContainer",center:[e,t],style:this.mapStyle,zoom:12}),n=new(G().NavigationControl);a.addControl(n,"top-right");var o=new(G().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});a.addControl(o,"top-right");var s=new(O())({accessToken:this.accessToken,mapboxgl:G()});a.addControl(s,"top-left");var i=new(G().Marker);i.setLngLat([e,t]).addTo(a)},getDealDetail:function(e){var t=this,a={deal_id:e,token:localStorage.getItem("token")};(0,Q.kR)(a).then((function(e){if(console.log(e),200==e.code){t.detailData=e.message,t.initMap(e.message.lng,e.message.lat);var a=e.message.user_id;t.getCompanyJobList(a)}})).catch((function(e){console.log(e),t.$message.error(e.msg)}))},getCompanyJobList:function(e){var t=this,a={user_id:e,is_open:1,status:1,page:1,limit:5};(0,Q.kM)(a).then((function(e){console.log(e),200==e.code&&(t.otherJobsData=e.message.data)})).catch((function(e){console.log(e),t.$message.error(e.msg)}))},addFavorite:function(e,t,a,n){var o=this,s={token:localStorage.getItem("token"),type:t,type_id:e,type_title:a,type_url:n};(0,Q.q8)(s).then((function(e){console.log(e),200==e.code&&(o.$message.success("Success"),o.isFavoriteValue=1)})).catch((function(e){console.log(e),o.$message.error(e.msg)}))},cancelFavorite:function(e,t){var a=this,n={token:localStorage.getItem("token"),type:e,type_id:t};(0,Q.Bv)(n).then((function(e){console.log(e),200==e.code&&(a.isFavoriteValue=0)})).catch((function(e){console.log(e),a.$message.error(e.msg)}))},isFavorite:function(e,t){var a=this,n={token:localStorage.getItem("token"),type:e,type_id:t};(0,Q.Lr)(n).then((function(e){console.log(e),200==e.code&&(a.isFavoriteValue=e.data)})).catch((function(e){console.log(e),a.$message.error(e.msg)}))}}},Y=a(48118);const Z=(0,Y.Z)(R,[["render",U],["__scopeId","data-v-57714797"]]);var E=Z}}]);
//# sourceMappingURL=256-legacy.0d6ba8fd.js.map