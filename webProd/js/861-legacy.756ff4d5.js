"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[861],{38861:function(a,t,e){e.r(t),e.d(t,{default:function(){return E}});var n=e(66252),o=e(3577),i=function(a){return(0,n.dD)("data-v-e25436ca"),a=a(),(0,n.Cn)(),a},s={class:"bg"},l={class:"job-title"},c={class:"job-address-salary"},r={class:"job-address"},d={class:"job-desc-container"},u=i((function(){return(0,n._)("div",{class:"job-desc-label"},"Deal Description",-1)})),v=i((function(){return(0,n._)("div",{class:"job-desc-label-underline"},null,-1)})),f={class:"job-desc-content"},g={key:0,class:"job-tags"},p={class:"address-container"},_=i((function(){return(0,n._)("div",{class:"address-label"},"Address & Location",-1)})),m=i((function(){return(0,n._)("div",{class:"address-label-underline"},null,-1)})),b={class:"address-content"},D={class:"address-address"},k=i((function(){return(0,n._)("b",null,"Address:",-1)})),y=i((function(){return(0,n._)("div",{class:"address-location"},[(0,n._)("b",null,"Location: "),(0,n._)("div",{class:"map-container"},[(0,n._)("div",{id:"mapContainer",class:"basemap"})])],-1)})),h={class:"deals-detail-share-container"},w=i((function(){return(0,n._)("i",{class:"iconfont el-icon-alixll-heart-filled xll-heart-icon"},null,-1)})),I=[w],C=i((function(){return(0,n._)("i",{class:"iconfont el-icon-alixll-heart xll-heart-icon"},null,-1)})),j=[C],x={class:"company-bio-container"},F=i((function(){return(0,n._)("div",{class:"company-bio-label"},"Company Bio",-1)})),J=i((function(){return(0,n._)("div",{class:"company-bio-label-underline"},null,-1)})),L={class:"company-bio-content"},z={class:"company-logo-container"},S={key:0,class:"company-bio-text"},q={key:0,class:"contact-container"},W=i((function(){return(0,n._)("div",{class:"contact-label"},"Contact Person",-1)})),T={class:"contact-content"},M={class:"contact-l"},V={class:"contact-r"},B={class:"contact-r-t"},H={class:"contact-r-b"},U=(0,n.Uk)("Let's Chat!");function A(a,t,e,i,w,C){var A=(0,n.up)("el-col"),G=(0,n.up)("el-image"),N=(0,n.up)("el-button"),O=(0,n.up)("el-row");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",null,[(0,n.Wm)(O,{class:"detail-row",align:"top",justify:"start"},{default:(0,n.w5)((function(){return[(0,n.Wm)(A,{class:"detail-l-col",xs:24,sm:24,md:16,lg:16,xl:16},{default:(0,n.w5)((function(){return[(0,n._)("div",l,(0,o.zw)(w.detailData.title),1),(0,n._)("div",c,[(0,n._)("div",r,(0,o.zw)(w.detailData.location),1)]),(0,n._)("div",d,[u,v,(0,n._)("div",f,(0,o.zw)(w.detailData.desc),1),w.detailData.tags?((0,n.wg)(),(0,n.iD)("div",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.detailData.tags,(function(a,t){return(0,n.wg)(),(0,n.iD)("div",{class:"job-tag",key:t},(0,o.zw)(a.tag_name_en),1)})),128))])):(0,n.kq)("",!0)]),(0,n._)("div",p,[_,m,(0,n._)("div",b,[(0,n._)("div",D,[k,(0,n._)("span",null,(0,o.zw)(w.detailData.location),1)]),y])]),(0,n._)("div",h,[1==w.isFavoriteValue?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"deals-favorite",onClick:t[0]||(t[0]=function(a){return C.cancelFavorite(2,w.detailData.id)})},I)):((0,n.wg)(),(0,n.iD)("div",{key:1,class:"deals-favorite",onClick:t[1]||(t[1]=function(a){return C.addFavorite(w.detailData.id,2,w.detailData.title,w.detailData.userInfo.logo)})},j))])]})),_:1}),(0,n.Wm)(A,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,n.w5)((function(){return[(0,n._)("div",x,[F,J,(0,n._)("div",L,[(0,n._)("div",z,[w.detailData.userInfo?((0,n.wg)(),(0,n.j4)(G,{key:0,class:"company-logo",src:w.detailData.userInfo.logo},null,8,["src"])):(0,n.kq)("",!0)]),w.detailData.userInfo?((0,n.wg)(),(0,n.iD)("div",S,(0,o.zw)(w.detailData.userInfo.vendor_bio),1)):(0,n.kq)("",!0)])]),w.detailData.userInfo?((0,n.wg)(),(0,n.iD)("div",q,[W,(0,n._)("div",T,[(0,n._)("div",M,[(0,n.Wm)(G,{class:"contact-profile-photo",src:w.detailData.userInfo.profile_photo},null,8,["src"])]),(0,n._)("div",V,[(0,n._)("div",B," Hi I am "+(0,o.zw)(w.detailData.userInfo.first_name)+" from "+(0,o.zw)(w.detailData.userInfo.vendor_name_en)+". ",1),(0,n._)("div",H,[(0,n.Wm)(N,{type:"primary"},{default:(0,n.w5)((function(){return[U]})),_:1})])])])])):(0,n.kq)("",!0)]})),_:1})]})),_:1})])])}var G=e(6158),N=e.n(G),O=e(19651),Q=e.n(O),R=e(30043),Y={name:"detail",data:function(){return{accessToken:"pk.eyJ1Ijoic3JrbGluZ2UiLCJhIjoiY2t2NnR4anI2OWU5NDJ3bWE1dHd3c3h1aSJ9.O0JfjqiyBBkFuf4G-DQ-DQ",mapStyle:"mapbox://styles/mapbox/streets-v11",detailData:{},otherJobsData:[],isFavoriteValue:0}},components:{},mounted:function(){var a=this.$route.query.id;this.getDealDetail(a);var t=localStorage.getItem("token");t&&""!=t&&this.isFavorite(2,a)},methods:{initMap:function(a,t){N().accessToken=this.accessToken;var e=new(N().Map)({container:"mapContainer",center:[a,t],style:this.mapStyle,zoom:12}),n=new(N().NavigationControl);e.addControl(n,"top-right");var o=new(N().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});e.addControl(o,"top-right");var i=new(Q())({accessToken:this.accessToken,mapboxgl:N()});e.addControl(i,"top-left");var s=new(N().Marker);s.setLngLat([a,t]).addTo(e)},getDealDetail:function(a){var t=this,e={deal_id:a,token:localStorage.getItem("token")};(0,R.kR)(e).then((function(a){if(console.log(a),200==a.code){t.detailData=a.message,t.initMap(a.message.lng,a.message.lat);var e=a.message.user_id;t.getCompanyJobList(e)}}))},getCompanyJobList:function(a){var t=this,e={user_id:a,is_open:1,status:1,page:1,limit:5};(0,R.kM)(e).then((function(a){console.log(a),200==a.code&&(t.otherJobsData=a.message.data)}))},addFavorite:function(a,t,e,n){var o=this,i={token:localStorage.getItem("token"),type:t,type_id:a,type_title:e,type_url:n};(0,R.q8)(i).then((function(a){console.log(a),200==a.code&&(o.$message.success("Success"),o.isFavoriteValue=1)}))},cancelFavorite:function(a,t){var e=this,n={token:localStorage.getItem("token"),type:a,type_id:t};(0,R.Bv)(n).then((function(a){console.log(a),200==a.code&&(e.isFavoriteValue=0)}))},isFavorite:function(a,t){var e=this,n={token:localStorage.getItem("token"),type:a,type_id:t};(0,R.Lr)(n).then((function(a){console.log(a),200==a.code&&(e.isFavoriteValue=a.data)}))}}},Z=e(48118);const $=(0,Z.Z)(Y,[["render",A],["__scopeId","data-v-e25436ca"]]);var E=$}}]);
//# sourceMappingURL=861-legacy.756ff4d5.js.map