(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[979],{35979:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return H}});s(74916),s(64765);var a=s(66252),n=s(3577),i=s(49963),r=function(t){return(0,a.dD)("data-v-2238dc97"),t=t(),(0,a.Cn)(),t},o={class:"bg"},u={class:"result-container"},l={class:"result-label"},c=r((function(){return(0,a._)("div",{class:"result-tips"},null,-1)})),d={class:"result-content-container"},g={class:"content-l"},h={key:0,class:"content-l-content"},v={key:0},f={class:"content-item-title"},p=r((function(){return(0,a._)("span",null,"Job",-1)})),w={class:"content-item-desc"},m={key:1},_={class:"content-item-title"},b=r((function(){return(0,a._)("span",null,"Deal",-1)})),y={class:"content-item-desc"},S={key:1,class:"empty-result-container"},k={class:"pagination-container"},D=(0,a.Uk)("Prev"),x=(0,a.Uk)("Next"),P={class:"content-r"},L={class:"content-r-container"},j=r((function(){return(0,a._)("div",{class:"content-r-label"},"Search Site",-1)})),E={class:"content-r-input"},W=r((function(){return(0,a._)("div",{class:"content-r-tips"}," Search through thousands of jobs, Events and Deals. For better results,search for keywords that are as unique your desired results as possible. ",-1)})),q={class:"content-r-tags"},C=r((function(){return(0,a._)("div",{class:"content-r-tags-label"},"Tags",-1)})),N={class:"content-r-tags-content"},V=["onClick"];function z(t,e,s,r,z,I){var R=(0,a.up)("el-col"),T=(0,a.up)("el-row"),U=(0,a.up)("router-link"),H=(0,a.up)("el-button"),K=(0,a.up)("el-input"),Y=(0,a.Q2)("loading");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(T,{align:"top",justify:"center"},{default:(0,a.w5)((function(){return[(0,a.Wm)(R,{class:"result-banner",xs:24,sm:24,md:24,lg:24,xl:24})]})),_:1}),(0,a.Wm)(T,{align:"top",justify:"center"},{default:(0,a.w5)((function(){return[(0,a._)("div",u,[(0,a.Wm)(R,{xs:24,sm:24,md:24,lg:24,xl:24},{default:(0,a.w5)((function(){return[(0,a._)("div",l,' Showing Search Results for "'+(0,n.zw)(z.keyword)+'" ',1),c,(0,a.wy)((0,a._)("div",d,[(0,a._)("div",g,[z.jobsData.length>0||z.dealsData.length>0?((0,a.wg)(),(0,a.iD)("div",h,[z.jobsData.length>0?((0,a.wg)(),(0,a.iD)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.jobsData,(function(t,e){return(0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:e},[(0,a._)("div",f,[(0,a.Wm)(U,{target:"_blank",to:{path:"/jobs/detail",query:{id:t.id}}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(t.job_title),1)]})),_:2},1032,["to"]),p]),(0,a._)("div",w,(0,n.zw)(t.desc),1)])})),128))])):(0,a.kq)("",!0),z.dealsData.length>0?((0,a.wg)(),(0,a.iD)("div",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.dealsData,(function(t,e){return(0,a.wg)(),(0,a.iD)("div",{class:"content-item",key:e},[(0,a._)("div",_,[(0,a.Wm)(U,{target:"_blank",to:{path:"/deals/detail",query:{id:t.id}}},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,n.zw)(t.title),1)]})),_:2},1032,["to"]),b]),(0,a._)("div",y,(0,n.zw)(t.desc),1)])})),128))])):(0,a.kq)("",!0)])):((0,a.wg)(),(0,a.iD)("div",S," No search results ")),(0,a.wy)((0,a._)("div",k,[(0,a.Wm)(H,{class:"prev-container",type:"primary",disabled:!z.showPrevPaginationStatus,round:"",onClick:e[0]||(e[0]=function(t){return I.showPrevPage()})},{default:(0,a.w5)((function(){return[D]})),_:1},8,["disabled"]),(0,a.Wm)(H,{class:"next-container",type:"primary",disabled:!z.showNextPaginationStatus,round:"",onClick:e[1]||(e[1]=function(t){return I.showNextPage()})},{default:(0,a.w5)((function(){return[x]})),_:1},8,["disabled"])],512),[[i.F8,z.showPaginationStatus]])]),(0,a._)("div",P,[(0,a._)("div",L,[j,(0,a._)("div",E,[(0,a.Wm)(K,{modelValue:z.searchSiteValue,"onUpdate:modelValue":e[2]||(e[2]=function(t){return z.searchSiteValue=t}),placeholder:"Type Search here",onChange:e[3]||(e[3]=function(t){return I.siteSearch()})},null,8,["modelValue"])]),W,(0,a._)("div",q,[C,(0,a._)("div",N,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(z.tagsData,(function(t,e){return(0,a.wg)(),(0,a.iD)("div",{class:"content-r-tags-item",key:e,onClick:function(e){return I.search(t.name_en)}},(0,n.zw)(t.name_en),9,V)})),128))])])])])],512),[[Y,z.searchLoadingStatus]])]})),_:1})])]})),_:1})])}var I=s(30043),R={name:"result",data:function(){return{searchLoadingStatus:!0,searchSiteValue:"",tagsList:[],tagsData:[],keyword:"",page:1,limit:10,totalNum:0,businessData:[],vendorData:[],dealsData:[],eventsData:[],jobsData:[],showPaginationStatus:!1,showNextPaginationStatus:!0,showPrevPaginationStatus:!0}},mounted:function(){var t=this.$route.query.keyword;t&&""!=t?(this.keyword=t,this.getEsSearch(this.page,this.limit,t)):this.searchLoadingStatus=!1,this.getTagsList()},methods:{getTagsList:function(){var t=this,e={page:1,limit:1e4};(0,I.dD)(e).then((function(e){console.log(e),200==e.code&&(t.tagsData=e.message.data)}))},search:function(t){this.searchSiteValue="",this.searchLoadingStatus=!0,this.keyword=t,this.$router.push({path:"/search/result",query:{keyword:t}}),this.getEsSearch(1,this.limit,t)},siteSearch:function(){this.searchLoadingStatus=!0,this.keyword=this.searchSiteValue,this.$router.push({path:"/search/result",query:{keyword:this.keyword}}),this.getEsSearch(1,this.limit,this.keyword)},getEsSearch:function(t,e,s){var a=this,n={page:t,limit:e,kw:s};(0,I.ii)(n).then((function(e){if(console.log(e),200==e.code){var s=e.message.business_list.data,n=e.message.vendor_list.data,i=e.message.deal_list.data,r=e.message.jobs_list.data,o=e.message.event_list.data;e.message.business_list&&(a.businessData=s,a.businessLastPage=e.message.business_list.last_page),e.message.vendor_list&&(a.vendorData=n,a.vendorLastPage=e.message.vendor_list.last_page),e.message.deal_list&&(a.dealsData=i,a.dealsLastPage=e.message.deal_list.last_page),e.message.event_list&&(a.eventsData=o,a.eventsLastPage=e.message.event_list.last_page),e.message.jobs_list&&(a.jobsData=r,a.jobsLastPage=e.message.jobs_list.last_page);var u=r.length,l=i.length;1==t?(a.showPaginationStatus=u+l>=10,a.showPrevPaginationStatus=!1):(a.showPaginationStatus=!0,a.showPrevPaginationStatus=!0,a.showNextPaginationStatus=u+l>0),a.searchLoadingStatus=!1}}))},showPrevPage:function(){this.searchLoadingStatus=!0,this.page--,this.page<=0&&(this.page=1),this.getEsSearch(this.page,this.limit,this.keyword)},showNextPage:function(){this.searchLoadingStatus=!0,this.page++,this.getEsSearch(this.page,this.limit,this.keyword)}}},T=s(48118);const U=(0,T.Z)(R,[["render",z],["__scopeId","data-v-2238dc97"]]);var H=U},27007:function(t,e,s){"use strict";s(74916);var a=s(1702),n=s(31320),i=s(22261),r=s(47293),o=s(5112),u=s(68880),l=o("species"),c=RegExp.prototype;t.exports=function(t,e,s,d){var g=o(t),h=!r((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),v=h&&!r((function(){var e=!1,s=/a/;return"split"===t&&(s={},s.constructor={},s.constructor[l]=function(){return s},s.flags="",s[g]=/./[g]),s.exec=function(){return e=!0,null},s[g](""),!e}));if(!h||!v||s){var f=a(/./[g]),p=e(g,""[t],(function(t,e,s,n,r){var o=a(t),u=e.exec;return u===i||u===c.exec?h&&!r?{done:!0,value:f(e,s,n)}:{done:!0,value:o(s,e,n)}:{done:!1}}));n(String.prototype,t,p[0]),n(c,g,p[1])}d&&u(c[g],"sham",!0)}},97651:function(t,e,s){var a=s(17854),n=s(46916),i=s(19670),r=s(60614),o=s(84326),u=s(22261),l=a.TypeError;t.exports=function(t,e){var s=t.exec;if(r(s)){var a=n(s,t,e);return null!==a&&i(a),a}if("RegExp"===o(t))return n(u,t,e);throw l("RegExp#exec called on incompatible receiver")}},81150:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},64765:function(t,e,s){"use strict";var a=s(46916),n=s(27007),i=s(19670),r=s(84488),o=s(81150),u=s(41340),l=s(58173),c=s(97651);n("search",(function(t,e,s){return[function(e){var s=r(this),n=void 0==e?void 0:l(e,t);return n?a(n,e,s):new RegExp(e)[t](u(s))},function(t){var a=i(this),n=u(t),r=s(e,a,n);if(r.done)return r.value;var l=a.lastIndex;o(l,0)||(a.lastIndex=0);var d=c(a,n);return o(a.lastIndex,l)||(a.lastIndex=l),null===d?-1:d.index}]}))}}]);
//# sourceMappingURL=979-legacy.8f928a54.js.map