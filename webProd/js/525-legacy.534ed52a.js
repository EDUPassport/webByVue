"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[525],{72525:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var o=n(66252),i=n(3577),r=function(e){return(0,o.dD)("data-v-14ab3c74"),e=e(),(0,o.Cn)(),e},a={class:"bg"},l={class:"logo-container"},s={class:"go-home-container"},u=(0,o.Uk)("Home"),m={class:"xll-login-container"},c={class:"login-tabs-container"},d={class:"xll-login-form-container"},g={class:"remeber-container"},f=(0,o.Uk)(" Login "),p={class:"facebook-btn-container"},b=(0,o.Uk)(" Facebook Sign in "),_={class:"google-btn-container"},w=(0,o.Uk)(" Google Sign in "),h=r((function(){return(0,o._)("div",{class:"xll-ads-container"},null,-1)})),y={class:"xll-register-container"},v={class:"login-tabs-container"},V={class:"xll-register-form-container"},W=(0,o.Uk)("Send Code"),F={class:"identity-container"},k=r((function(){return(0,o._)("div",{class:"identity-label"},"I am a/an",-1)})),C={class:"identity-content"},S=(0,o.Uk)(" Submit "),L={class:"facebook-btn-container"},x=(0,o.Uk)(" Facebook Sign in "),I={class:"google-btn-container"},R=(0,o.Uk)(" Google Sign in "),U=r((function(){return(0,o._)("div",{class:"footer-content"},null,-1)}));function q(e,t,n,r,q,P){var $=(0,o.up)("el-image"),j=(0,o.up)("router-link"),z=(0,o.up)("el-col"),E=(0,o.up)("el-row"),T=(0,o.up)("el-button"),H=(0,o.up)("el-header"),A=(0,o.up)("el-input"),D=(0,o.up)("el-form-item"),N=(0,o.up)("el-checkbox"),G=(0,o.up)("el-form"),O=(0,o.up)("el-main"),B=(0,o.up)("el-footer"),M=(0,o.up)("el-container");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o.Wm)(M,{class:"login-container"},{default:(0,o.w5)((function(){return[(0,o.Wm)(H,{class:"container-1",height:"auto"},{default:(0,o.w5)((function(){return[(0,o.Wm)(E,{justify:"center",align:"middle"},{default:(0,o.w5)((function(){return[(0,o.Wm)(z,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,o.w5)((function(){return[(0,o._)("div",l,[(0,o.Wm)(j,{class:"logo-title",to:"/"},{default:(0,o.w5)((function(){return[(0,o.Wm)($,{class:"logo-img",src:q.imgLogo,fit:"contain"},null,8,["src"])]})),_:1})])]})),_:1})]})),_:1}),(0,o._)("div",s,[(0,o.Wm)(T,{class:"go-home-btn",type:"primary",round:"",onClick:t[0]||(t[0]=function(e){return P.goHome()})},{default:(0,o.w5)((function(){return[u]})),_:1})])]})),_:1}),(0,o.Wm)(O,null,{default:(0,o.w5)((function(){return[1==q.showValue?((0,o.wg)(),(0,o.j4)(E,{key:0,class:"xll-login-row-container",justify:"center",align:"middle"},{default:(0,o.w5)((function(){return[(0,o.Wm)(z,{xs:10,sm:10,md:10,lg:10,xl:10},{default:(0,o.w5)((function(){return[(0,o._)("div",m,[(0,o._)("div",c,[(0,o._)("div",{class:(0,i.C_)(["login-label",1==q.showValue?"login-tab-active":""]),onClick:t[1]||(t[1]=function(e){return P.switchLoginRegister(1)})},"Login",2),(0,o._)("div",{class:(0,i.C_)(["register-label",2==q.showValue?"login-tab-active":""]),onClick:t[2]||(t[2]=function(e){return P.switchLoginRegister(2)})},"Register",2)]),(0,o._)("div",d,[(0,o.Wm)(G,{model:q.loginForm,rules:q.loginRules,ref:"loginForm","label-width":"100px","label-position":"top",class:"demo-ruleForm"},{default:(0,o.w5)((function(){return[(0,o.Wm)(D,{label:"Username/Email",prop:"email"},{default:(0,o.w5)((function(){return[(0,o.Wm)(A,{size:"medium",placeholder:"Username/Email",modelValue:q.loginForm.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return q.loginForm.email=e})},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(D,{label:"Password",prop:"password"},{default:(0,o.w5)((function(){return[(0,o.Wm)(A,{size:"medium",placeholder:"Password",type:"password",modelValue:q.loginForm.password,"onUpdate:modelValue":t[4]||(t[4]=function(e){return q.loginForm.password=e})},null,8,["modelValue"])]})),_:1}),(0,o._)("div",g,[(0,o.Wm)(N,{modelValue:q.remeberValue,"onUpdate:modelValue":t[5]||(t[5]=function(e){return q.remeberValue=e}),label:"Remeber Me",onChange:P.remeberChange},null,8,["modelValue","onChange"])]),(0,o.Wm)(D,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(T,{class:"submit-btn",round:"",type:"primary",loading:q.submitLoginLoadingStatus,onClick:t[6]||(t[6]=function(e){return P.submitLoginForm("loginForm")})},{default:(0,o.w5)((function(){return[f]})),_:1},8,["loading"])]})),_:1})]})),_:1},8,["model","rules"]),(0,o._)("div",p,[(0,o.Wm)(T,{class:"apple-btn",plain:"",round:"",icon:"iconfont  el-icon-alifacebook"},{default:(0,o.w5)((function(){return[b]})),_:1})]),(0,o._)("div",_,[(0,o.Wm)(T,{class:"google-btn",plain:"",round:"",icon:"iconfont  el-icon-aligoogle"},{default:(0,o.w5)((function(){return[w]})),_:1})])])])]})),_:1}),(0,o.Wm)(z,{xs:14,sm:14,md:14,lg:14,xl:14},{default:(0,o.w5)((function(){return[h]})),_:1})]})),_:1})):(0,o.kq)("",!0),2==q.showValue?((0,o.wg)(),(0,o.j4)(E,{key:1,class:"xll-register-row-container",justify:"center",align:"middle"},{default:(0,o.w5)((function(){return[(0,o.Wm)(z,{xs:14,sm:14,md:14,lg:14,xl:14},{default:(0,o.w5)((function(){return[(0,o._)("div",y,[(0,o._)("div",v,[(0,o._)("div",{class:(0,i.C_)(["login-label",1==q.showValue?"login-tab-active":""]),onClick:t[7]||(t[7]=function(e){return P.switchLoginRegister(1)})},"Login",2),(0,o._)("div",{class:(0,i.C_)(["register-label",2==q.showValue?"login-tab-active":""]),onClick:t[8]||(t[8]=function(e){return P.switchLoginRegister(2)})},"Register",2)]),(0,o._)("div",V,[(0,o.Wm)(G,{model:q.registerForm,rules:q.registerRules,ref:"registerForm","label-width":"160px","label-position":"top",class:"demo-ruleForm"},{default:(0,o.w5)((function(){return[(0,o.Wm)(D,{label:"First Name",prop:"first_name",required:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(A,{size:"medium",placeholder:"First Name",modelValue:q.registerForm.first_name,"onUpdate:modelValue":t[9]||(t[9]=function(e){return q.registerForm.first_name=e})},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(D,{label:"Last Name",prop:"last_name",required:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(A,{size:"medium",placeholder:"Last Name",modelValue:q.registerForm.last_name,"onUpdate:modelValue":t[10]||(t[10]=function(e){return q.registerForm.last_name=e})},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(D,{label:"Email",prop:"email",required:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(A,{size:"medium",placeholder:"name@domain.com",modelValue:q.registerForm.email,"onUpdate:modelValue":t[11]||(t[11]=function(e){return q.registerForm.email=e})},{append:(0,o.w5)((function(){return[(0,o.Wm)(T,{class:"send-code-btn",loading:q.sendCodeLoading,onClick:P.sendEmailCode},{default:(0,o.w5)((function(){return[W]})),_:1},8,["loading","onClick"])]})),_:1},8,["modelValue"])]})),_:1}),(0,o.Wm)(D,{label:"Email Activation Code",prop:"code",required:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(A,{size:"medium",placeholder:"6 digit code",modelValue:q.registerForm.code,"onUpdate:modelValue":t[12]||(t[12]=function(e){return q.registerForm.code=e})},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(D,{label:"Password",prop:"password",required:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(A,{size:"medium",type:"password",placeholder:"Password",modelValue:q.registerForm.password,"onUpdate:modelValue":t[13]||(t[13]=function(e){return q.registerForm.password=e})},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(D,{label:"Confirm Password",prop:"c_password",required:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(A,{size:"medium",type:"password",placeholder:"Confirm",modelValue:q.registerForm.c_password,"onUpdate:modelValue":t[14]||(t[14]=function(e){return q.registerForm.c_password=e})},null,8,["modelValue"])]})),_:1}),(0,o._)("div",F,[k,(0,o._)("div",C,[(0,o._)("div",{class:(0,i.C_)(["identity-btn",1==q.identityValue?"identity-educator-active":""]),onClick:t[15]||(t[15]=function(e){return P.selectedIdentity(1)})},"Educator",2),(0,o._)("div",{class:(0,i.C_)(["identity-btn identity-btn-margin",2==q.identityValue?"identity-business-active":""]),onClick:t[16]||(t[16]=function(e){return P.selectedIdentity(2)})},"Business",2),(0,o._)("div",{class:(0,i.C_)(["identity-btn identity-btn-margin",3==q.identityValue?"identity-vendor-active":""]),onClick:t[17]||(t[17]=function(e){return P.selectedIdentity(3)})},"Vendor",2)])]),(0,o.Wm)(D,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(T,{class:"submit-btn",type:"primary",round:"",loading:q.submitRegisterLoadingStatus,onClick:t[18]||(t[18]=function(e){return P.submitRegisterForm("registerForm")})},{default:(0,o.w5)((function(){return[S]})),_:1},8,["loading"])]})),_:1})]})),_:1},8,["model","rules"]),(0,o._)("div",L,[(0,o.Wm)(T,{class:"apple-btn",plain:"",round:"",icon:"iconfont  el-icon-alifacebook"},{default:(0,o.w5)((function(){return[x]})),_:1})]),(0,o._)("div",I,[(0,o.Wm)(T,{class:"google-btn",plain:"",round:"",icon:"iconfont  el-icon-aligoogle"},{default:(0,o.w5)((function(){return[R]})),_:1})])])])]})),_:1})]})),_:1})):(0,o.kq)("",!0)]})),_:1}),(0,o.Wm)(B,{class:"footer-container",height:"auto"},{default:(0,o.w5)((function(){return[(0,o.Wm)(E,{justify:"center",align:"middle"},{default:(0,o.w5)((function(){return[(0,o.Wm)(z,{xs:12,sm:12,md:12,lg:8,xl:6},{default:(0,o.w5)((function(){return[U]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var P=n(66949),$=n(30043),j=n(42119),z=n(9669),E=n.n(z),T=n(53476),H={name:"index",data:function(){return{imgLogo:P,shanghaiImg:T,loginForm:{email:""},loginRules:{email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},submitLoginLoadingStatus:!1,submitRegisterLoadingStatus:!1,humanVerifyStatus:!0,remeberValue:!1,registerForm:{first_name:"",last_name:"",email:"",code:"",password:"",c_password:""},registerRules:{first_name:[{required:!0,message:"Please fill out your first name.",trigger:"blur"}],last_name:[{required:!0,message:"Please fill out your last name.",trigger:"blur"}],code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],c_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},identityValue:0,sendCodeLoading:!1,showValue:1}},components:{},setup:function(){var e=(0,j.tv)(),t=(0,j.yj)(),n=function(){return console.log(t.query),t.query},o=function(){return e.push({path:"/"})},i=t.query.type,r=i||1;return{getParams:n,skipHomePage:o,showType:r}},created:function(){this.showValue=this.showType,console.log(this.showValue)},methods:{goHome:function(){this.$router.push("/home")},remeberChange:function(e){console.log(e)},humanVerify:function(e,t){var n=this;console.log(t),this.$loading({text:"Loading..."});var o=new FormData;o.append("secret","0x55587f4f237ef6B48A96284Ee257D0AA3d828508"),o.append("response",e),E().post("/siteverify",o,{headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:"/hcaptcha",timeout:1e5}).then((function(e){console.log(e),e.success?(n.$loading().close(),n.humanVerifyStatus=!0,n.$message.success("Success")):(n.$message.error("Fail"),n.$loading().close())}))},sendEmailCode:function(){var e=this,t=this,n=this.registerForm.email;if(n){var o={email:n};t.sendCodeLoading=!0,(0,$.h1)(o).then((function(e){200==e.code&&setTimeout((function(){t.sendCodeLoading=!1,t.$message.success("Success")}),1500)})).catch((function(t){console.log(t),e.$message.error(t.msg)}))}},selectedIdentity:function(e){console.log(e),this.identityValue=e},submitLoginForm:function(e){var t=this,n=this;n.humanVerifyStatus&&(this.submitLoginLoadingStatus=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),t.submitLoginLoadingStatus=!1,!1;var o=Object.assign({},t.loginForm);(0,$.Ym)(o).then((function(e){if(200==e.code){localStorage.setItem("token",e.message.token),localStorage.setItem("uid",e.message.id),localStorage.setItem("identity",e.message.identity),localStorage.setItem("language",e.message.language),localStorage.setItem("email",e.message.email);var t=e.message.identity;if(0==t&&localStorage.setItem("name","Guest"),1==t){var o=e.message.educator.first_name,i=e.message.educator.last_name;localStorage.setItem("name",o+" "+i),localStorage.setItem("first_name",o),localStorage.setItem("last_name",i)}if(2==t){var r=e.message.business.first_name,a=e.message.business.last_name;localStorage.setItem("name",r+" "+a),localStorage.setItem("first_name",r),localStorage.setItem("last_name",a)}if(3==t){var l=e.message.vendor.first_name,s=e.message.vendor.last_name;localStorage.setItem("name",l+" "+s),localStorage.setItem("first_name",l),localStorage.setItem("last_name",s)}setTimeout((function(){n.skipHomePage(),n.submitLoginLoadingStatus=!1}),1500)}})).catch((function(e){console.log(e),t.$message.error(e.msg)}))})))},submitRegisterForm:function(e){var t=this,n=this;this.submitRegisterLoadingStatus=!0,this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),t.submitRegisterLoadingStatus=!1,!1;var o=Object.assign({identity:n.identityValue},t.registerForm);(0,$.OX)(o).then((function(e){console.log(e),200==e.code&&(t.$message.success("Registration completed!"),location.reload())})).catch((function(e){console.log(e),t.$message.error(e.msg)})),setTimeout((function(){n.submitRegisterLoadingStatus=!1}),2e3)}))},resetForm:function(e){this.$refs[e].resetFields()},switchLoginRegister:function(e){this.showValue=e}}},A=n(48118);const D=(0,A.Z)(H,[["render",q],["__scopeId","data-v-14ab3c74"]]);var N=D},53476:function(e,t,n){e.exports=n.p+"img/bg-shanghai.9d301392..jpg"}}]);
//# sourceMappingURL=525-legacy.534ed52a.js.map