"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[525],{2525:function(e,l,s){s.r(l),s.d(l,{default:function(){return N}});var a=s(6252),t=s(3577);const o=e=>((0,a.dD)("data-v-14ab3c74"),e=e(),(0,a.Cn)(),e),i={class:"bg"},r={class:"logo-container"},n={class:"go-home-container"},m=(0,a.Uk)("Home"),d={class:"xll-login-container"},u={class:"login-tabs-container"},g={class:"xll-login-form-container"},c={class:"remeber-container"},p=(0,a.Uk)(" Login "),f={class:"facebook-btn-container"},b=(0,a.Uk)(" Facebook Sign in "),_={class:"google-btn-container"},h=(0,a.Uk)(" Google Sign in "),w=o((()=>(0,a._)("div",{class:"xll-ads-container"},null,-1))),y={class:"xll-register-container"},V={class:"login-tabs-container"},v={class:"xll-register-form-container"},W=(0,a.Uk)("Send Code"),F={class:"identity-container"},k=o((()=>(0,a._)("div",{class:"identity-label"},"I am a/an",-1))),C={class:"identity-content"},S=(0,a.Uk)(" Submit "),L={class:"facebook-btn-container"},x=(0,a.Uk)(" Facebook Sign in "),I={class:"google-btn-container"},R=(0,a.Uk)(" Google Sign in "),U=o((()=>(0,a._)("div",{class:"footer-content"},null,-1)));function q(e,l,s,o,q,P){const $=(0,a.up)("el-image"),j=(0,a.up)("router-link"),z=(0,a.up)("el-col"),E=(0,a.up)("el-row"),T=(0,a.up)("el-button"),H=(0,a.up)("el-header"),A=(0,a.up)("el-input"),D=(0,a.up)("el-form-item"),N=(0,a.up)("el-checkbox"),G=(0,a.up)("el-form"),O=(0,a.up)("el-main"),B=(0,a.up)("el-footer"),M=(0,a.up)("el-container");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(M,{class:"login-container"},{default:(0,a.w5)((()=>[(0,a.Wm)(H,{class:"container-1",height:"auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{justify:"center",align:"middle"},{default:(0,a.w5)((()=>[(0,a.Wm)(z,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(j,{class:"logo-title",to:"/"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{class:"logo-img",src:q.imgLogo,fit:"contain"},null,8,["src"])])),_:1})])])),_:1})])),_:1}),(0,a._)("div",n,[(0,a.Wm)(T,{class:"go-home-btn",type:"primary",round:"",onClick:l[0]||(l[0]=e=>P.goHome())},{default:(0,a.w5)((()=>[m])),_:1})])])),_:1}),(0,a.Wm)(O,null,{default:(0,a.w5)((()=>[1==q.showValue?((0,a.wg)(),(0,a.j4)(E,{key:0,class:"xll-login-row-container",justify:"center",align:"middle"},{default:(0,a.w5)((()=>[(0,a.Wm)(z,{xs:10,sm:10,md:10,lg:10,xl:10},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("div",u,[(0,a._)("div",{class:(0,t.C_)(["login-label",1==q.showValue?"login-tab-active":""]),onClick:l[1]||(l[1]=e=>P.switchLoginRegister(1))},"Login",2),(0,a._)("div",{class:(0,t.C_)(["register-label",2==q.showValue?"login-tab-active":""]),onClick:l[2]||(l[2]=e=>P.switchLoginRegister(2))},"Register",2)]),(0,a._)("div",g,[(0,a.Wm)(G,{model:q.loginForm,rules:q.loginRules,ref:"loginForm","label-width":"100px","label-position":"top",class:"demo-ruleForm"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{label:"Username/Email",prop:"email"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{size:"medium",placeholder:"Username/Email",modelValue:q.loginForm.email,"onUpdate:modelValue":l[3]||(l[3]=e=>q.loginForm.email=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(D,{label:"Password",prop:"password"},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{size:"medium",placeholder:"Password",type:"password",modelValue:q.loginForm.password,"onUpdate:modelValue":l[4]||(l[4]=e=>q.loginForm.password=e)},null,8,["modelValue"])])),_:1}),(0,a._)("div",c,[(0,a.Wm)(N,{modelValue:q.remeberValue,"onUpdate:modelValue":l[5]||(l[5]=e=>q.remeberValue=e),label:"Remeber Me",onChange:P.remeberChange},null,8,["modelValue","onChange"])]),(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T,{class:"submit-btn",round:"",type:"primary",loading:q.submitLoginLoadingStatus,onClick:l[6]||(l[6]=e=>P.submitLoginForm("loginForm"))},{default:(0,a.w5)((()=>[p])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"]),(0,a._)("div",f,[(0,a.Wm)(T,{class:"apple-btn",plain:"",round:"",icon:"iconfont  el-icon-alifacebook"},{default:(0,a.w5)((()=>[b])),_:1})]),(0,a._)("div",_,[(0,a.Wm)(T,{class:"google-btn",plain:"",round:"",icon:"iconfont  el-icon-aligoogle"},{default:(0,a.w5)((()=>[h])),_:1})])])])])),_:1}),(0,a.Wm)(z,{xs:14,sm:14,md:14,lg:14,xl:14},{default:(0,a.w5)((()=>[w])),_:1})])),_:1})):(0,a.kq)("",!0),2==q.showValue?((0,a.wg)(),(0,a.j4)(E,{key:1,class:"xll-register-row-container",justify:"center",align:"middle"},{default:(0,a.w5)((()=>[(0,a.Wm)(z,{xs:14,sm:14,md:14,lg:14,xl:14},{default:(0,a.w5)((()=>[(0,a._)("div",y,[(0,a._)("div",V,[(0,a._)("div",{class:(0,t.C_)(["login-label",1==q.showValue?"login-tab-active":""]),onClick:l[7]||(l[7]=e=>P.switchLoginRegister(1))},"Login",2),(0,a._)("div",{class:(0,t.C_)(["register-label",2==q.showValue?"login-tab-active":""]),onClick:l[8]||(l[8]=e=>P.switchLoginRegister(2))},"Register",2)]),(0,a._)("div",v,[(0,a.Wm)(G,{model:q.registerForm,rules:q.registerRules,ref:"registerForm","label-width":"160px","label-position":"top",class:"demo-ruleForm"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{label:"First Name",prop:"first_name",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{size:"medium",placeholder:"First Name",modelValue:q.registerForm.first_name,"onUpdate:modelValue":l[9]||(l[9]=e=>q.registerForm.first_name=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(D,{label:"Last Name",prop:"last_name",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{size:"medium",placeholder:"Last Name",modelValue:q.registerForm.last_name,"onUpdate:modelValue":l[10]||(l[10]=e=>q.registerForm.last_name=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(D,{label:"Email",prop:"email",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{size:"medium",placeholder:"name@domain.com",modelValue:q.registerForm.email,"onUpdate:modelValue":l[11]||(l[11]=e=>q.registerForm.email=e)},{append:(0,a.w5)((()=>[(0,a.Wm)(T,{class:"send-code-btn",loading:q.sendCodeLoading,onClick:P.sendEmailCode},{default:(0,a.w5)((()=>[W])),_:1},8,["loading","onClick"])])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(D,{label:"Email Activation Code",prop:"code",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{size:"medium",placeholder:"6 digit code",modelValue:q.registerForm.code,"onUpdate:modelValue":l[12]||(l[12]=e=>q.registerForm.code=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(D,{label:"Password",prop:"password",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{size:"medium",type:"password",placeholder:"Password",modelValue:q.registerForm.password,"onUpdate:modelValue":l[13]||(l[13]=e=>q.registerForm.password=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(D,{label:"Confirm Password",prop:"c_password",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(A,{size:"medium",type:"password",placeholder:"Confirm",modelValue:q.registerForm.c_password,"onUpdate:modelValue":l[14]||(l[14]=e=>q.registerForm.c_password=e)},null,8,["modelValue"])])),_:1}),(0,a._)("div",F,[k,(0,a._)("div",C,[(0,a._)("div",{class:(0,t.C_)(["identity-btn",1==q.identityValue?"identity-educator-active":""]),onClick:l[15]||(l[15]=e=>P.selectedIdentity(1))},"Educator",2),(0,a._)("div",{class:(0,t.C_)(["identity-btn identity-btn-margin",2==q.identityValue?"identity-business-active":""]),onClick:l[16]||(l[16]=e=>P.selectedIdentity(2))},"Business",2),(0,a._)("div",{class:(0,t.C_)(["identity-btn identity-btn-margin",3==q.identityValue?"identity-vendor-active":""]),onClick:l[17]||(l[17]=e=>P.selectedIdentity(3))},"Vendor",2)])]),(0,a.Wm)(D,null,{default:(0,a.w5)((()=>[(0,a.Wm)(T,{class:"submit-btn",type:"primary",round:"",loading:q.submitRegisterLoadingStatus,onClick:l[18]||(l[18]=e=>P.submitRegisterForm("registerForm"))},{default:(0,a.w5)((()=>[S])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"]),(0,a._)("div",L,[(0,a.Wm)(T,{class:"apple-btn",plain:"",round:"",icon:"iconfont  el-icon-alifacebook"},{default:(0,a.w5)((()=>[x])),_:1})]),(0,a._)("div",I,[(0,a.Wm)(T,{class:"google-btn",plain:"",round:"",icon:"iconfont  el-icon-aligoogle"},{default:(0,a.w5)((()=>[R])),_:1})])])])])),_:1})])),_:1})):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(B,{class:"footer-container",height:"auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{justify:"center",align:"middle"},{default:(0,a.w5)((()=>[(0,a.Wm)(z,{xs:12,sm:12,md:12,lg:8,xl:6},{default:(0,a.w5)((()=>[U])),_:1})])),_:1})])),_:1})])),_:1})])}var P=s(6949),$=s(43),j=s(2119),z=s(9669),E=s.n(z),T=s(3476),H={name:"index",data(){return{imgLogo:P,shanghaiImg:T,loginForm:{email:""},loginRules:{email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},submitLoginLoadingStatus:!1,submitRegisterLoadingStatus:!1,humanVerifyStatus:!0,remeberValue:!1,registerForm:{first_name:"",last_name:"",email:"",code:"",password:"",c_password:""},registerRules:{first_name:[{required:!0,message:"Please fill out your first name.",trigger:"blur"}],last_name:[{required:!0,message:"Please fill out your last name.",trigger:"blur"}],code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],email:[{required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],c_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},identityValue:0,sendCodeLoading:!1,showValue:1}},components:{},setup(){let e=(0,j.tv)(),l=(0,j.yj)();const s=()=>(console.log(l.query),l.query),a=()=>e.push({path:"/"});let t=l.query.type;const o=t||1;return{getParams:s,skipHomePage:a,showType:o}},created(){this.showValue=this.showType,console.log(this.showValue)},methods:{goHome(){this.$router.push("/home")},remeberChange(e){console.log(e)},humanVerify(e,l){console.log(l),this.$loading({text:"Loading..."});let s=new FormData;s.append("secret","0x55587f4f237ef6B48A96284Ee257D0AA3d828508"),s.append("response",e),E().post("/siteverify",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:"/hcaptcha",timeout:1e5}).then((e=>{console.log(e),e.success?(this.$loading().close(),this.humanVerifyStatus=!0,this.$message.success("Success")):(this.$message.error("Fail"),this.$loading().close())}))},sendEmailCode(){let e=this,l=this.registerForm.email;if(l){let s={email:l};e.sendCodeLoading=!0,(0,$.h1)(s).then((l=>{200==l.code&&setTimeout((function(){e.sendCodeLoading=!1,e.$message.success("Success")}),1500)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))}},selectedIdentity(e){console.log(e),this.identityValue=e},submitLoginForm(e){let l=this;l.humanVerifyStatus&&(this.submitLoginLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoginLoadingStatus=!1,!1;{let e=Object.assign({},this.loginForm);(0,$.Ym)(e).then((e=>{if(200==e.code){localStorage.setItem("token",e.message.token),localStorage.setItem("uid",e.message.id),localStorage.setItem("identity",e.message.identity),localStorage.setItem("language",e.message.language),localStorage.setItem("email",e.message.email);let s=e.message.identity;if(0==s&&localStorage.setItem("name","Guest"),1==s){let l=e.message.educator.first_name,s=e.message.educator.last_name;localStorage.setItem("name",l+" "+s),localStorage.setItem("first_name",l),localStorage.setItem("last_name",s)}if(2==s){let l=e.message.business.first_name,s=e.message.business.last_name;localStorage.setItem("name",l+" "+s),localStorage.setItem("first_name",l),localStorage.setItem("last_name",s)}if(3==s){let l=e.message.vendor.first_name,s=e.message.vendor.last_name;localStorage.setItem("name",l+" "+s),localStorage.setItem("first_name",l),localStorage.setItem("last_name",s)}setTimeout((function(){l.skipHomePage(),l.submitLoginLoadingStatus=!1}),1500)}})).catch((e=>{console.log(e),this.$message.error(e.msg)}))}})))},submitRegisterForm(e){let l=this;this.submitRegisterLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitRegisterLoadingStatus=!1,!1;{let e=Object.assign({identity:l.identityValue},this.registerForm);(0,$.OX)(e).then((e=>{console.log(e),200==e.code&&(this.$message.success("Registration completed!"),location.reload())})).catch((e=>{console.log(e),this.$message.error(e.msg)})),setTimeout((function(){l.submitRegisterLoadingStatus=!1}),2e3)}}))},resetForm(e){this.$refs[e].resetFields()},switchLoginRegister(e){this.showValue=e}}},A=s(8118);const D=(0,A.Z)(H,[["render",q],["__scopeId","data-v-14ab3c74"]]);var N=D},3476:function(e,l,s){e.exports=s.p+"img/bg-shanghai.9d301392..jpg"}}]);
//# sourceMappingURL=525.45808c1d.js.map