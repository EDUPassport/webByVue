"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[256],{3256:function(e,a,t){t.r(a),t.d(a,{default:function(){return E}});var s=t(6252),o=t(3577);const l=e=>((0,s.dD)("data-v-57714797"),e=e(),(0,s.Cn)(),e),i={class:"bg"},n={class:"job-title"},c={class:"job-address-salary"},d={class:"job-address"},r={class:"job-desc-container"},g=l((()=>(0,s._)("div",{class:"job-desc-label"},"Deal Description",-1))),m=l((()=>(0,s._)("div",{class:"job-desc-label-underline"},null,-1))),u={class:"job-desc-content"},v={key:0,class:"job-tags"},p={class:"address-container"},_=l((()=>(0,s._)("div",{class:"address-label"},"Address & Location",-1))),h=l((()=>(0,s._)("div",{class:"address-label-underline"},null,-1))),b={class:"address-content"},D={class:"address-address"},k=l((()=>(0,s._)("b",null,"Address:",-1))),y=l((()=>(0,s._)("div",{class:"address-location"},[(0,s._)("b",null,"Location: "),(0,s._)("div",{class:"map-container"},[(0,s._)("div",{id:"mapContainer",class:"basemap"})])],-1))),f={class:"deals-detail-share-container"},w=l((()=>(0,s._)("i",{class:"iconfont el-icon-alixll-heart-filled xll-heart-icon"},null,-1))),I=[w],C=l((()=>(0,s._)("i",{class:"iconfont el-icon-alixll-heart xll-heart-icon"},null,-1))),j=[C],x={class:"company-bio-container"},F=l((()=>(0,s._)("div",{class:"company-bio-label"},"Company Bio",-1))),J=l((()=>(0,s._)("div",{class:"company-bio-label-underline"},null,-1))),L={class:"company-bio-content"},z={class:"company-logo-container"},S={key:0,class:"company-bio-text"},q={key:0,class:"contact-container"},W=l((()=>(0,s._)("div",{class:"contact-label"},"Contact Person",-1))),$={class:"contact-content"},T={class:"contact-l"},M={class:"contact-r"},V={class:"contact-r-t"},B={class:"contact-r-b"},H=(0,s.Uk)("Let's Chat!");function U(e,a,t,l,w,C){const U=(0,s.up)("el-col"),A=(0,s.up)("el-image"),G=(0,s.up)("el-button"),N=(0,s.up)("el-row");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",null,[(0,s.Wm)(N,{class:"detail-row",align:"top",justify:"start"},{default:(0,s.w5)((()=>[(0,s.Wm)(U,{class:"detail-l-col",xs:24,sm:24,md:16,lg:16,xl:16},{default:(0,s.w5)((()=>[(0,s._)("div",n,(0,o.zw)(w.detailData.title),1),(0,s._)("div",c,[(0,s._)("div",d,(0,o.zw)(w.detailData.location),1)]),(0,s._)("div",r,[g,m,(0,s._)("div",u,(0,o.zw)(w.detailData.desc),1),w.detailData.tags?((0,s.wg)(),(0,s.iD)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(w.detailData.tags,((e,a)=>((0,s.wg)(),(0,s.iD)("div",{class:"job-tag",key:a},(0,o.zw)(e.tag_name_en),1)))),128))])):(0,s.kq)("",!0)]),(0,s._)("div",p,[_,h,(0,s._)("div",b,[(0,s._)("div",D,[k,(0,s._)("span",null,(0,o.zw)(w.detailData.location),1)]),y])]),(0,s._)("div",f,[1==w.isFavoriteValue?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"deals-favorite",onClick:a[0]||(a[0]=e=>C.cancelFavorite(2,w.detailData.id))},I)):((0,s.wg)(),(0,s.iD)("div",{key:1,class:"deals-favorite",onClick:a[1]||(a[1]=e=>C.addFavorite(w.detailData.id,2,w.detailData.title,w.detailData.userInfo.logo))},j))])])),_:1}),(0,s.Wm)(U,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,s.w5)((()=>[(0,s._)("div",x,[F,J,(0,s._)("div",L,[(0,s._)("div",z,[w.detailData.userInfo?((0,s.wg)(),(0,s.j4)(A,{key:0,class:"company-logo",src:w.detailData.userInfo.logo},null,8,["src"])):(0,s.kq)("",!0)]),w.detailData.userInfo?((0,s.wg)(),(0,s.iD)("div",S,(0,o.zw)(w.detailData.userInfo.vendor_bio),1)):(0,s.kq)("",!0)])]),w.detailData.userInfo?((0,s.wg)(),(0,s.iD)("div",q,[W,(0,s._)("div",$,[(0,s._)("div",T,[(0,s.Wm)(A,{class:"contact-profile-photo",src:w.detailData.userInfo.profile_photo},null,8,["src"])]),(0,s._)("div",M,[(0,s._)("div",V," Hi I am "+(0,o.zw)(w.detailData.userInfo.first_name)+" from "+(0,o.zw)(w.detailData.userInfo.vendor_name_en)+". ",1),(0,s._)("div",B,[(0,s.Wm)(G,{type:"primary"},{default:(0,s.w5)((()=>[H])),_:1})])])])])):(0,s.kq)("",!0)])),_:1})])),_:1})])])}var A=t(6158),G=t.n(A),N=t(9651),O=t.n(N),Q=t(43),R={name:"detail",data(){return{accessToken:"pk.eyJ1Ijoic3JrbGluZ2UiLCJhIjoiY2t2NnR4anI2OWU5NDJ3bWE1dHd3c3h1aSJ9.O0JfjqiyBBkFuf4G-DQ-DQ",mapStyle:"mapbox://styles/mapbox/streets-v11",detailData:{},otherJobsData:[],isFavoriteValue:0}},components:{},mounted(){let e=this.$route.query.id;this.getDealDetail(e);let a=localStorage.getItem("token");a&&""!=a&&this.isFavorite(2,e)},methods:{initMap(e,a){G().accessToken=this.accessToken;const t=new(G().Map)({container:"mapContainer",center:[e,a],style:this.mapStyle,zoom:12}),s=new(G().NavigationControl);t.addControl(s,"top-right");const o=new(G().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});t.addControl(o,"top-right");const l=new(O())({accessToken:this.accessToken,mapboxgl:G()});t.addControl(l,"top-left");const i=new(G().Marker);i.setLngLat([e,a]).addTo(t)},getDealDetail(e){let a={deal_id:e,token:localStorage.getItem("token")};(0,Q.kR)(a).then((e=>{if(console.log(e),200==e.code){this.detailData=e.message,this.initMap(e.message.lng,e.message.lat);let a=e.message.user_id;this.getCompanyJobList(a)}})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getCompanyJobList(e){let a={user_id:e,is_open:1,status:1,page:1,limit:5};(0,Q.kM)(a).then((e=>{console.log(e),200==e.code&&(this.otherJobsData=e.message.data)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},addFavorite(e,a,t,s){let o={token:localStorage.getItem("token"),type:a,type_id:e,type_title:t,type_url:s};(0,Q.q8)(o).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.isFavoriteValue=1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},cancelFavorite(e,a){let t={token:localStorage.getItem("token"),type:e,type_id:a};(0,Q.Bv)(t).then((e=>{console.log(e),200==e.code&&(this.isFavoriteValue=0)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},isFavorite(e,a){let t={token:localStorage.getItem("token"),type:e,type_id:a};(0,Q.Lr)(t).then((e=>{console.log(e),200==e.code&&(this.isFavoriteValue=e.data)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))}}},Y=t(8118);const Z=(0,Y.Z)(R,[["render",U],["__scopeId","data-v-57714797"]]);var E=Z}}]);
//# sourceMappingURL=256.39696bd1.js.map