"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[788],{50988:function(e,s,t){var i=t(66252);const o={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},a=(0,i._)("path",{fill:"currentColor",d:"M19 2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h4l3 3l3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 16h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 11.9 13 12.5 13 14h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41c0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},null,-1),l=[a];function n(e,s){return(0,i.wg)(),(0,i.iD)("svg",o,l)}s["Z"]={name:"ic-baseline-live-help",render:n}},86152:function(e,s,t){t.r(s),t.d(s,{default:function(){return K}});var i=t(61708),o=t(27033),a=t(66252),l=t(56612);const n=e=>((0,a.dD)("data-v-39d9cf72"),e=e(),(0,a.Cn)(),e),c={class:"container"},r={class:"deals-from-t"},m={key:0,class:"deals-from-back"},d=(0,a.Uk)(" BACK TO SEARCH RESULTS "),u={key:1,class:"deals-from-back"},g=(0,a.Uk)(" EXIT PREVIEW "),f={class:"deals-from-label"},h={class:"deals-from-b"},p={class:"deals-item-bg"},_={class:"img-slot-background"},b=["onClick"],y=n((()=>(0,a._)("i",{class:"iconfont el-icon-alixll-heart-filled xll-heart-icon"},null,-1))),k=[y],v=["onClick"],w=n((()=>(0,a._)("i",{class:"iconfont el-icon-alixll-heart xll-heart-icon"},null,-1))),D=[w],C={class:"deals-item-c"},W={class:"deals-item-c-l"},L={class:"deals-item-c-r"},I={class:"deals-item-c-r-1"},S=["onClick"],z={class:"deals-item-b"},P={class:"deals-item-b-l"},B=(0,a.Uk)(" unknown "),E={class:"deals-item-b-r"},R=(0,a.Uk)(" DETAILS ");function $(e,s,t,i,o,n){const y=(0,a.up)("ArrowLeft"),w=(0,a.up)("el-icon"),$=(0,a.up)("el-button"),A=(0,a.up)("Picture"),T=(0,a.up)("el-image"),x=(0,a.up)("el-avatar"),M=(0,a.up)("el-empty"),N=(0,a.up)("el-scrollbar");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(N,{class:"deals-from-bg-container"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[t.fromVendorProfile?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",m,[(0,a.Wm)($,{class:"deals-from-back-btn",onClick:s[0]||(s[0]=e=>n.backToSearchResults()),link:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y)])),_:1}),d])),_:1})])),t.fromVendorProfile?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)($,{class:"deals-from-back-btn",onClick:s[1]||(s[1]=e=>n.backToSearchResults()),link:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y)])),_:1}),g])),_:1})])):(0,a.kq)("",!0),(0,a._)("div",f," Deals from "+(0,l.zw)(t.info.company_name),1)]),(0,a._)("div",h,[t.listData.length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(t.listData,((s,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"deals-from-item",key:t},[(0,a._)("div",p,[(0,a.Wm)(T,{class:"deals-item-background-img",src:s.company_info.background_image?s.company_info.background_image:"",fit:"cover"},{error:(0,a.w5)((()=>[(0,a._)("div",_,[(0,a.Wm)(w,{size:80,color:"#808080"},{default:(0,a.w5)((()=>[(0,a.Wm)(A)])),_:1})])])),_:2},1032,["src"]),s.is_favorite&&1==s.is_favorite?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"deals-item-favorite",onClick:i=>e.cancelFavorite(2,s.id,t)},k,8,b)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:"deals-item-favorite",onClick:i=>e.addFavorite(s.id,2,s.title,s.company_logo,t)},D,8,v))]),(0,a._)("div",C,[(0,a._)("div",W,[(0,a.Wm)(x,{class:"deals-logo",src:s.company_logo},null,8,["src"])]),(0,a._)("div",L,[(0,a._)("div",I,(0,l.zw)(s.company_name),1),(0,a._)("div",{class:"deals-item-c-r-2",onClick:e=>n.showDealDetailDialog(s)},(0,l.zw)(s.title),9,S)])]),(0,a._)("div",z,[(0,a._)("div",P,[s.company_info.category_name_en&&"0"!=s.company_info.category_name_en?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)((0,l.zw)(s.company_info.category_name_en),1)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[B],64))]),(0,a._)("div",E,[(0,a.Wm)($,{link:"",onClick:e=>n.showDealDetailDialog(s)},{default:(0,a.w5)((()=>[R])),_:2},1032,["onClick"])])])])))),128)):((0,a.wg)(),(0,a.j4)(M,{key:1,description:"..."}))])])),_:1})])}var A={name:"dealByListComponent",props:["listData","info","fromVendorProfile"],methods:{backToSearchResults(){this.$emit("back")},showDealDetailDialog(e){this.$emit("detail",e)}}},T=t(48118);const x=(0,T.Z)(A,[["render",$],["__scopeId","data-v-39d9cf72"]]);var M=x,N=t(56995);const Z={class:"business-profile-container"},j={class:"business-profile-l"},F={class:"business-profile-r"},H={class:"business-deals"};function U(e,s,t,l,n,c){const r=N.Z,m=M,d=(0,a.up)("el-col"),u=o.Z,g=i.Z,f=(0,a.up)("el-scrollbar"),h=(0,a.up)("el-row");return(0,a.wg)(),(0,a.iD)("div",Z,[(0,a._)("div",j,[(0,a.Wm)(r)]),(0,a._)("div",F,[(0,a.Wm)(h,{gutter:0,align:"top",justify:"space-between"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{xs:0,sm:0,md:8,lg:9,xl:8},{default:(0,a.w5)((()=>[(0,a._)("div",H,[(0,a.Wm)(m,{listData:n.dealsListData,"from-vendor-profile":!0,onBack:c.backToSearchResults,onDetail:c.showDealDetailDialog,info:n.companyInfo},null,8,["listData","onBack","onDetail","info"])])])),_:1}),(0,a.Wm)(d,{xs:24,sm:24,md:16,lg:15,xl:16},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{info:n.companyInfo,identity:c.identity},null,8,["info","identity"]),(0,a.Wm)(f,{class:"business-profile"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{info:n.companyInfo,identity:c.identity,fromMe:!0},null,8,["info","identity"])])),_:1})])),_:1})])),_:1})])])}var V=t(41836),q=t(44276),J=t(42576),Y={name:"profile",components:{meSideMenu:N.Z,businessProfile:i.Z,dealByListComponent:M,businessProfileActionWithPreview:o.Z},computed:{identity:{get(){return this.$store.state.identity}}},data(){return{profilePercentage:0,userContact:{},companyContact:{},companyInfo:{},dealsListData:[]}},unmounted(){(0,J.lJ)(),window.onresize=null},mounted(){let e=document.body.clientWidth,s=Math.floor(e);s<=768&&(0,J.lJ)(),window.onresize=()=>{s<=768&&(0,J.lJ)()};let t=this.$route.query.str;t&&console.log((0,q.Jx)(t)),this.getUserInfo(),this.updateBusinessProfile(),this.getDealsList(1,1e3)},methods:{getDealsList(e,s){let t=this.filterResultData,i={page:e,limit:s},o=Object.assign(i,t);(0,V.Jq)(o).then((e=>{console.log(e),200==e.code&&(this.dealsListData=e.message.data,this.dealTotalNum=e.message.total,this.showLoadingStatus=!1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},backToSearchResults(){this.$router.push("/account/home")},showDealDetailDialog(){},updateBusinessProfile(){let e={token:localStorage.getItem("token")};(0,V.OH)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getUserInfo(){let e=localStorage.getItem("identity"),s={identity:e};(0,V.Lk)(s).then((s=>{if(console.log(s),200==s.code){let t=s.message.user_contact,i=s.message.user_contact.company;if(2==e&&(this.profilePercentage=t.is_recruiting),3==e&&(this.profilePercentage=t.is_school),4==e&&(this.profilePercentage=t.is_other),i&&(this.companyInfo=i,i.benefits)){let e=i.benefits;e.forEach(((s,t)=>{e[t].id=s.object_id,e[t].pid=s.object_pid})),this.selectBenefitsList=e,this.benefitsList=i.benefits}t&&(this.userContact=t);let o=i.images;this.accountImageFileList=[],o&&o.forEach((e=>{let s={name:"",url:e.url};this.accountImageFileList.push(s)}))}})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},addFavorite(e,s,t,i,o){let a={token:localStorage.getItem("token"),type:s,type_id:e,type_title:t,type_url:i};(0,V.q8)(a).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.jobListData[o]["is_favorite"]=1)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},cancelFavorite(e,s,t){let i={token:localStorage.getItem("token"),type:e,type_id:s};(0,V.Bv)(i).then((e=>{console.log(e),200==e.code&&(this.jobListData[t]["is_favorite"]=0)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},async submitEduBusinessCompanyForm(){let e=localStorage.getItem("uid"),s=[{zf_referrer_name:""},{zf_redirect_url:""},{zc_gad:""},{SingleLine:this.companyInfo.company_name},{Dropdown2:""},{Dropdown:"Education Business"},{Website:""},{SingleLine1:""},{Number2:""},{SingleLine5:e},{PhoneNumber_countrycode:""},{Email:""},{Number:""},{Number1:""},{Dropdown1:""},{Address_AddressLine1:""},{Address_City:""},{Address_Region:""},{Address_Country:""},{SingleLine4:""},{MultiLine:""},{SingleLine3:""},{Number3:""},{Number4:""},{MultipleChoice:""},{MultiLine1:""},{MultiLine2:""},{Website1:""},{Website2:this.companyInfo.logo},{Website3:this.companyInfo.background_image}],t={zoho_data:s,zoho_url:"https://forms.zohopublic.com/edupassport/form/EduBusinessCompanyForm/formperma/2gsVgXjDNmE5niOKVzRmwT2tlYNWWCTD2kCDHv_CAV8/htmlRecords/submit"};await(0,V.Qi)(t).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}}};const O=(0,T.Z)(Y,[["render",U],["__scopeId","data-v-a92162a6"]]);var K=O}}]);
//# sourceMappingURL=788.a2ba51a1.js.map