"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[2280],{56902:function(e,t,o){var n=o(66252);const i={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 262",width:"1.2em",height:"1.2em"},l=(0,n._)("path",{fill:"#4285F4",d:"M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622l38.755 30.023l2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"},null,-1),s=(0,n._)("path",{fill:"#34A853",d:"M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055c-34.523 0-63.824-22.773-74.269-54.25l-1.531.13l-40.298 31.187l-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"},null,-1),a=(0,n._)("path",{fill:"#FBBC05",d:"M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82c0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"},null,-1),r=(0,n._)("path",{fill:"#EB4335",d:"M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0C79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"},null,-1),c=[l,s,a,r];function u(e,t){return(0,n.wg)(),(0,n.iD)("svg",i,c)}t["Z"]={name:"logos-google-icon",render:u}},78283:function(e,t,o){o.d(t,{Dk:function(){return s},ie:function(){return l},p6:function(){return i}});var n=o(44276);function i(e){e=e||Date.now();let t=new Date(e),o=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1;return o+="-",o+=t.getDate()<10?"0"+t.getDate():t.getDate(),o+=" ",o+=t.getHours(),o+=":",o+=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),o}function l(e){return encodeURIComponent((0,n.cv)(e))}function s(e){return(0,n.Jx)(decodeURIComponent(e))}},18162:function(e,t,o){o.r(t),o.d(t,{default:function(){return Y}});var n=o(62146),i=o(56902),l=o(66252),s=o(58061);const a=e=>((0,l.dD)("data-v-1e6e7372"),e=e(),(0,l.Cn)(),e),r={class:"signup-bg"},c={class:"signup-m"},u={class:"signup-back-btn-container"},g=(0,l.Uk)(" Back "),m=a((()=>(0,l._)("div",{class:"signup-m-label"},"Let’s get started",-1))),d=a((()=>(0,l._)("div",{class:"signup-m-tips"}," Just a few more details, we're almost there. ",-1))),p=a((()=>(0,l._)("div",{class:"signup-m-label"},"Let’s get started",-1))),f=a((()=>(0,l._)("div",{class:"signup-m-tips"}," Tell us about yourself a bit. ",-1))),_=a((()=>(0,l._)("div",{class:"signup-m-label"},"Let’s get started",-1))),y=a((()=>(0,l._)("div",{class:"signup-m-tips"}," Tell us about yourself a bit. ",-1))),h=a((()=>(0,l._)("div",{class:"signup-m-label"},"Let’s get started",-1))),v=a((()=>(0,l._)("div",{class:"signup-m-tips"}," Tell us about yourself a bit. ",-1))),k=a((()=>(0,l._)("div",{class:"signup-m-label"},"Let’s get started",-1))),b=a((()=>(0,l._)("div",{class:"signup-m-tips"}," Tell us about yourself a bit. ",-1))),w={class:"signup-m-form"},S={class:"continue-btn-container"},I=(0,l.Uk)(" Confirm "),C={class:"xll-divider"},D=(0,l.Uk)("OR"),W={class:"sign-in-btn-container"},T=(0,l.Uk)(" Sign up with Google "),x=a((()=>(0,l._)("div",{class:"signup-b"},[(0,l._)("div",{class:"signup-copyright"}," © EDU Passport 2023 ")],-1))),F={class:"signup-r-container"},H=a((()=>(0,l._)("div",{class:"signup-r-label"}," Signup Progress ",-1)));function L(e,t,o,a,L,M){const q=(0,l.up)("el-image"),z=(0,l.up)("Back"),U=(0,l.up)("el-icon"),B=(0,l.up)("el-button"),O=(0,l.up)("el-input"),R=(0,l.up)("el-form-item"),j=(0,l.up)("el-divider"),E=i.Z,J=(0,l.up)("GoogleLogin"),Y=(0,l.up)("el-form"),Z=(0,l.up)("el-col"),N=n.Z,G=(0,l.up)("el-row");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(G,{justify:"center",align:"top",class:"signup-container"},{default:(0,l.w5)((()=>[(0,l.Wm)(Z,{class:"signup-l-col",xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,l.w5)((()=>[(0,l._)("div",{class:"signup-t",onClick:t[0]||(t[0]=e=>a.turnHome())},[(0,l.Wm)(q,{class:"signup-t-logo",src:L.imgLogo},null,8,["src"])]),(0,l._)("div",c,[(0,l._)("div",u,[(0,l.Wm)(B,{size:"small",plain:"",onClick:t[1]||(t[1]=e=>a.turnBack())},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{style:{"margin-right":"10px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(z)])),_:1}),g])),_:1})]),"educator"===a.userType?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[m,d],64)):(0,l.kq)("",!0),"school"===a.userType?((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[p,f],64)):(0,l.kq)("",!0),"recruiter"===a.userType?((0,l.wg)(),(0,l.iD)(l.HY,{key:2},[_,y],64)):(0,l.kq)("",!0),"other"===a.userType?((0,l.wg)(),(0,l.iD)(l.HY,{key:3},[h,v],64)):(0,l.kq)("",!0),"vendor"===a.userType?((0,l.wg)(),(0,l.iD)(l.HY,{key:4},[k,b],64)):(0,l.kq)("",!0),(0,l._)("div",w,[(0,l.Wm)(Y,{model:a.signForm,rules:a.signRules,onSubmit:t[5]||(t[5]=(0,s.iM)((()=>{}),["prevent"])),ref:"signForms","label-width":"100px","label-position":"top",class:"demo-ruleForm"},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{label:"Email",prop:"email"},{default:(0,l.w5)((()=>[(0,l.Wm)(O,{placeholder:"Enter your email",onKeyup:t[2]||(t[2]=(0,s.D2)((e=>a.confirmForm(a.signForms)),["enter"])),modelValue:a.signForm.email,"onUpdate:modelValue":t[3]||(t[3]=e=>a.signForm.email=e)},null,8,["modelValue"])])),_:1}),(0,l._)("div",S,[(0,l.Wm)(B,{class:"continue-btn",size:"large",type:"primary",loading:a.confirmLoadingStatus,onClick:t[4]||(t[4]=e=>a.confirmForm(a.signForms))},{default:(0,l.w5)((()=>[I])),_:1},8,["loading"])]),(0,l._)("div",C,[(0,l.Wm)(j,{"content-position":"center"},{default:(0,l.w5)((()=>[D])),_:1})]),(0,l._)("div",W,[(0,l.Wm)(J,{style:{width:"100%"},class:"login-option-btn",callback:a.googleSignUpWithCode},{default:(0,l.w5)((()=>[(0,l.Wm)(B,{size:"large",loading:a.submitGoogleLoadingStatus,plain:"",style:{width:"100%"}},{icon:(0,l.w5)((()=>[(0,l.Wm)(U,null,{default:(0,l.w5)((()=>[(0,l.Wm)(E)])),_:1})])),default:(0,l.w5)((()=>[T])),_:1},8,["loading"])])),_:1},8,["callback"])])])),_:1},8,["model","rules"])])]),x])),_:1}),(0,l.Wm)(Z,{class:"signup-r-col",xs:0,sm:0,md:12,lg:12,xl:12},{default:(0,l.w5)((()=>[(0,l._)("div",F,[H,(0,l.Wm)(N,{userType:a.userType,"step-index":a.userStepIndex},null,8,["userType","step-index"])])])),_:1})])),_:1})])}var M=o(9575),q=o(28339),z=o(62931),U=o(33907),B=o(78283),O=o(76552),R=o(41836),j={name:"accountCreation",components:{stepComponent:n.Z},data(){return{imgLogo:M}},setup(){const e=(0,q.tv)(),t=(0,q.yj)(),o=(0,U.oR)(),n=t.query.type,i=(0,z.iH)(3),s=(0,z.iH)(!1),a=(0,z.iH)(!1);function r(){return e.push("/")}function c(){return e.push("/login")}const u=(0,z.iH)(null),g=(0,z.qj)({email:""}),m=(0,z.qj)({email:[{type:"email",required:!0,message:"Enter a valid email address",trigger:"blur"}]});function d(){e.go(-1)}function p(o){a.value=!0;let i=window.location.origin;console.log(o);let l=(0,B.Dk)(t.query.formInfo),s=JSON.parse(l),r={code:o.code,redirect_uri:i};"educator"===n?r.identity=1:"school"===n?r.identity=3:"recruiter"===n?r.identity=2:"other"===n?r.identity=4:"vendor"===n&&(r.identity=5);let c=Object.assign(r,s);console.log(c),(0,R.FI)(c).then((t=>{200===t.code&&(f(t.message),setTimeout((function(){e.push({path:"/overview"}),a.value=!1}),1500))})).catch((e=>{console.log(e),a.value=!1}))}function f(e){let t=e.identity,n=e.first_name,i=e.last_name,l="https://oss.esl-passport.cn/educator.png",s=e.company_id,a=n+" "+i,r="",c=0;localStorage.setItem("token",e.token),localStorage.setItem("uid",e.id),localStorage.setItem("identity",e.identity),localStorage.setItem("language",e.language),localStorage.setItem("email",e.email),localStorage.setItem("company_id",e.company_id),localStorage.setItem("name",a),localStorage.setItem("first_name",n),localStorage.setItem("last_name",i),1==t&&(l=e.headimgurl,r=n+" "+i,c=e.is_educator,v()),2==t&&(l=e.recruiting_info.logo,r=e.recruiting_info.company_name,c=e.is_recruiting,k()),3==t&&(l=e.school_info.logo,r=e.school_info.company_name,c=e.is_school,b()),4==t&&(l=e.other_info.logo,r=e.other_info.company_name,c=e.is_other,w()),5==t&&(l=e.vendor_info.logo,c=e.is_vendor,r=e.vendor_info.company_name,S()),localStorage.setItem("profile_percentage",c),o.commit("currentCompanyId",e.company_id),o.commit("setProfilePercentage",c),e.third_company_id&&(localStorage.setItem("thirdCompanyId",e.third_company_id),o.commit("thirdCompanyId",e.third_company_id)),o.commit("username",a),o.commit("userAvatar",l),o.commit("identity",e.identity),o.commit("companyName",r),o.commit("changeThirdCompanyStatus",e.is_third_company),y(e.id,t,s,n,i,l),h(e.id,t,e.company_id,e.id)}const _=e=>o.commit("currentUser",e);function y(e,t,o,n,i,l){let s=e+"#"+t+"#"+o,a=n+" "+i,r={uuid:s,name:a,avatar:l};_(r)}function h(e,t,n,i){let l={user_id:e,identity:t,company_id:n,create_user_id:i,page:1,limit:1e3};(0,R.$Z)(l).then((e=>{if(200===e.code){let t=JSON.stringify(e.message);localStorage.setItem("menuData",t),o.commit("menuData",e.message)}})).catch((e=>{console.log(e)}))}function v(){let e={token:localStorage.getItem("token")};(0,R.nr)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),(0,O.z8)({type:"error",message:e.msg,grouping:!0})}))}function k(){let e={token:localStorage.getItem("token")};(0,R.H7)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),(0,O.z8)({type:"error",message:e.msg,grouping:!0})}))}function b(){let e={token:localStorage.getItem("token")};(0,R.kg)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),(0,O.z8)({type:"error",message:e.msg,grouping:!0})}))}function w(){let e={token:localStorage.getItem("token")};(0,R.yx)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),(0,O.z8)({type:"error",message:e.msg,grouping:!0})}))}function S(){let e={token:localStorage.getItem("token")};(0,R.OH)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),(0,O.z8)({type:"error",message:e.msg,grouping:!0})}))}function I(o){o.validate((o=>{if(!o)return console.log("error submit!!"),(0,O.z8)({type:"warning",message:"Enter a valid email address",grouping:!0}),!1;{s.value=!0;let o={email:g.email};(0,R.h1)(o).then((o=>{if(200==o.code){let o=(0,B.Dk)(t.query.formInfo),i=JSON.parse(o),l=Object.assign(i,g),a=(0,B.ie)(JSON.stringify(l));e.push({path:"/signup/accountVerification",query:{type:n,formInfo:a}}),s.value=!1}})).catch((e=>{console.log(e),s.value=!1,e.msg?(0,O.z8)({type:"warning",message:e.msg,grouping:!0}):e.message&&(0,O.z8)({type:"warning",message:e.message,grouping:!0})}))}}))}return(0,l.bv)((()=>{"school"!==n&&"recruiter"!==n&&"other"!==n||(i.value=4)})),{userStepIndex:i,signForms:u,signForm:g,signRules:m,userType:n,confirmLoadingStatus:s,turnBack:d,confirmForm:I,turnHome:r,backToLogin:c,googleSignUpWithCode:p,submitGoogleLoadingStatus:a}}},E=o(48118);const J=(0,E.Z)(j,[["render",L],["__scopeId","data-v-1e6e7372"]]);var Y=J}}]);
//# sourceMappingURL=2280.7e00095d.js.map