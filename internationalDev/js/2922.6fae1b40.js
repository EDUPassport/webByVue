"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[2922],{42576:function(e,t,o){function i(){let e=window.innerHeight,t=document.querySelector(":root");e>0&&t&&t.style.setProperty("--i-window-height",`${e}px`)}o.d(t,{$C:function(){return r},B3:function(){return c},CL:function(){return d},H7:function(){return s},N8:function(){return a},Wv:function(){return l},l:function(){return n},lJ:function(){return i}});const a=e=>{let t=e.split(" "),o=t[1],i=o.slice(0,-3);return i},l=(e,t)=>(e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t)?"-":t>0?Math.round((e-t)/t*1e4)/100:0===t?Math.round(1e4*(e-t))/100:0),s=e=>new Intl.NumberFormat("en-IN").format(e),r=()=>{let e=new Date,t=e.getFullYear(),o=e.getMonth()+1,i=e.getDate();return t+"-"+o+"-"+i},n=e=>{let t=new Date,o=new Date(t.getTime()-24*e*3600*1e3),i=o.getFullYear(),a=o.getMonth()+1,l=o.getDate();return i+"-"+a+"-"+l},c=e=>{let t=new Date,o=[];for(let i=1;i<=e;i++){let e=new Date(t.getTime()-24*i*3600*1e3),a=e.getFullYear(),l=e.getMonth()+1,s=e.getDate(),r=a+"-"+l+"-"+s;o.push([r,0])}return o},d=e=>{let t=new Date(e),o=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return o+"-"+i+"-"+a}},81025:function(e,t,o){o.r(t),o.d(t,{default:function(){return jt}});var i=o(20261),a=o(66252),l=o(56612);const s={key:0},r={class:"switch-container"},n={class:"forgot-form-container"},c={class:"xll-input-container"},d={class:"xll-input-input"},u={class:"submit-container"},m=(0,a.Uk)(" Submit "),h={class:"xll-input-container"},g={class:"xll-input-input"},p={class:"submit-container"},f=(0,a.Uk)(" Submit ");function b(e,t,o,i,b,y){const w=(0,a.up)("el-input"),_=(0,a.up)("el-form-item"),k=(0,a.up)("el-button"),v=(0,a.up)("el-form"),D=(0,a.up)("el-dialog");return o.isShow?((0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(D,{"model-value":o.isShow,onClose:t[14]||(t[14]=e=>i.handleClose()),title:"Forgot Password",width:b.dialogWidthValue,center:""},{default:(0,a.w5)((()=>[(0,a._)("div",r,[o.showEmail?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,l.C_)(["switch-item",1===i.switchValue?"switch-item-active":""]),onClick:t[0]||(t[0]=e=>i.handleSwitch(1))}," By Email ",2)):(0,a.kq)("",!0),o.showPhone?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,l.C_)(["switch-item",2===i.switchValue?"switch-item-active":""]),onClick:t[1]||(t[1]=e=>i.handleSwitch(2))}," By Phone # ",2)):(0,a.kq)("",!0)]),(0,a._)("div",n,[1===i.switchValue?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(v,{model:b.forgotForm1,rules:b.forgotRules1,ref:"forgotForm1","label-width":"250px","label-position":b.formLabelPosition,class:"demo-ruleForm"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{label:"Email",prop:"email",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{placeholder:"Email",modelValue:b.forgotForm1.email,"onUpdate:modelValue":t[2]||(t[2]=e=>b.forgotForm1.email=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"6 Digit Code",prop:"email_code",required:""},{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a._)("div",d,[(0,a.Wm)(w,{placeholder:"Code",modelValue:b.forgotForm1.email_code,"onUpdate:modelValue":t[3]||(t[3]=e=>b.forgotForm1.email_code=e)},null,8,["modelValue"])]),(0,a.Wm)(k,{class:"xll-input-btn",type:"primary",round:"",loading:i.checkCodeBtn.loading,disabled:i.checkCodeBtn.disabled,onClick:t[4]||(t[4]=e=>y.sendEmailCode("forgotForm1"))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(i.checkCodeBtn.text),1)])),_:1},8,["loading","disabled"])])])),_:1}),(0,a.Wm)(_,{label:"New Password",prop:"password",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{placeholder:"New Password",type:"password",modelValue:b.forgotForm1.password,"onUpdate:modelValue":t[5]||(t[5]=e=>b.forgotForm1.password=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Confirm Password",prop:"confirm_password",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{placeholder:"Confirm Your New Password",type:"password",modelValue:b.forgotForm1.confirm_password,"onUpdate:modelValue":t[6]||(t[6]=e=>b.forgotForm1.confirm_password=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules","label-position"]),(0,a._)("div",u,[(0,a.Wm)(k,{class:"submit-btn",round:"",type:"primary",loading:i.submitLoadingStatus,onClick:t[7]||(t[7]=e=>y.submitForm1("forgotForm1"))},{default:(0,a.w5)((()=>[m])),_:1},8,["loading"])])],64)):(0,a.kq)("",!0),2===i.switchValue?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a.Wm)(v,{model:b.forgotForm2,rules:b.forgotRules2,ref:"forgotForm2","label-width":"250px","label-position":b.formLabelPosition,class:"demo-ruleForm"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{label:"Phone #",prop:"phone",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{placeholder:"Phone #",modelValue:b.forgotForm2.phone,"onUpdate:modelValue":t[8]||(t[8]=e=>b.forgotForm2.phone=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"6 Digit Code",prop:"phone_code",required:""},{default:(0,a.w5)((()=>[(0,a._)("div",h,[(0,a._)("div",g,[(0,a.Wm)(w,{placeholder:"Code",modelValue:b.forgotForm2.phone_code,"onUpdate:modelValue":t[9]||(t[9]=e=>b.forgotForm2.phone_code=e)},null,8,["modelValue"])]),(0,a.Wm)(k,{class:"xll-input-btn",type:"primary",round:"",loading:i.checkCodeBtn.loading,disabled:i.checkCodeBtn.disabled,onClick:t[10]||(t[10]=e=>y.getCheckCode())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(i.checkCodeBtn.text),1)])),_:1},8,["loading","disabled"])])])),_:1}),(0,a.Wm)(_,{label:"New Password",prop:"password",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{placeholder:"New Password",type:"password",modelValue:b.forgotForm2.password,"onUpdate:modelValue":t[11]||(t[11]=e=>b.forgotForm2.password=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(_,{label:"Confirm Password",prop:"confirm_password",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{placeholder:"Confirm Your New Password",type:"password",modelValue:b.forgotForm2.confirm_password,"onUpdate:modelValue":t[12]||(t[12]=e=>b.forgotForm2.confirm_password=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules","label-position"]),(0,a._)("div",p,[(0,a.Wm)(k,{class:"submit-btn",round:"",type:"primary",loading:i.submitLoadingStatus,onClick:t[13]||(t[13]=e=>y.submitForm2("forgotForm2"))},{default:(0,a.w5)((()=>[f])),_:1},8,["loading"])])],64)):(0,a.kq)("",!0)])])),_:1},8,["model-value","width"])])):(0,a.kq)("",!0)}var y=o(62931),w=o(41836),_={name:"forgotPassword",props:{isShow:{type:Boolean,default:!1},showEmail:{type:Boolean,default:!0},showPhone:{type:Boolean,default:!0},emailValue:{type:String,default:""},phoneValue:{type:String,default:""}},setup(e,t){const o=()=>{t.emit("close",!1)},i=(0,y.iH)(1),a=e=>{i.value=e},l=(0,y.iH)(!1);let s=(0,y.qj)({text:"Get Code",loading:!1,disabled:!1,duration:10,timer:null});const r=()=>{10!==s.duration&&(s.disabled=!0,s.loading=!0),s.timer&&clearInterval(s.timer),s.timer=setInterval((()=>{const e=s.duration--;s.text=`${e} S`,s.loading=!0,s.disabled=!0,e<=0&&(clearInterval(s.timer),s.duration=10,s.text="Reacquire",s.disabled=!1,s.loading=!1),console.log(s)}),1e3)};return{handleClose:o,switchValue:i,handleSwitch:a,getCheckCodeTimer:r,checkCodeBtn:s,submitLoadingStatus:l}},data(){return{formLabelPosition:"left",dialogWidthValue:"50%",forgotForm1:{email:"",email_code:"",password:"",confirm_password:""},forgotRules1:{email_code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],email:[{type:"email",required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],confirm_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},forgotForm2:{phone:"",phone_code:"",password:"",confirm_password:""},forgotRules2:{phone_code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],phone:[{required:!0,message:"Please fill out your phone #.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],confirm_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]}}},mounted(){let e=document.body.clientWidth;Math.floor(e)<=768&&(this.dialogWidthValue="90%",this.formLabelPosition="top"),Math.floor(e)>768&&Math.floor(e)<=992&&(this.dialogWidthValue="90%",this.formLabelPosition="top"),Math.floor(e)>992&&Math.floor(e)<=1200&&(this.dialogWidthValue="50%",this.formLabelPosition="left"),Math.floor(e)>1200&&(this.dialogWidthValue="50%",this.formLabelPosition="left"),window.onresize=()=>{let e=document.body.clientWidth;Math.floor(e)<=768&&(this.dialogWidthValue="90%",this.formLabelPosition="top"),Math.floor(e)>768&&Math.floor(e)<=992&&(this.dialogWidthValue="90%",this.formLabelPosition="top"),Math.floor(e)>992&&Math.floor(e)<=1200&&(this.dialogWidthValue="50%",this.formLabelPosition="left"),Math.floor(e)>1200&&(this.dialogWidthValue="50%",this.formLabelPosition="left")}},unmounted(){window.onresize=null},methods:{getCheckCode(){let e=this.forgotForm2.phone;if(e){let t={phone:e};(0,w.eo)(t).then((e=>{console.log(e),200===e.code&&(this.getCheckCodeTimer(),this.$message.success("Success"))})).catch((e=>{this.$message.error(e.msg)}))}},sendEmailCode(e){let t=this,o=this.forgotForm1.email;this.$refs[e].validateField("email",(e=>{if(!e)return console.log("error submit!!"),this.$message({type:"warning",message:"Please enter a valid email address",grouping:!0});if(o){let e={email:o};(0,w.Ng)(e).then((e=>{200==e.code&&(t.getCheckCodeTimer(),t.$message.success("Success"))})).catch((e=>(console.log(e),this.$message.error(e.msg))))}}))},submitForm1(e){this.submitLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoadingStatus=!1,!1;{let e=Object.assign({},this.forgotForm1);(0,w.OW)(e).then((e=>{console.log(e),200==e.code&&(this.$message.success(e.msg),this.submitLoadingStatus=!1,this.handleClose())})).catch((e=>{console.log(e),this.submitLoadingStatus=!1,this.$message.error(e.msg)}))}}))},submitForm2(e){this.submitLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoadingStatus=!1,!1;{let e=Object.assign({},this.forgotForm2);(0,w.UM)(e).then((e=>{console.log(e),200==e.code&&(this.$message.success(e.msg),this.submitLoadingStatus=!1,this.handleClose())})).catch((e=>{console.log(e),this.submitLoadingStatus=!1,this.$message.error(e.msg)}))}}))}}},k=o(48118);const v=(0,k.Z)(_,[["render",b],["__scopeId","data-v-1e5b5674"]]);var D=v;const C=e=>((0,a.dD)("data-v-5c094a36"),e=e(),(0,a.Cn)(),e),F={class:"bg"},U={class:"account-container"},I=C((()=>(0,a._)("div",{class:"account-l-container"},null,-1))),W={class:"account-r-container-bg"},V={class:"account-container-1"},S={class:"account-basic-info"},q={class:"account-basic-info-label"},E=C((()=>(0,a._)("span",null,"Your account",-1))),A=(0,a.Uk)(" EDIT "),P={class:"account-basic-info-c-l"},$=(0,a.Uk)(" CHANGE "),M={class:"account-basic-info-c-r"},x={class:"account-first-last-name"},L={class:"account-first-name"},N={class:"account-last-name"},O={class:"account-change-email-container"},j={class:"account-change-email-t"},R={class:"account-change-email-t-t"},T=C((()=>(0,a._)("div",{class:"account-change-email-t-t-l"},[(0,a._)("span",null,"E-MAIL ADDRESS")],-1))),z={class:"account-change-email-t-t-r"},H=(0,a.Uk)(" Edit "),Y=C((()=>(0,a._)("div",{class:"account-change-email-t-b"},null,-1))),J={class:"account-change-email-b"},B={class:"my-header"},G=["id"],K=C((()=>(0,a._)("div",{class:"xll-form-email-tips"},null,-1))),Z={class:"xll-email-input"},Q={class:"dialog-footer"},X=(0,a.Uk)("Cancel"),ee=(0,a.Uk)(" Save "),te=(0,a.Uk)(" RESET PASSWORD "),oe={class:"save-form-container"},ie=(0,a.Uk)(" DISCARD "),ae=(0,a.Uk)(" SAVE "),le={class:"account-basic-info-c-name"},se={class:"account-basic-info-c-email"},re={class:"account-perks-container"},ne=C((()=>(0,a._)("div",{class:"account-perks-label"}," Get the best perks ",-1))),ce=C((()=>(0,a._)("div",{class:"account-perks-tips"}," Check our plans to save more ",-1))),de={class:"account-perks-btn-container"},ue=(0,a.Uk)(" UPGRADE "),me={class:"account-container-2"},he={class:"account-profile-container"},ge={class:"account-profile-t"},pe=C((()=>(0,a._)("div",{class:"account-profile-label"}," Your profiles ",-1))),fe={key:0,class:"account-add-profile"},be=(0,a.Uk)(" ADD PROFILE "),ye={class:"account-profile-c-item-t"},we={class:"account-profile-c-item-l"},_e={class:"account-profile-name"},ke={key:0},ve={key:1},De=(0,a.Uk)(" current "),Ce={class:"account-profile-identity"},Fe={key:0},Ue={key:1},Ie={key:2},We={key:3},Ve={key:4},Se={class:"account-profile-c-item-b-mobile"},qe={class:"account-profile-c-item-r"},Ee={class:"account-profile-c-item-r-1"},Ae={key:0},Pe={key:1},$e={key:2},Me={key:3},xe={key:4},Le={class:"account-profile-c-item-r-mobile"},Ne={class:"account-profile-c-item-r-2"},Oe=(0,a.Uk)(" SEARCH JOBS "),je=(0,a.Uk)(" POST A JOB "),Re=(0,a.Uk)(" OFFER A Deal "),Te=(0,a.Uk)(" POST AN EVENT "),ze={class:"account-profile-c-item-r-3"},He=(0,a.Uk)(" EDIT "),Ye=(0,a.Uk)(" MAKE CURRENT "),Je={key:0,class:"account-profile-c-item-r-4"},Be={class:"account-profile-c-item-r-4-btn"},Ge=(0,a.Uk)(" MORE "),Ke=(0,a.Uk)(" VIEW PROFILE "),Ze=(0,a.Uk)(" ADD A CONTRIBUTOR "),Qe=(0,a.Uk)(" EDIT PROFILE "),Xe=(0,a.Uk)("REMOVE"),et={class:"account-profile-c-item-b"},tt={key:0},ot={class:"admin-item-container"},it={class:"admin-item-img-container"},at={class:"admin-item-r-container"},lt={class:"admin-item-name"},st=C((()=>(0,a._)("div",{class:"admin-item-role"}," Contributor ",-1))),rt=(0,a.Uk)(" EDIT PERMISSIONS "),nt={class:"my-header"},ct=["id"],dt=C((()=>(0,a._)("div",{class:"xll-contributor-tips"}," Contributors are allowed to act on behalf of your profile, depending on permissions you have granted to them. ",-1))),ut={class:"xll-contributor-c-margin"},mt={class:"xll-contributor-c-l"},ht={class:"xll-contributor-c-r"},gt={key:0,class:"qx-checked-container"},pt=["onClick"],ft={class:"qx-checked-label"},bt={class:"dialog-footer"},yt=(0,a.Uk)("Cancel"),wt=(0,a.Uk)(" SEND AN INVITATION "),_t={class:"my-header"},kt=["id"],vt={class:"xll-contributor-c-update-container"},Dt={class:"xll-contributor-c-avatar"},Ct={class:"xll-contributor-c-form"},Ft={key:0,class:"qx-checked-container"},Ut=["onClick"],It={class:"qx-checked-label"},Wt={class:"dialog-footer"},Vt=(0,a.Uk)("Cancel"),St=(0,a.Uk)(" UPDATE ");function qt(e,t,o,s,r,n){const c=(0,a.up)("el-button"),d=(0,a.up)("el-avatar"),u=(0,a.up)("el-upload"),m=(0,a.up)("el-input"),h=(0,a.up)("el-form-item"),g=(0,a.up)("el-form"),p=(0,a.up)("el-dialog"),f=(0,a.up)("el-date-picker"),b=(0,a.up)("el-option"),y=(0,a.up)("el-select"),w=D,_=(0,a.up)("el-tag"),k=(0,a.up)("el-progress"),v=(0,a.up)("arrow-down"),C=(0,a.up)("el-icon"),qt=(0,a.up)("el-dropdown-item"),Et=(0,a.up)("el-popconfirm"),At=(0,a.up)("el-dropdown-menu"),Pt=(0,a.up)("el-dropdown"),$t=(0,a.up)("el-col"),Mt=(0,a.up)("el-row"),xt=(0,a.up)("el-empty"),Lt=(0,a.up)("el-scrollbar"),Nt=i.Z;return(0,a.wg)(),(0,a.iD)("div",F,[(0,a._)("div",U,[I,(0,a.Wm)(Lt,{class:"account-r-container"},{default:(0,a.w5)((()=>[(0,a._)("div",W,[(0,a._)("div",V,[(0,a._)("div",S,[(0,a._)("div",q,[E,(0,a.Wm)(c,{link:"",class:"account-basic-info-edit-btn",onClick:t[0]||(t[0]=e=>n.editAccount())},{default:(0,a.w5)((()=>[A])),_:1})]),(0,a._)("div",{class:(0,l.C_)(s.editAccountStatus?"account-basic-info-c-edit":"account-basic-info-c")},[(0,a._)("div",P,[(0,a.Wm)(d,{class:"account-basic-info-c-avatar",src:r.headImgUrl?r.headImgUrl:r.defaultAvatar},null,8,["src"]),s.editAccountStatus?((0,a.wg)(),(0,a.j4)(u,{key:0,class:"profile-uploader",action:"",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG",headers:r.uploadHeaders,"show-file-list":!1,"http-request":n.profilePhotoHttpRequest,"before-upload":n.beforeProfilePhotoUpload},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"account-basic-info-c-change-btn",link:""},{default:(0,a.w5)((()=>[$])),_:1})])),_:1},8,["headers","http-request","before-upload"])):(0,a.kq)("",!0)]),(0,a._)("div",M,[s.editAccountStatus?((0,a.wg)(),(0,a.j4)(g,{key:0,ref:"basicForms",model:s.basicForm,rules:s.basicRules,"label-width":"120px","label-position":"top",class:"demo-ruleForm"},{default:(0,a.w5)((()=>[(0,a._)("div",x,[(0,a._)("div",L,[(0,a.Wm)(h,{label:"FIRST NAME",prop:"first_name"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{size:"small",modelValue:s.basicForm.first_name,"onUpdate:modelValue":t[1]||(t[1]=e=>s.basicForm.first_name=e),placeholder:"First name"},null,8,["modelValue"])])),_:1})]),(0,a._)("div",N,[(0,a.Wm)(h,{label:"LAST NAME",prop:"last_name"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{size:"small",modelValue:s.basicForm.last_name,"onUpdate:modelValue":t[2]||(t[2]=e=>s.basicForm.last_name=e),placeholder:"Last name"},null,8,["modelValue"])])),_:1})])]),(0,a._)("div",O,[(0,a._)("div",j,[(0,a._)("div",R,[T,(0,a._)("div",z,[(0,a.Wm)(c,{class:"account-change-email-edit-btn",type:"primary",link:"",onClick:t[3]||(t[3]=e=>n.editAccountEmail())},{default:(0,a.w5)((()=>[H])),_:1})])]),Y]),(0,a._)("div",J,[(0,a.Wm)(m,{size:"small",disabled:"",modelValue:s.basicForm.email,"onUpdate:modelValue":t[4]||(t[4]=e=>s.basicForm.email=e),placeholder:"E-mail address"},null,8,["modelValue"])])]),(0,a.Wm)(p,{class:"dialog-custom-css",width:r.accountEmailWith,modelValue:r.accountEmailDialogVisible,"onUpdate:modelValue":t[10]||(t[10]=e=>r.accountEmailDialogVisible=e)},{header:(0,a.w5)((({titleId:e,titleClass:t})=>[(0,a._)("div",B,[(0,a._)("h3",{id:e,class:(0,l.C_)(t)}," Editing this will change your login email ",10,G)])])),footer:(0,a.w5)((()=>[(0,a._)("span",Q,[(0,a.Wm)(c,{plain:"",round:"",onClick:t[8]||(t[8]=e=>r.accountEmailDialogVisible=!1)},{default:(0,a.w5)((()=>[X])),_:1}),(0,a.Wm)(c,{type:"primary",round:"",onClick:t[9]||(t[9]=e=>n.saveEmailChange("accountEmailForms"))},{default:(0,a.w5)((()=>[ee])),_:1})])])),default:(0,a.w5)((()=>[(0,a.Wm)(g,{ref:"accountEmailForms",model:s.accountEmailForm,rules:s.accountEmailRules,"label-width":"120px","label-position":"top",class:"demo-ruleForm"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{label:"E-MAIL ADDRESS",prop:"email"},{default:(0,a.w5)((()=>[K,(0,a._)("div",Z,[(0,a.Wm)(m,{modelValue:s.accountEmailForm.email,"onUpdate:modelValue":t[5]||(t[5]=e=>s.accountEmailForm.email=e),placeholder:"E-mail address"},null,8,["modelValue"]),(0,a._)("div",{class:"send-code-btn",onClick:t[6]||(t[6]=e=>n.sendEmailCode("accountEmailForms"))},(0,l.zw)(s.checkCodeBtn.text),1)])])),_:1}),(0,a.Wm)(h,{label:"VERIFICATION CODE",prop:"code",required:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:s.accountEmailForm.code,"onUpdate:modelValue":t[7]||(t[7]=e=>s.accountEmailForm.code=e),placeholder:"Activation code"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["width","modelValue"]),(0,a.Wm)(h,{label:"BIRTH DATE",prop:"birthday"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{size:"small",modelValue:s.basicForm.birthday,"onUpdate:modelValue":t[11]||(t[11]=e=>s.basicForm.birthday=e),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",placeholder:"Pick a date",disabledDate:s.birthdayDisabledDate,style:{width:"100%"}},null,8,["modelValue","disabledDate"])])),_:1}),(0,a.Wm)(h,{label:"GENDER",prop:"sex"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:s.basicForm.sex,"onUpdate:modelValue":t[12]||(t[12]=e=>s.basicForm.sex=e),size:"small",placeholder:"Select one"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.sexOptions,((e,t)=>((0,a.wg)(),(0,a.j4)(b,{key:t,label:e.object_en,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"PASSWORD"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{plain:"",round:"",onClick:t[13]||(t[13]=e=>n.resetPassword())},{default:(0,a.w5)((()=>[te])),_:1})])),_:1}),(0,a.Wm)(w,{isShow:r.forgotDialogVisible,showPhone:!1,onClose:t[14]||(t[14]=e=>n.closeForgotDialog())},null,8,["isShow"]),(0,a._)("div",oe,[(0,a.Wm)(c,{class:"save-form-discard-btn",link:"",onClick:t[15]||(t[15]=e=>n.discardAccount())},{default:(0,a.w5)((()=>[ie])),_:1}),(0,a.Wm)(c,{class:"save-form-save-btn",type:"primary",round:"",loading:s.submitLoadingValue,onClick:t[16]||(t[16]=e=>n.saveAccount("basicForms"))},{default:(0,a.w5)((()=>[ae])),_:1},8,["loading"])])])),_:1},8,["model","rules"])):(0,a.kq)("",!0),s.editAccountStatus?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("div",le,(0,l.zw)(r.userContact.first_name)+" "+(0,l.zw)(r.userContact.last_name),1),(0,a._)("div",se,(0,l.zw)(r.userContact.email),1)],64))])],2)]),(0,a._)("div",re,[ne,ce,(0,a._)("div",de,[(0,a.Wm)(c,{class:"account-perks-upgrade-btn",onClick:t[17]||(t[17]=e=>n.upgrade()),type:"primary",round:""},{default:(0,a.w5)((()=>[ue])),_:1})])])]),(0,a._)("div",me,[(0,a._)("div",he,[(0,a._)("div",ge,[pe,1!=n.identity?((0,a.wg)(),(0,a.iD)("div",fe,[(0,a.Wm)(c,{class:"account-add-profile-btn",type:"primary",round:"",onClick:t[18]||(t[18]=e=>n.turnAddProfile())},{default:(0,a.w5)((()=>[be])),_:1})])):(0,a.kq)("",!0)]),(0,a.Wm)(Lt,{class:"account-profile-c",ref:"switchAccountScroll","max-height":"400px"},{default:(0,a.w5)((()=>[r.companyData&&r.companyData.length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(r.companyData,((e,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"account-profile-c-item",key:o},[(0,a._)("div",ye,[(0,a._)("div",we,[(0,a._)("div",_e,[1==e.identity?((0,a.wg)(),(0,a.iD)("span",ke,(0,l.zw)(e.name?e.name:"Unknown"),1)):((0,a.wg)(),(0,a.iD)("span",ve,(0,l.zw)(e.company_name?e.company_name:"Unknown"),1)),e.identity==n.identity&&e.id==n.currentCompanyId?((0,a.wg)(),(0,a.j4)(_,{key:2,type:"success",style:{"margin-left":"10px"}},{default:(0,a.w5)((()=>[De])),_:1})):(0,a.kq)("",!0)]),(0,a._)("div",Ce,[1==e.identity?((0,a.wg)(),(0,a.iD)("span",Fe,"Educator")):(0,a.kq)("",!0),2==e.identity?((0,a.wg)(),(0,a.iD)("span",Ue,"Recruiter")):(0,a.kq)("",!0),3==e.identity?((0,a.wg)(),(0,a.iD)("span",Ie,"School")):(0,a.kq)("",!0),4==e.identity?((0,a.wg)(),(0,a.iD)("span",We,"Other")):(0,a.kq)("",!0),5==e.identity?((0,a.wg)(),(0,a.iD)("span",Ve,"Vendor")):(0,a.kq)("",!0)])]),(0,a._)("div",Se,[(0,a.Wm)(k,{"text-inside":!1,"stroke-width":3,percentage:e.completion<=100?e.completion:100},null,8,["percentage"])]),(0,a._)("div",qe,[(0,a._)("div",Ee,[1==e.identity?((0,a.wg)(),(0,a.iD)("span",Ae,"Complete at least 80% of your profile to apply jobs")):(0,a.kq)("",!0),2==e.identity?((0,a.wg)(),(0,a.iD)("span",Pe,"Complete at least 60% of your profile to post jobs")):(0,a.kq)("",!0),3==e.identity?((0,a.wg)(),(0,a.iD)("span",$e,"Complete at least 60% of your profile to post jobs")):(0,a.kq)("",!0),4==e.identity?((0,a.wg)(),(0,a.iD)("span",Me,"Complete at least 60% of your profile to post jobs")):(0,a.kq)("",!0),5==e.identity?((0,a.wg)(),(0,a.iD)("span",xe,"Complete at least 60% of your profile to offer a deal or post event")):(0,a.kq)("",!0)]),(0,a._)("div",Le,[(0,a._)("div",Ne,[e.identity==n.identity&&e.id==n.currentCompanyId?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[1==e.identity?((0,a.wg)(),(0,a.j4)(c,{key:0,class:"account-profile-c-item-r-2-btn",onClick:t[19]||(t[19]=e=>n.searchJobs()),disabled:e.identity!=n.identity||e.id!=n.currentCompanyId,type:"primary",round:""},{default:(0,a.w5)((()=>[Oe])),_:2},1032,["disabled"])):(0,a.kq)("",!0),2==e.identity||3==e.identity||4==e.identity?((0,a.wg)(),(0,a.j4)(c,{key:1,class:"account-profile-c-item-r-2-btn",disabled:e.identity!=n.identity||e.id!=n.currentCompanyId||e.completion<60,onClick:t[20]||(t[20]=e=>n.postJob()),type:"primary",round:""},{default:(0,a.w5)((()=>[je])),_:2},1032,["disabled"])):(0,a.kq)("",!0),5==e.identity?((0,a.wg)(),(0,a.j4)(c,{key:2,class:"account-profile-c-item-r-2-btn",disabled:e.identity!=n.identity||e.id!=n.currentCompanyId||e.completion<60,onClick:t[21]||(t[21]=e=>n.postDeal()),type:"primary",round:""},{default:(0,a.w5)((()=>[Re])),_:2},1032,["disabled"])):(0,a.kq)("",!0),(0,a.Wm)(c,{class:"account-profile-c-item-r-2-btn",disabled:e.identity!=n.identity||e.id!=n.currentCompanyId||e.completion<60,onClick:t[22]||(t[22]=e=>n.postEvent()),type:"primary",round:""},{default:(0,a.w5)((()=>[Te])),_:2},1032,["disabled"])],64)):(0,a.kq)("",!0)]),(0,a._)("div",ze,[e.identity==n.identity&&e.id==n.currentCompanyId?((0,a.wg)(),(0,a.j4)(c,{key:0,class:"account-profile-c-item-r-3-btn account-profile-c-item-r-3-btn-mobile",onClick:t=>n.editUserProfile(e.id,e.identity),plain:"",round:""},{default:(0,a.w5)((()=>[He])),_:2},1032,["onClick"])):((0,a.wg)(),(0,a.j4)(c,{key:1,class:"account-profile-c-item-r-3-btn",onClick:t=>n.makeCurrent(e.id,e.identity,2),plain:"",round:""},{default:(0,a.w5)((()=>[Ye])),_:2},1032,["onClick"]))]),e.identity==n.identity&&e.id==n.currentCompanyId?((0,a.wg)(),(0,a.iD)("div",Je,[(0,a.Wm)(Pt,{"hide-on-click":!1,trigger:"click"},{dropdown:(0,a.w5)((()=>[(0,a.Wm)(At,null,{default:(0,a.w5)((()=>[(0,a.Wm)(qt,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{link:"",onClick:t=>n.viewUserProfile(e.id,e.user_id,e.identity)},{default:(0,a.w5)((()=>[Ke])),_:2},1032,["onClick"])])),_:2},1024),1!=e.identity?((0,a.wg)(),(0,a.j4)(qt,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{link:"",onClick:t=>n.showContributorDialog(e.id,e.user_id,e.identity,e.company_name)},{default:(0,a.w5)((()=>[Ze])),_:2},1032,["onClick"])])),_:2},1024)):(0,a.kq)("",!0),(0,a.Wm)(qt,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{link:"",onClick:t=>n.editUserProfile(e.id,e.identity)},{default:(0,a.w5)((()=>[Qe])),_:2},1032,["onClick"])])),_:2},1024),(0,a.Wm)(qt,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Et,{title:"Are you sure to delete this?",onConfirm:t=>n.removeProfile(e.id,e.identity)},{reference:(0,a.w5)((()=>[(0,a.Wm)(c,{link:""},{default:(0,a.w5)((()=>[Xe])),_:1})])),_:2},1032,["onConfirm"])])),_:2},1024)])),_:2},1024)])),default:(0,a.w5)((()=>[(0,a._)("span",Be,[Ge,(0,a.Wm)(C,{class:"el-icon--right"},{default:(0,a.w5)((()=>[(0,a.Wm)(v)])),_:1})])])),_:2},1024)])):(0,a.kq)("",!0)])])]),(0,a._)("div",et,[(0,a.Wm)(k,{"text-inside":!1,"stroke-width":3,percentage:e.completion<=100?e.completion:100},null,8,["percentage"])]),0===o?((0,a.wg)(),(0,a.iD)("div",tt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.assignUserData,((e,t)=>((0,a.wg)(),(0,a.j4)(Mt,{gutter:0,justify:"space-between",align:"middle",class:"admin-contributor-item-container",key:t},{default:(0,a.w5)((()=>[(0,a.Wm)($t,{xs:24,sm:24,md:16,lg:16,xl:16},{default:(0,a.w5)((()=>[(0,a._)("div",ot,[(0,a._)("div",it,[(0,a.Wm)(d,{class:"admin-item-img",src:e.headimgurl?e.headimgurl:r.defaultAvatar},null,8,["src"])]),(0,a._)("div",at,[(0,a._)("div",lt,(0,l.zw)(e.first_name)+" "+(0,l.zw)(e.last_name),1),st])])])),_:2},1024),(0,a.Wm)($t,{xs:24,sm:24,md:8,lg:8,xl:8,class:"admin-item-btn-container"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{plain:"",round:"",class:"admin-item-btn",onClick:t=>n.editAdmin(e)},{default:(0,a.w5)((()=>[rt])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])):(0,a.kq)("",!0)])))),128)):((0,a.wg)(),(0,a.j4)(xt,{key:1,description:"-"}))])),_:1},512)])])])])),_:1})]),(0,a.Wm)(p,{width:r.contributorWidth,modelValue:r.contributorDialogVisible,"onUpdate:modelValue":t[26]||(t[26]=e=>r.contributorDialogVisible=e)},{header:(0,a.w5)((({titleId:e,titleClass:t})=>[(0,a._)("div",nt,[(0,a._)("h3",{id:e,class:(0,l.C_)(t)},"Add a contributor for "+(0,l.zw)(r.contributorCompanyName),11,ct)])])),footer:(0,a.w5)((()=>[(0,a._)("span",bt,[(0,a.Wm)(c,{plain:"",round:"",onClick:t[24]||(t[24]=e=>r.contributorDialogVisible=!1)},{default:(0,a.w5)((()=>[yt])),_:1}),(0,a.Wm)(c,{type:"primary",round:"",onClick:t[25]||(t[25]=e=>n.addMenu("contributorForms"))},{default:(0,a.w5)((()=>[wt])),_:1})])])),default:(0,a.w5)((()=>[dt,(0,a._)("div",ut,[(0,a.Wm)(g,{ref:"contributorForms",model:s.contributorForm,rules:s.contributorRules,"label-position":"top",class:"xll-contributor-c"},{default:(0,a.w5)((()=>[(0,a._)("div",mt,[(0,a.Wm)(h,{label:"E-mail address of a contributor",prop:"email"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:s.contributorForm.email,"onUpdate:modelValue":t[23]||(t[23]=e=>s.contributorForm.email=e),placeholder:"One email per invitation"},null,8,["modelValue"])])),_:1})]),(0,a._)("div",ht,[(0,a.Wm)(h,{label:"Select permissions"},{default:(0,a.w5)((()=>[1!=n.identity?((0,a.wg)(),(0,a.iD)("div",gt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.contributorMenuData,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>n.menuItemSelected(e)},[(0,a._)("div",{class:(0,l.C_)(["qx-checked-square",-1==r.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2),(0,a._)("div",ft,(0,l.zw)(e.menu_name_en),1)],8,pt)))),128))])):(0,a.kq)("",!0)])),_:1})])])),_:1},8,["model","rules"])])])),_:1},8,["width","modelValue"]),(0,a.Wm)(p,{width:r.contributorWidth,modelValue:r.contributorUpdateDialogVisible,"onUpdate:modelValue":t[30]||(t[30]=e=>r.contributorUpdateDialogVisible=e)},{header:(0,a.w5)((({titleId:e,titleClass:t})=>[(0,a._)("div",_t,[(0,a._)("h3",{id:e,class:(0,l.C_)(t)}," Edit permissions for "+(0,l.zw)(r.contributorUpdateItemData.first_name)+" "+(0,l.zw)(r.contributorUpdateItemData.last_name),11,kt)])])),footer:(0,a.w5)((()=>[(0,a._)("span",Wt,[(0,a.Wm)(c,{plain:"",round:"",onClick:t[28]||(t[28]=e=>r.contributorUpdateDialogVisible=!1)},{default:(0,a.w5)((()=>[Vt])),_:1}),(0,a.Wm)(c,{type:"primary",round:"",onClick:t[29]||(t[29]=e=>n.updateMenu("contributorForms"))},{default:(0,a.w5)((()=>[St])),_:1})])])),default:(0,a.w5)((()=>[(0,a._)("div",vt,[(0,a._)("div",Dt,[(0,a.Wm)(d,{class:"admin-item-img",src:r.contributorUpdateItemData.headimgurl?r.contributorUpdateItemData.headimgurl:r.defaultAvatar},null,8,["src"])]),(0,a._)("div",Ct,[(0,a.Wm)(g,{ref:"contributorForms",model:s.contributorForm,rules:s.contributorRules,"label-position":"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{label:"E-mail address of a contributor",prop:"email"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:s.contributorForm.email,"onUpdate:modelValue":t[27]||(t[27]=e=>s.contributorForm.email=e),placeholder:"One email per invitation"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,{label:"Select permissions"},{default:(0,a.w5)((()=>[1!=n.identity?((0,a.wg)(),(0,a.iD)("div",Ft,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.contributorMenuData,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"qx-checked-item",key:t,onClick:t=>n.menuItemSelected(e)},[(0,a._)("div",{class:(0,l.C_)(["qx-checked-square",-1==r.sMenuItemData.indexOf(e.id)?"":"qx-checked-square-active"])},null,2),(0,a._)("div",It,(0,l.zw)(e.menu_name_en),1)],8,Ut)))),128))])):(0,a.kq)("",!0)])),_:1})])),_:1},8,["model","rules"])])])])),_:1},8,["width","modelValue"]),(0,a.Wm)(Nt,{show:r.uploadLoadingStatus,onOnCancel:t[31]||(t[31]=e=>n.cancelUpload())},null,8,["show"])])}var Et=o(45323),At=o(33907),Pt=o(98005),$t=o.n(Pt),Mt=o(44276),xt=o(1474),Lt=o(42576),Nt={name:"accountHome",components:{xllLoading:i.Z,ForgotPassword:D},setup(){const e=(0,At.oR)(),t=t=>{e.commit("identity",t)},o=(0,y.iH)(!1),i=(0,y.iH)(!1),l=(0,y.iH)(null),s=(0,y.iH)(null),r=(0,y.qj)({first_name:"",last_name:"",identity:localStorage.getItem("identity"),sex:"",phone:"",email:"",state_id:"",town_id:"",country_id:"",country_info:"",headimgurl:"",language:2,birthday:"",area_code:""}),n=(0,y.qj)({first_name:[{required:!0,message:"First Name",trigger:"blur"}],last_name:[{required:!0,message:"Last Name",trigger:"blur"}],sex:[{required:!0,message:"Select your gender",trigger:"change"}]}),c=(0,y.qj)({email:"",code:""}),d=(0,y.qj)({email:[{type:"email",required:!0,message:"Please input your email",trigger:"change"}],code:[{required:!0,message:"Please input activation code",trigger:"change"}]}),u=e=>{let t=new Date;return e.getTime()>=t.getTime()},m=(0,y.iH)(null),h=(0,y.qj)({email:""}),g=(0,y.qj)({email:[{type:"email",required:!0,message:"Please enter a valid email",trigger:["change","blur"]}]}),p=(0,a.f3)("goEasy");function f(){"connected"===p.getConnectionStatus()&&p.disconnect({onSuccess:()=>{console.log("Disconnect GoEasy successful"),e.commit("setImUnreadTotal",0)},onFailed:e=>{console.log("Failed to disconnect GoEasy, code:"+e.code+",error:"+e.content)}})}let b=(0,y.qj)({text:"SEND CODE",loading:!1,disabled:!1,duration:10,timer:null});const w=()=>{10!==b.duration&&(b.disabled=!0,b.loading=!0),b.timer&&clearInterval(b.timer),b.timer=setInterval((()=>{const e=b.duration--;b.text=`${e} S`,b.loading=!0,b.disabled=!0,e<=0&&(clearInterval(b.timer),b.duration=10,b.text="Reacquire",b.disabled=!1,b.loading=!1),console.log(b)}),1e3)};return{checkCodeBtn:b,getCheckCodeTimer:w,setIdentity:t,submitLoadingValue:o,basicForm:r,basicForms:l,basicRules:n,birthdayDisabledDate:u,editAccountStatus:i,contributorForms:m,contributorForm:h,contributorRules:g,disconnectIm:f,accountEmailForms:s,accountEmailForm:c,accountEmailRules:d}},watch:{currentCompanyId(e){console.log(e),e&&this.getUserAllInfo()},identity(e){console.log(e)}},computed:{currentCompanyId:{get(){return this.$store.state.currentCompanyId}},identity:{get(){return this.$store.state.identity}}},data(){return{defaultAvatar:Et,headImgUrl:"",sexOptions:[{value:1,object_en:"Male",object_cn:"男"},{value:2,object_en:"Female",object_cn:"女"},{value:3,object_en:"Non-binary",object_cn:"非二元人"},{value:4,object_en:"Undisclosed",object_cn:"未公开"}],uploadLoadingStatus:!1,editAccountImageStatus:!1,uploadActionUrl:"https://google.edupassport.io/api/user/uploadImg",uploadHeaders:{platform:4},uploadData:{token:localStorage.getItem("token")},educatorContact:{},userContact:{},educatorUserData:[],recruiterUserData:[],schoolUserData:[],otherUserData:[],vendorUserData:[],currentProfileData:[],companyData:[],contributorDialogVisible:!1,contributorMenuData:[],contributorCompanyId:0,contributorCompanyName:"",contributorIdentity:0,contributorUserId:0,sMenuItemData:[],email:"",addLoading:!1,action:"",deleteLoading:!1,assignUserData:[],contributorUpdateDialogVisible:!1,contributorUpdateItemData:{},versionTime:(0,xt.O1)(),forgotDialogVisible:!1,contributorWidth:"50%",accountEmailWith:"600px",accountEmailDialogVisible:!1}},unmounted(){(0,Lt.lJ)(),window.onresize=null},async mounted(){let e=document.body.clientWidth,t=Math.floor(e);t<=768&&((0,Lt.lJ)(),this.contributorWidth="80%",this.accountEmailWith="80%"),window.onresize=()=>{t<=768&&((0,Lt.lJ)(),this.contributorWidth="80%",this.accountEmailWith="80%")},this.getUserInfo(),this.getUserAllInfo(),this.getAllAssignUsers()},methods:{resetPassword(){this.forgotDialogVisible=!0},closeForgotDialog(){this.forgotDialogVisible=!1},upgrade(){this.$router.push("/perks/home")},searchJobs(){this.$router.push("/jobs")},postJob(){this.$router.push({path:"/jobs/post",query:{version_time:this.versionTime}})},postDeal(){this.$router.push({path:"/deals/offer",query:{}})},postEvent(){this.$router.push({path:"/events/post",query:{}})},getAllAssignUsers(){let e={};(0,w.ND)(e).then((e=>{console.log(e),200===e.code&&(this.assignUserData=e.message)})).catch((e=>{console.log(e)}))},editAccountEmail(){this.accountEmailDialogVisible=!0,this.accountEmailForm.email=this.basicForm.email,this.accountEmailForm.code=""},editAccount(){let e=this.userContact;this.editAccountStatus=!0,this.basicForm.first_name=e.first_name,this.basicForm.last_name=e.last_name,this.basicForm.email=e.email,this.basicForm.birthday=e.birthday,e.sex&&(this.basicForm.sex=e.sex)},discardAccount(){this.editAccountStatus=!1},saveAccount(e){let t=this;this.submitLoadingValue=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoadingValue=!1,!1;{let e=Object.assign({},t.basicForm);(0,w.b3)(e).then((e=>{200==e.code&&(t.editAccountStatus=!1,t.getUserInfo(),t.submitLoadingValue=!1)})).catch((e=>(console.log(e),t.submitLoadingValue=!1,e.msg?t.$message.error(e.msg):e.message?t.$message.error(e.message):void 0)))}}))},getUserInfo(){let e=localStorage.getItem("identity"),t={identity:e};(0,w.Lk)(t).then((t=>{if(console.log(t),200==t.code){let o=t.message.user_contact,i=t.message.user_contact.educator_contact;if(o&&(this.userContact=o),o.headimgurl&&(this.headImgUrl=o.headimgurl),i&&(this.educatorContact=i),1==e){let e=o.first_name+" "+o.last_name;this.$store.commit("username",e),this.$store.commit("companyName",e),this.$store.commit("userAvatar",o.headimgurl)}}})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},resetForm(e){this.$refs[e].resetFields()},profilePhotoHttpRequest(e){let t=this;new($t())(e.file,{quality:.6,success(e){const o=new FormData;o.append("token",localStorage.getItem("token"));let i="no";"yes"===i&&(o.append("file[]",e,e.name),(0,w._p)(o).then((e=>{if(200==e.code){let o=e.data[0]["file_url"];t.uploadLoadingStatus=!1,t.headImgUrl=o,t.basicForm.headimgurl=o}})).catch((e=>{console.log(e)}))),"no"===i&&(o.append("file",e,e.name),(0,w.Qz)(o).then((e=>{if(200==e.code){let o=e.message.file_path;t.uploadLoadingStatus=!1,t.headImgUrl=o,t.basicForm.headimgurl=o}})).catch((e=>{console.log(e)})))},error(e){console.log(e.message)}})},beforeProfilePhotoUpload(e){this.uploadLoadingStatus=!0;const t=e.size/1024/1024<20;return t||this.$message.error("Avatar picture size can not exceed 20MB"),t},cancelUpload(){this.uploadLoadingStatus=!1},turnAddProfile(){let e=localStorage.getItem("identity"),t={i:e,action:"add"},o=(0,Mt.cv)(JSON.stringify(t));1==e&&this.$router.push({path:"/educator/edit/home",query:{s:o}}),2==e&&this.$router.push({path:"/business/edit/recruiter",query:{s:o}}),3==e&&this.$router.push({path:"/business/edit/school",query:{s:o}}),4==e&&this.$router.push({path:"/business/edit/other",query:{s:o}}),5==e&&this.$router.push({path:"/vendor/edit/vendor",query:{s:o}})},editUserProfile(e,t){if(1==t){let e={i:1,action:"edit"},t=(0,Mt.cv)(JSON.stringify(e));this.$router.push({path:"/educator/edit/home",query:{s:t}})}if(2==t){let t={cid:e,action:"edit"},o=(0,Mt.cv)(JSON.stringify(t));this.$router.push({path:"/business/edit/recruiter",query:{s:o}})}if(3==t){let t={cid:e,action:"edit"},o=(0,Mt.cv)(JSON.stringify(t));this.$router.push({path:"/business/edit/school",query:{s:o}})}if(4==t){let t={cid:e,action:"edit"},o=(0,Mt.cv)(JSON.stringify(t));this.$router.push({path:"/business/edit/other",query:{s:o}})}if(5==t){let t={cid:e,action:"edit"},o=(0,Mt.cv)(JSON.stringify(t));this.$router.push({path:"/vendor/edit/vendor",query:{s:o}})}},removeProfile(e,t){let o={company_id:e,identity:t};(0,w.Rt)(o).then((e=>{console.log(e),200==e.code&&(this.getUserAllInfo(),this.$store.commit("allIdentityChanged",!0),this.getAllAssignUsers())})).catch((e=>{console.log(e)}))},viewUserProfile(e,t,o){if(1==o){let o={cid:e,uid:t,identity:1},i=(0,Mt.cv)(JSON.stringify(o));this.$router.push({path:"/educator/profile",query:{str:i}})}if(2==o){let o={cid:e,uid:t,identity:2},i=(0,Mt.cv)(JSON.stringify(o));this.$router.push({path:"/business/profile",query:{str:i}})}if(3==o){let o={cid:e,uid:t,identity:3},i=(0,Mt.cv)(JSON.stringify(o));this.$router.push({path:"/business/profile",query:{str:i}})}if(4==o){let o={cid:e,uid:t,identity:4},i=(0,Mt.cv)(JSON.stringify(o));this.$router.push({path:"/business/profile",query:{str:i}})}if(5==o){let o={cid:e,uid:t,identity:5},i=(0,Mt.cv)(JSON.stringify(o));this.$router.push({path:"/vendor/profile",query:{str:i}})}},getUserAllInfo(){let e={};(0,w.FG)(e).then((e=>{if(console.log(e),200==e.code){let t=[],o=e.message.educator,i=e.message.recruiting,a=e.message.school,l=e.message.other,s=e.message.vendor,r=this.currentCompanyId;if(o){for(let e=0;e<o.length;e++)o[e]["identity"]=1;t=t.concat(o)}if(i){for(let e=0;e<i.length;e++)i[e]["identity"]=2;t=t.concat(i)}if(a){for(let e=0;e<a.length;e++)a[e]["identity"]=3;t=t.concat(a)}if(l){for(let e=0;e<l.length;e++)l[e]["identity"]=4;t=t.concat(l)}if(s){for(let e=0;e<s.length;e++)s[e]["identity"]=5;t=t.concat(s)}if(this.identity){let e=t.findIndex((e=>e.id==r&&e.identity==this.identity));if(e){let o=t.splice(e,1)[0];t.unshift(o)}}this.companyData=t}})).catch((e=>{console.log(e)}))},makeCurrent(e,t,o){let i={company_id:e,language:o,identity:t};(0,w.bv)(i).then((o=>{if(200==o.code){this.currentCompanyId=e,this.$store.commit("currentCompanyId",e),this.$store.commit("allIdentityChanged",!0),localStorage.setItem("company_id",e),localStorage.setItem("identity",t);let i=JSON.stringify(o.message);localStorage.setItem("menuData",i),this.$store.commit("identity",t),this.$store.commit("menuData",o.message),this.disconnectIm(),this.assignUserData=[],this.getUserAllInfo(),this.getAllAssignUsers(),this.$refs.switchAccountScroll.setScrollTop(0),this.$loading().close()}})).catch((e=>{console.log(e),this.$loading().close(),this.$message.error(e.msg)}))},deleteUserMenu(){let e=this;this.deleteLoading=!0;let t=this.$route.query.uid,o=this.$route.query.cId,i={user_id:t,identity:e.identity,company_id:o};(0,w.iu)(i).then((t=>{console.log(t),200==t.code&&(this.deleteLoading=!1,this.$router.push({path:"/overview",query:{identity:e.identity}}))})).catch((e=>{console.log(e)}))},async getUserAdminMenuList(e,t,o){let i={user_id:e,identity:t,company_id:o};await(0,w.uc)(i).then((e=>{if(console.log(e),200==e.code){let t=e.message;t.forEach((e=>{this.sMenuItemData.push(Number(e.menu_id))}))}})).catch((e=>{console.log(e)}))},addMenu(e){let t=this.contributorIdentity,o=this.contributorCompanyId,i=this.sMenuItemData;this.addLoading=!0,this.$refs[e].validate((e=>{if(!e)return this.addLoading=!1,this.$message({type:"warning",message:"Please complete all required fields",grouping:!0}),console.log("error submit!!"),!1;{if(i.length<=0)return this.$message({type:"warning",message:"Choose what the added user will have access to",grouping:!0});let e=Object.assign({identity:t,company_id:o,menu_id:i.join(",")},this.contributorForm);(0,w.P0)(e).then((e=>{console.log(e),200==e.code&&(this.addLoading=!1,this.contributorDialogVisible=!1,this.getAllAssignUsers(),this.$message.success("Success "))})).catch((e=>{console.log(e),this.$message.error(e.msg),this.addLoading=!1}))}}))},updateMenu(e){let t=this.sMenuItemData,o=this.identity,i=this.currentCompanyId,a=this.contributorUserId;this.addLoading=!0,this.$refs[e].validate((e=>{if(!e)return this.addLoading=!1,this.$message({type:"warning",message:"Please complete all required fields",grouping:!0}),console.log("error submit!!"),!1;{if(t.length<=0)return this.$message({type:"warning",message:"Choose what the added user will have access to",grouping:!0});let e=Object.assign({user_id:a,identity:o,company_id:i,menu_id:t.join(",")},this.contributorForm);(0,w.Uz)({user_id:Number(a),company_id:Number(i)}).then((l=>{console.log(l),200==l.code&&(e={user_id:a,identity:o,company_id:i,menu_id:t.join(",")},(0,w.P0)(e).then((e=>{console.log(e),200==e.code&&(this.addLoading=!1,this.contributorUpdateDialogVisible=!1,this.getAllAssignUsers(),this.$message.success("Success "))})).catch((e=>{console.log(e),this.$message.error(e.msg),this.addLoading=!1})))})).catch((e=>{console.log(e)}))}}))},menuItemSelected(e){let t=this.sMenuItemData,o=t.indexOf(e.id);-1===o?this.sMenuItemData.push(e.id):this.sMenuItemData.splice(o,1),console.log(this.sMenuItemData)},getUserMenuList(){let e=this,t={user_id:localStorage.getItem("uid"),identity:e.identity,company_id:localStorage.getItem("company_id"),create_user_id:localStorage.getItem("uid"),page:1,limit:1e3};(0,w.$Z)(t).then((t=>{if(200===t.code){let o=t.message.pc;1==e.identity&&(this.educatorMenuData=o),2==e.identity&&(this.recruiterMenuData=o),3==e.identity&&(this.schoolMenuData=o),4==e.identity&&(this.otherMenuData=o),5==e.identity&&(this.vendorMenuData=o)}})).catch((e=>{console.log(e)}))},schoolConvertToRecruiter(e,t,o){let i={school_id:e,user_id:t,identity:o};(0,w.UI)(i).then((e=>{console.log(e),200==e.code&&(this.getUserAllInfo(),this.$message.success("Success"))})).catch((e=>{console.log(e)}))},showContributorDialog(e,t,o,i){this.contributorDialogVisible=!0,this.contributorCompanyId=e,this.contributorIdentity=o,this.contributorUserId=t,this.contributorCompanyName=i;let a={};(0,w.Lg)(a).then((e=>{if(console.log(e),200==e.code){let t=e.message,i=t.educator,a=t.recruiting,l=t.school,s=t.other,r=t.vendor;1==o&&(this.contributorMenuData=i),2==o&&(this.contributorMenuData=a),3==o&&(this.contributorMenuData=l),4==o&&(this.contributorMenuData=s),5==o&&(this.contributorMenuData=r)}})).catch((e=>{console.log(e)}))},editAdmin(e){this.contributorUpdateItemData=e,this.contributorUpdateDialogVisible=!0,this.contributorForm.email=e.email,this.contributorUserId=e.id;let t=this.identity,o=this.currentCompanyId,i={};(0,w.Lg)(i).then((i=>{if(console.log(i),200==i.code){let a=i.message,l=a.educator,s=a.recruiting,r=a.school,n=a.other,c=a.vendor;1==t&&(this.contributorMenuData=l),2==t&&(this.contributorMenuData=s),3==t&&(this.contributorMenuData=r),4==t&&(this.contributorMenuData=n),5==t&&(this.contributorMenuData=c);let d={user_id:e.id,identity:t,company_id:o};(0,w.uc)(d).then((e=>{if(console.log(e),200==e.code){let t=e.message;t.forEach((e=>{this.sMenuItemData.push(Number(e.menu_id))}))}})).catch((e=>{console.log(e)}))}})).catch((e=>{console.log(e)}))},sendEmailCode(e){let t=this,o=this.accountEmailForm.email;this.$refs[e].validateField("email",(e=>{if(!e)return console.log("error submit!!"),this.$message({type:"warning",message:"Please enter a valid email address",grouping:!0});if(!o)return this.$message({type:"warning",message:"Please enter a valid email address",grouping:!0});{let e={email:o};this.getCheckCodeTimer(),(0,w.ZE)(e).then((e=>{200==e.code&&t.$message({type:"success",message:"Activation Code Sent"})})).catch((e=>(console.log(e),e.msg?this.$message.error(e.msg):e.message?this.$message.error(e.message):void 0)))}}))},saveEmailChange(e){let t=this;this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),!1;{let e={email:this.accountEmailForm.email,code:this.accountEmailForm.code};(0,w.zy)(e).then((e=>{200==e.code&&(this.basicForm.email=this.accountEmailForm.email,this.accountEmailDialogVisible=!1)})).catch((e=>(console.log(e),t.$message.error("Incorrect verification code"))))}}))}}};const Ot=(0,k.Z)(Nt,[["render",qt],["__scopeId","data-v-5c094a36"]]);var jt=Ot}}]);
//# sourceMappingURL=2922.6fae1b40.js.map