"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[4319],{2574:function(e,o,t){t.r(o),t.d(o,{default:function(){return Oe}});var i=t(261),a=t(4359),l=t(6995),s=t(6252),n=t(6612);const c=e=>((0,s.dD)("data-v-6eadc8e2"),e=e(),(0,s.Cn)(),e),r={class:"bg"},d={class:"basic-container"},m={class:"basic-l-container"},u={class:"basic-r-container-bg"},g={class:"account-profile-t"},h=c((()=>(0,s._)("div",{class:"account-profile-t-l"},"Your profile",-1))),p={class:"account-profile-t-r"},_=(0,s.Uk)(" CANCEL "),f=(0,s.Uk)(" SAVE "),b=(0,s.Uk)(" SAVE & VIEW "),y={class:"account-profile-item-container"},w=c((()=>(0,s._)("div",{class:"account-profile-item-label"}," 1.Basic information ",-1))),v={class:"account-profile-item-c"},k={class:"xll-location-container"},F={class:"xll-location-l"},P={class:"xll-location-r"},W=(0,s.Uk)(" Edit "),U=(0,s.Uk)(" Cancel "),V=c((()=>(0,s._)("div",{class:"map-container"},[(0,s._)("div",{id:"mapContainer",class:"basemap"})],-1))),C={class:"account-profile-item-container"},S=c((()=>(0,s._)("div",{class:"account-profile-item-label"}," 2.Contact information ",-1))),L={class:"account-profile-item-c"},I={class:"contact-phone-container"},x={class:"contact-phone-l"},N={style:{float:"left"}},q={style:{float:"right","font-size":"13px"}},D={class:"contact-phone-r"},O={class:"account-profile-item-container"},z=c((()=>(0,s._)("div",{class:"account-profile-item-label"}," 3.Business information ",-1))),A={class:"account-profile-item-c"},R={key:0,class:"category-parent"},j=["onClick"],B=["onClick"],$={class:"account-xll-images"},H={class:"account-xll-image"},J={key:0},T={class:"account-xll-image-mask"},Y={class:"account-xll-images"},G={class:"account-xll-image"},E={key:0},M={class:"account-xll-image-mask"},Q={class:"account-profile-item-container"},Z=c((()=>(0,s._)("div",{class:"account-profile-item-label"}," 4.About Vendor ",-1))),K={class:"account-profile-item-c"},X={class:"account-xll-images"},ee={class:"account-xll-image"},oe={key:0},te={class:"account-xll-image-mask"},ie={class:"account-xll-images"},ae={class:"account-xll-image"},le={key:0},se=["src"],ne={class:"account-xll-image-mask"},ce={class:"account-xll-images"},re={class:"account-xll-image"},de={key:0},me={class:"account-xll-image-mask"},ue={class:"account-xll-images"},ge={class:"account-xll-image"},he={key:0},pe={class:"account-xll-image-mask"},_e={class:"account-xll-images"},fe={class:"account-xll-image-mask"},be=["onClick"],ye=["onClick"],we=["src"];function ve(e,o,t,c,ve,ke){const Fe=l.Z,Pe=(0,s.up)("el-button"),We=(0,s.up)("el-input"),Ue=(0,s.up)("el-form-item"),Ve=(0,s.up)("el-col"),Ce=(0,s.up)("el-option"),Se=(0,s.up)("el-select"),Le=(0,s.up)("el-row"),Ie=a.Z,xe=(0,s.up)("el-icon"),Ne=(0,s.up)("el-upload"),qe=(0,s.up)("el-image"),De=(0,s.up)("zoom-in"),Oe=(0,s.up)("Delete"),ze=(0,s.up)("el-date-picker"),Ae=(0,s.up)("el-form"),Re=(0,s.up)("el-scrollbar"),je=(0,s.up)("el-dialog"),Be=i.Z,$e=(0,s.Q2)("loading");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",d,[(0,s._)("div",m,[(0,s.Wm)(Fe)]),(0,s.Wm)(Re,{class:"basic-r-container"},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",g,[h,(0,s._)("div",p,[(0,s.Wm)(Pe,{class:"account-profile-cancel-btn",plain:"",round:"",onClick:o[0]||(o[0]=e=>ke.cancel())},{default:(0,s.w5)((()=>[_])),_:1}),(0,s.Wm)(Pe,{class:"account-profile-save-btn",type:"primary",round:"",loading:ve.submitLoadingValue,onClick:o[1]||(o[1]=e=>ke.submitForm("basicForm",1))},{default:(0,s.w5)((()=>[f])),_:1},8,["loading"]),(0,s.Wm)(Pe,{class:"account-profile-save-btn",type:"primary",round:"",loading:ve.submitAndViewLoadingValue,onClick:o[2]||(o[2]=e=>ke.submitForm("basicForm",2))},{default:(0,s.w5)((()=>[b])),_:1},8,["loading"])])]),(0,s.Wm)(Re,{class:"basic-form"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ae,{ref:"basicForm",model:ve.basicForm,rules:ve.basicRules,"label-width":"120px","label-position":"top",class:"demo-ruleForm"},{default:(0,s.w5)((()=>[(0,s._)("div",y,[w,(0,s._)("div",v,[(0,s.Wm)(Le,{gutter:50},{default:(0,s.w5)((()=>[(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Vendor Business Name",prop:"company_name"},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:ve.basicForm.company_name,"onUpdate:modelValue":o[3]||(o[3]=e=>ve.basicForm.company_name=e),placeholder:"Vendor contact name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Address"},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:ve.basicForm.address,"onUpdate:modelValue":o[4]||(o[4]=e=>ve.basicForm.address=e),placeholder:"Street name,building,apartment"},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Website"},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:ve.basicForm.website,"onUpdate:modelValue":o[5]||(o[5]=e=>ve.basicForm.website=e),placeholder:"https://"},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Location"},{default:(0,s.w5)((()=>[(0,s._)("div",k,[(0,s._)("div",F,[ve.haveLocationStatus?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s.Uk)((0,n.zw)(e.$filters.countryInfoFormat(ve.countryInfo)),1)],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s.Wm)(Se,{modelValue:ve.countryObj,"onUpdate:modelValue":o[6]||(o[6]=e=>ve.countryObj=e),teleported:!1,onChange:ke.countryChange,"value-key":"id",filterable:"",placeholder:"Select Country"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ve.countryOptions,((e,o)=>((0,s.wg)(),(0,s.j4)(Ce,{key:o,label:e.name,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),ve.provinceOptions.length>0?((0,s.wg)(),(0,s.j4)(Se,{key:0,modelValue:ve.provinceObj,"onUpdate:modelValue":o[7]||(o[7]=e=>ve.provinceObj=e),teleported:!1,"value-key":"id",filterable:"",class:"account-location-select",onChange:ke.provinceChange,placeholder:"Select Province"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ve.provinceOptions,((e,o)=>((0,s.wg)(),(0,s.j4)(Ce,{key:o,label:e.name,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])):(0,s.kq)("",!0),ve.cityOptions.length>0?((0,s.wg)(),(0,s.j4)(Se,{key:1,modelValue:ve.cityObj,"onUpdate:modelValue":o[8]||(o[8]=e=>ve.cityObj=e),teleported:!1,"value-key":"id",filterable:"",class:"account-location-select",onChange:ke.cityChange,placeholder:"Select City"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ve.cityOptions,((e,o)=>((0,s.wg)(),(0,s.j4)(Ce,{key:o,label:e.name,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])):(0,s.kq)("",!0)],64))]),(0,s._)("div",P,[ve.haveLocationStatus?((0,s.wg)(),(0,s.j4)(Pe,{key:0,plain:"",round:"",onClick:o[9]||(o[9]=e=>ke.changeEditLocation())},{default:(0,s.w5)((()=>[W])),_:1})):(0,s.kq)("",!0),ve.showLocationCancelStatus?((0,s.wg)(),(0,s.j4)(Pe,{key:1,plain:"",round:"",onClick:o[10]||(o[10]=e=>ke.changeCancelLocation())},{default:(0,s.w5)((()=>[U])),_:1})):(0,s.kq)("",!0)])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Le,{gutter:50},{default:(0,s.w5)((()=>[(0,s.Wm)(Ve,{xs:24,sm:24,md:12,lg:12,xl:12},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Add Location Pin"},{default:(0,s.w5)((()=>[V])),_:1})])),_:1})])),_:1})])]),(0,s._)("div",C,[S,(0,s._)("div",L,[(0,s.Wm)(Le,{gutter:50},{default:(0,s.w5)((()=>[(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Displayed name",prop:"display_name"},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:ve.basicForm.display_name,"onUpdate:modelValue":o[11]||(o[11]=e=>ve.basicForm.display_name=e),placeholder:"Your full name or alias"},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Job title",prop:"job_title"},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:ve.basicForm.job_title,"onUpdate:modelValue":o[12]||(o[12]=e=>ve.basicForm.job_title=e),placeholder:"Your job title"},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"E-mail address",prop:"work_email"},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:ve.basicForm.work_email,"onUpdate:modelValue":o[13]||(o[13]=e=>ve.basicForm.work_email=e),placeholder:"Your email address"},null,8,["modelValue"])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Phone number",prop:"phone"},{default:(0,s.w5)((()=>[(0,s._)("div",I,[(0,s._)("div",x,[(0,s.Wm)(Se,{modelValue:ve.basicForm.country_code,"onUpdate:modelValue":o[14]||(o[14]=e=>ve.basicForm.country_code=e),teleported:!1,filterable:"",class:"m-2",placeholder:"Select"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ve.phoneCodeData,(e=>((0,s.wg)(),(0,s.j4)(Ce,{key:e.phone_code,label:e.phone_code,value:e.phone_code},{default:(0,s.w5)((()=>[(0,s._)("span",N,(0,n.zw)(e.en),1),(0,s._)("span",q,(0,n.zw)(e.phone_code),1)])),_:2},1032,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,s._)("div",D,[(0,s.Wm)(We,{modelValue:ve.basicForm.work_phone,"onUpdate:modelValue":o[15]||(o[15]=e=>ve.basicForm.work_phone=e),oninput:"value=value.replace(/[^\\d]/g,'')",maxlength:"15",placeholder:"Phone #"},null,8,["modelValue"])])])])),_:1})])),_:1})])),_:1})])]),(0,s._)("div",O,[z,(0,s._)("div",A,[(0,s.Wm)(Le,{gutter:50},{default:(0,s.w5)((()=>[(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{class:"account-profile-form-item account-profile-category",label:"Category",prop:"category_id",required:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ve.subCateOptions,((e,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"categories-tags",key:o},[e["children"].length>0?((0,s.wg)(),(0,s.iD)("div",R)):(0,s.kq)("",!0),0===e["children"].length?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,n.C_)(["categories-tags-item",-1==ve.selectBusinessTypeList.findIndex((o=>o.id===e.id))?"":"tag-active"]),onClick:o=>ke.selectBusinessType(e)},(0,n.zw)(e.identity_name),11,j)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e["children"],((e,o)=>((0,s.wg)(),(0,s.iD)("div",{class:(0,n.C_)(["categories-tags-item",-1==ve.selectBusinessTypeList.findIndex((o=>o.id===e.id))?"":"tag-active"]),key:o,onClick:o=>ke.selectBusinessType(e)},(0,n.zw)(e.identity_name),11,B)))),128))])))),128))])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Business registration certificate",prop:"business_reg_img"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,{class:"profile-uploader",action:"",headers:ve.uploadHeaders,"show-file-list":!1,accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":ke.businessRegPhotoHttpRequest,"before-upload":ke.beforeBusinessRegPhotoUpload},{default:(0,s.w5)((()=>[(0,s.Wm)(xe,{size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Ie)])),_:1})])),_:1},8,["headers","http-request","before-upload"]),(0,s._)("div",$,[(0,s._)("div",H,[ve.businessRegPhotoUrl?((0,s.wg)(),(0,s.iD)("div",J,[(0,s.Wm)(qe,{src:ve.businessRegPhotoUrl,style:{width:"100%"}},null,8,["src"])])):(0,s.kq)("",!0),(0,s._)("div",T,[(0,s._)("span",{onClick:o[16]||(o[16]=e=>ke.handleSingleImagePreview(ve.businessRegPhotoUrl))},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(De)])),_:1})]),(0,s._)("span",{onClick:o[17]||(o[17]=e=>ke.handleBusinessRegPhotoRemove())},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Oe)])),_:1})])])])])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"License",prop:"license"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,{class:"profile-uploader",action:"",headers:ve.uploadHeaders,"show-file-list":!1,accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":ke.licenseHttpRequest,"before-upload":ke.beforeLicensePhotoUpload},{default:(0,s.w5)((()=>[(0,s.Wm)(xe,{size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Ie)])),_:1})])),_:1},8,["headers","http-request","before-upload"]),(0,s._)("div",Y,[(0,s._)("div",G,[ve.licensePhotoUrl?((0,s.wg)(),(0,s.iD)("div",E,[(0,s.Wm)(qe,{src:ve.licensePhotoUrl,style:{width:"100%"}},null,8,["src"])])):(0,s.kq)("",!0),(0,s._)("div",M,[(0,s._)("span",{onClick:o[18]||(o[18]=e=>ke.handleSingleImagePreview(ve.licensePhotoUrl))},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(De)])),_:1})]),(0,s._)("span",{onClick:o[19]||(o[19]=e=>ke.handleLicensePhotoRemove())},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Oe)])),_:1})])])])])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Year Founded"},{default:(0,s.w5)((()=>[(0,s.Wm)(ze,{modelValue:ve.basicForm.year_founded,"onUpdate:modelValue":o[20]||(o[20]=e=>ve.basicForm.year_founded=e),type:"year",format:"YYYY","value-format":"YYYY",placeholder:"Year Founded",disabledDate:c.birthdayDisabledDate,style:{width:"100%"}},null,8,["modelValue","disabledDate"])])),_:1})])),_:1})])),_:1})])]),(0,s._)("div",Q,[Z,(0,s._)("div",K,[(0,s.Wm)(Le,{gutter:50},{default:(0,s.w5)((()=>[(0,s.Wm)(Ve,{span:24},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Introduction",prop:"desc"},{default:(0,s.w5)((()=>[(0,s.Wm)(We,{modelValue:ve.basicForm.desc,"onUpdate:modelValue":o[21]||(o[21]=e=>ve.basicForm.desc=e),type:"textarea",rows:4,placeholder:"Write a couple of paragraphs about your business."},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Le,{gutter:50},{default:(0,s.w5)((()=>[(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Logo",prop:"logo"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,{class:"profile-uploader",action:"",headers:ve.uploadHeaders,"show-file-list":!1,accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":ke.logoPhotoHttpRequest,"before-upload":ke.beforeLogoPhotoUpload},{default:(0,s.w5)((()=>[(0,s.Wm)(xe,{size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Ie)])),_:1})])),_:1},8,["headers","http-request","before-upload"]),(0,s._)("div",X,[(0,s._)("div",ee,[ve.logoPhotoUrl?((0,s.wg)(),(0,s.iD)("div",oe,[(0,s.Wm)(qe,{src:ve.logoPhotoUrl,style:{width:"100%"}},null,8,["src"])])):(0,s.kq)("",!0),(0,s._)("div",te,[(0,s._)("span",{onClick:o[22]||(o[22]=e=>ke.handleSingleImagePreview(ve.logoPhotoUrl))},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(De)])),_:1})]),(0,s._)("span",{onClick:o[23]||(o[23]=e=>ke.handleLogoPhotoRemove())},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Oe)])),_:1})])])])])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Introduction Video",prop:"video_url"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,{class:"profile-uploader",action:"",headers:ve.uploadHeaders,"show-file-list":!1,accept:".mp4,.MP4","http-request":ke.videoHttpRequest,"before-upload":ke.beforeIntroVideoUpload},{default:(0,s.w5)((()=>[(0,s.Wm)(xe,{size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Ie)])),_:1})])),_:1},8,["headers","http-request","before-upload"]),(0,s._)("div",ie,[(0,s._)("div",ae,[ve.introVideoUrl?((0,s.wg)(),(0,s.iD)("div",le,[(0,s._)("video",{style:{width:"100%"},src:ve.introVideoUrl,controls:""},null,8,se)])):(0,s.kq)("",!0),(0,s._)("div",ne,[(0,s._)("span",{onClick:o[24]||(o[24]=e=>ke.handleVideoPreview(ve.introVideoUrl))},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(De)])),_:1})]),(0,s._)("span",{onClick:o[25]||(o[25]=e=>ke.handleVideoUrlRemove())},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Oe)])),_:1})])])])])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Background Image",prop:"background_image"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,{class:"profile-uploader",action:"",headers:ve.uploadHeaders,"show-file-list":!1,accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":ke.backgroundHttpRequest,"before-upload":ke.beforeBackgroundPhotoUpload},{default:(0,s.w5)((()=>[(0,s.Wm)(xe,{size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Ie)])),_:1})])),_:1},8,["headers","http-request","before-upload"]),(0,s._)("div",ce,[(0,s._)("div",re,[ve.backgroundPhotoUrl?((0,s.wg)(),(0,s.iD)("div",de,[(0,s.Wm)(qe,{src:ve.backgroundPhotoUrl,style:{width:"100%"}},null,8,["src"])])):(0,s.kq)("",!0),(0,s._)("div",me,[(0,s._)("span",{onClick:o[26]||(o[26]=e=>ke.handleSingleImagePreview(ve.backgroundPhotoUrl))},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(De)])),_:1})]),(0,s._)("span",{onClick:o[27]||(o[27]=e=>ke.handleBackgroundPhotoRemove())},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Oe)])),_:1})])])])])])),_:1})])),_:1}),(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Profile Photo",prop:"profile_photo"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,{class:"profile-uploader",action:"",headers:ve.uploadHeaders,"show-file-list":!1,accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","http-request":ke.profilePhotoHttpRequest,"before-upload":ke.beforeProfilePhotoUpload},{default:(0,s.w5)((()=>[(0,s.Wm)(xe,{size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Ie)])),_:1})])),_:1},8,["headers","http-request","before-upload"]),(0,s._)("div",ue,[(0,s._)("div",ge,[ve.profilePhotoUrl?((0,s.wg)(),(0,s.iD)("div",he,[(0,s.Wm)(qe,{src:ve.profilePhotoUrl,style:{width:"100%"}},null,8,["src"])])):(0,s.kq)("",!0),(0,s._)("div",pe,[(0,s._)("span",{onClick:o[28]||(o[28]=e=>ke.handleSingleImagePreview(ve.profilePhotoUrl))},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(De)])),_:1})]),(0,s._)("span",{onClick:o[29]||(o[29]=e=>ke.handleProfilePhotoRemove())},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Oe)])),_:1})])])])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(Le,{gutter:50},{default:(0,s.w5)((()=>[(0,s.Wm)(Ve,{xs:24,sm:24,md:6,lg:6,xl:6},{default:(0,s.w5)((()=>[(0,s.Wm)(Ue,{label:"Additional images(up to 20mb/image)",prop:"images"},{default:(0,s.w5)((()=>[(0,s.Wm)(Ne,{style:{width:"90%"},ref:"accountImagesUpload",action:"#",headers:ve.uploadHeaders,data:ve.uploadData,"auto-upload":!1,name:"file[]","show-file-list":!1,limit:6,multiple:!0,accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","before-upload":ke.beforeAccountImageUpload,"file-list":ve.accountImageFileList,"on-change":ke.handleAccountImageChange},{default:(0,s.w5)((()=>[(0,s.Wm)(xe,{size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Ie)])),_:1})])),_:1},8,["headers","data","before-upload","file-list","on-change"]),(0,s._)("div",_e,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(ve.accountImageFileList,((e,o)=>((0,s.wg)(),(0,s.iD)("div",{class:"account-xll-image",key:o},[(0,s.Wm)(qe,{src:e.url},null,8,["src"]),(0,s._)("div",fe,[(0,s._)("span",{onClick:o=>ke.handleAccountImagePreview(e)},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(De)])),_:1})],8,be),(0,s._)("span",{onClick:t=>ke.handleAccountImageRemove(e,o)},[(0,s.Wm)(xe,{color:"#ffffff",size:45},{default:(0,s.w5)((()=>[(0,s.Wm)(Oe)])),_:1})],8,ye)])])))),128))])])),_:1})])),_:1})])),_:1})])])])),_:1},8,["model","rules"])])),_:1})])),[[$e,ve.initProfileLoadingStatus]])])),_:1})]),(0,s.Wm)(je,{width:"50%",modelValue:ve.dialogSingleImageVisible,"onUpdate:modelValue":o[30]||(o[30]=e=>ve.dialogSingleImageVisible=e),center:""},{default:(0,s.w5)((()=>[(0,s.Wm)(qe,{src:ve.dialogSingleImageUrl},null,8,["src"])])),_:1},8,["modelValue"]),(0,s.Wm)(je,{width:"50%",modelValue:ve.dialogVideoVisible,"onUpdate:modelValue":o[31]||(o[31]=e=>ve.dialogVideoVisible=e),center:""},{default:(0,s.w5)((()=>[(0,s._)("video",{style:{width:"100%"},src:ve.dialogVideoUrl,controls:""},null,8,we)])),_:1},8,["modelValue"]),(0,s.Wm)(je,{width:"50%",modelValue:ve.dialogAccountImageVisible,"onUpdate:modelValue":o[32]||(o[32]=e=>ve.dialogAccountImageVisible=e),center:""},{default:(0,s.w5)((()=>[(0,s.Wm)(qe,{src:ve.dialogAccountImageUrl},null,8,["src"])])),_:1},8,["modelValue"]),(0,s.Wm)(Be,{show:ve.uploadLoadingStatus,onOnCancel:o[33]||(o[33]=e=>ke.cancelUploadProfile())},null,8,["show"])])}var ke=t(1836),Fe=t(894),Pe=t(6158),We=t.n(Pe),Ue=t(8847),Ve=t.n(Ue),Ce=t(7951),Se=t(4276),Le=t(8005),Ie=t.n(Le),xe=t(2576),Ne={name:"vendor",components:{meSideMenu:l.Z,xllLoading:i.Z},setup(){const e=e=>{let o=new Date;return e.getTime()>=o.getTime()};return{birthdayDisabledDate:e}},data(){return{initProfileLoadingStatus:!1,dialogAccountImageUrl:"",dialogAccountImageVisible:!1,accountImageFileList:[],companyInfo:{},countryInfo:"",haveLocationStatus:!1,showLocationCancelStatus:!1,uploadLoadingStatus:!1,sideMenuStatus:!0,submitLoadingValue:!1,submitAndViewLoadingValue:!1,phoneCodeData:Fe.o,uploadActionUrl:"https://api.edupassport.io/api/user/uploadImg",uploadHeaders:{platform:4},uploadData:{token:localStorage.getItem("token")},profilePhotoUrl:"",logoPhotoUrl:"",licensePhotoUrl:"",businessRegPhotoUrl:"",introVideoUrl:"",backgroundPhotoUrl:"",mapCenterValue:[-99.91028767893485,32.082955230919616],accessToken:"pk.eyJ1Ijoic3JrbGluZ2UiLCJhIjoiY2t2NnR4anI2OWU5NDJ3bWE1dHd3c3h1aSJ9.O0JfjqiyBBkFuf4G-DQ-DQ",mapStyle:"mapbox://styles/mapbox/streets-v11",basicForm:{company_name:"",license:"",logo:"",category_id:"",category_name_en:"",category_name_cn:"",desc:"",pid:"",work_phone:"",country_id:"",state_id:"",town_id:"",address:"",lat:"",lng:"",felds_trips:0,work_email:"",country_code:"+86",video_url:"",year_founded:"",profile_photo:"",business_reg_img:"",technology_available:"",website:"",background_image:""},basicRules:{company_name:[{required:!0,message:"Please input ",trigger:"blur"}],work_email:[{type:"email",required:!1,message:"Please input email",trigger:"blur"}],desc:[{required:!0,message:"Please input ",trigger:"blur"}]},nationalityOptions:Ce.i,countryObj:{},provinceObj:{},cityObj:{},districtObj:{},countryName:"",countryNameCn:"",provinceName:"",provinceNameCn:"",cityName:"",cityNameCn:"",districtName:"",districtNameCn:"",countryOptions:[],provinceOptions:[],cityOptions:[],districtOptions:[],subCateOptions:[],selectBusinessTypeList:[],selectEducatorTypeList:[],sLocationType:1,businessInfo:{},i:0,id:0,cid:0,action:"",dialogVideoVisible:!1,dialogVideoUrl:"",dialogSingleImageVisible:!1,dialogSingleImageUrl:""}},unmounted(){(0,xe.lJ)(),window.onresize=null},async mounted(){let e=document.body.clientWidth,o=Math.floor(e);o<=768&&(0,xe.lJ)(),window.onresize=()=>{o<=768&&(0,xe.lJ)()},await this.getSubIdentityList(),this.getAllCountry();let t=this.$route.query.s;if(t){let e=JSON.parse((0,Se.Jx)(t));console.log(e),this.i=e.i,this.id=e.id,this.cid=e.cid,this.action=e.action,"add"==e.action&&this.initMap(),"edit"==e.action&&(this.initProfileLoadingStatus=!0,await this.getBasicInfo(e.i))}},methods:{changeEditLocation(){this.haveLocationStatus=!1,this.showLocationCancelStatus=!0,this.countryName="",this.countryNameCn="",this.provinceName="",this.provinceNameCn="",this.cityName="",this.cityNameCn=""},changeCancelLocation(){this.haveLocationStatus=!0,this.showLocationCancelStatus=!1;let e=this.companyInfo;if(e.country_info){let o=JSON.parse(e.country_info);this.countryName=o.country_name_en,this.countryNameCn=o.country_name_cn,this.provinceName=o.province_name_en,this.provinceNameCn=o.province_name_cn,this.cityName=o.city_name_en,this.cityNameCn=o.city_name_cn,this.basicForm.country_info=e.country_info}},async getSubIdentityList(){let e={pid:5,tree:1};await(0,ke.cF)(e).then((e=>{console.log(e),200==e.code&&(this.subCateOptions=e.message)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},cancelUploadProfile(){this.uploadLoadingStatus=!1},businessRegPhotoHttpRequest(e){let o=this;new(Ie())(e.file,{quality:.6,success(e){const t=new FormData;t.append("token",localStorage.getItem("token"));let i="no";"yes"===i&&(t.append("file[]",e,e.name),(0,ke._p)(t).then((e=>{if(200==e.code){let t=e.data[0]["file_url"];o.uploadLoadingStatus=!1,o.businessRegPhotoUrl=t,o.basicForm.business_reg_img=t}})).catch((e=>{console.log(e)}))),"no"===i&&(t.append("file",e,e.name),(0,ke.Qz)(t).then((e=>{if(200==e.code){let t=e.message.file_path;o.uploadLoadingStatus=!1,o.businessRegPhotoUrl=t,o.basicForm.business_reg_img=t}})).catch((e=>{console.log(e)})))},error(e){console.log(e.message)}})},beforeBusinessRegPhotoUpload(e){this.uploadLoadingStatus=!0;const o=e.size/1024/1024<20;return o||this.$message.error("Avatar picture size can not exceed 20MB"),o},licenseHttpRequest(e){let o=this;new(Ie())(e.file,{quality:.6,success(e){const t=new FormData;t.append("token",localStorage.getItem("token"));let i="no";"yes"===i&&(t.append("file[]",e,e.name),(0,ke._p)(t).then((e=>{if(200==e.code){let t=e.data[0]["file_url"];o.uploadLoadingStatus=!1,o.licensePhotoUrl=t,o.basicForm.license=t}})).catch((e=>{console.log(e)}))),"no"===i&&(t.append("file",e,e.name),(0,ke.Qz)(t).then((e=>{if(200==e.code){let t=e.message.file_path;o.uploadLoadingStatus=!1,o.licensePhotoUrl=t,o.basicForm.license=t}})).catch((e=>{console.log(e)})))},error(e){console.log(e.message)}})},beforeLicensePhotoUpload(e){this.uploadLoadingStatus=!0;const o=e.size/1024/1024<20;return o||this.$message.error("Avatar picture size can not exceed 20MB"),o},backgroundHttpRequest(e){let o=this;new(Ie())(e.file,{quality:.6,success(e){const t=new FormData;t.append("token",localStorage.getItem("token"));let i="no";"yes"===i&&(t.append("file[]",e,e.name),(0,ke._p)(t).then((e=>{if(200==e.code){let t=e.data[0]["file_url"];o.uploadLoadingStatus=!1,o.backgroundPhotoUrl=t,o.basicForm.background_image=t}})).catch((e=>{console.log(e)}))),"no"===i&&(t.append("file",e,e.name),(0,ke.Qz)(t).then((e=>{if(200==e.code){let t=e.message.file_path;o.uploadLoadingStatus=!1,o.backgroundPhotoUrl=t,o.basicForm.background_image=t}})).catch((e=>{console.log(e)})))},error(e){console.log(e.message)}})},beforeBackgroundPhotoUpload(e){this.uploadLoadingStatus=!0;const o=e.size/1024/1024<20;return o||this.$message.error("Avatar picture size can not exceed 20MB"),o},profilePhotoHttpRequest(e){let o=this;new(Ie())(e.file,{quality:.6,success(e){const t=new FormData;t.append("token",localStorage.getItem("token"));let i="no";"yes"===i&&(t.append("file[]",e,e.name),(0,ke._p)(t).then((e=>{if(200==e.code){let t=e.data[0]["file_url"];o.uploadLoadingStatus=!1,o.profilePhotoUrl=t,o.basicForm.profile_photo=t}})).catch((e=>{console.log(e)}))),"no"===i&&(t.append("file",e,e.name),(0,ke.Qz)(t).then((e=>{if(200==e.code){let t=e.message.file_path;o.uploadLoadingStatus=!1,o.profilePhotoUrl=t,o.basicForm.profile_photo=t}})).catch((e=>{console.log(e)})))},error(e){console.log(e.message)}})},beforeProfilePhotoUpload(e){this.uploadLoadingStatus=!0;const o=e.size/1024/1024<20;return o||this.$message.error("Avatar picture size can not exceed 20MB"),o},logoPhotoHttpRequest(e){let o=this;new(Ie())(e.file,{quality:.6,success(e){const t=new FormData;t.append("token",localStorage.getItem("token"));let i="no";"yes"===i&&(t.append("file[]",e,e.name),(0,ke._p)(t).then((e=>{if(200==e.code){let t=e.data[0]["file_url"];o.uploadLoadingStatus=!1,o.logoPhotoUrl=t,o.basicForm.logo=t}})).catch((e=>{console.log(e)}))),"no"===i&&(t.append("file",e,e.name),(0,ke.Qz)(t).then((e=>{if(200==e.code){let t=e.message.file_path;o.uploadLoadingStatus=!1,o.logoPhotoUrl=t,o.basicForm.logo=t}})).catch((e=>{console.log(e)})))},error(e){console.log(e.message)}})},beforeLogoPhotoUpload(e){this.uploadLoadingStatus=!0;const o=e.size/1024/1024<20;return o||this.$message.error("Avatar picture size can not exceed 20MB"),o},videoHttpRequest(e){let o=this;const t=new FormData;let i=e.file;t.append("token",localStorage.getItem("token"));let a="no";"yes"===a&&(t.append("file[]",i,i.name),(0,ke._p)(t).then((e=>{if(200==e.code){let t=e.data[0]["file_url"];o.uploadLoadingStatus=!1,o.introVideoUrl=t,o.basicForm.video_url=t}})).catch((e=>{console.log(e)}))),"no"===a&&(t.append("file",i,i.name),(0,ke.Qz)(t).then((e=>{if(200==e.code){let t=e.message.file_path;o.uploadLoadingStatus=!1,o.introVideoUrl=t,o.basicForm.video_url=t}})).catch((e=>{console.log(e)})))},beforeIntroVideoUpload(e){console.log(e),this.uploadLoadingStatus=!0},initMap(){We().accessToken=this.accessToken;const e=new(We().Map)({container:"mapContainer",center:this.mapCenterValue,style:this.mapStyle,zoom:12}),o=new(We().NavigationControl);e.addControl(o,"top-right"),e.addControl(new(We().FullscreenControl));const t=new(We().GeolocateControl)({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0});e.addControl(t,"top-right");const i=new(Ve())({accessToken:this.accessToken,language:"en-US",mapboxgl:We()});e.addControl(i,"top-left");const a=new(We().Marker);i.on("result",(o=>{console.log(o),a.setLngLat(o.result.center).addTo(e),this.basicForm.lng=o.result.center[0],this.basicForm.lat=o.result.center[1]})),i.on("clear",(e=>{console.log(e),this.basicForm.lng="",this.basicForm.lat=""}))},setPlace(e){console.log(e)},changeIdentity(e,o,t){let i=this,a={identity:5,company_id:e,language:o};(0,ke.bv)(a).then((o=>{if(console.log(o),200==o.code){localStorage.setItem("identity",5),localStorage.setItem("company_id",e),i.$store.commit("identity",5),this.$store.commit("allIdentityChanged",!0);let a=JSON.stringify(o.message);localStorage.setItem("menuData",a),this.$store.commit("menuData",o.message),this.$store.commit("currentCompanyId",e),1===t&&this.skipToAccountHome(),2===t&&this.skipToViewProfile(e,5)}})).catch((e=>{console.log(e)}))},cancel(){this.$router.go(-1)},updateUserProfilePercentage(){let e={token:localStorage.getItem("token")};(0,ke.OH)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},skipToViewProfile(e,o){let t=localStorage.getItem("uid");if(1==o){let o={cid:e,uid:t,identity:1},i=(0,Se.cv)(JSON.stringify(o));this.$router.push({path:"/educator/profile",query:{str:i}})}if(2==o){let o={cid:e,uid:t,identity:2},i=(0,Se.cv)(JSON.stringify(o));this.$router.push({path:"/business/profile",query:{str:i}})}if(3==o){let o={cid:e,uid:t,identity:3},i=(0,Se.cv)(JSON.stringify(o));this.$router.push({path:"/business/profile",query:{str:i}})}if(4==o){let o={cid:e,uid:t,identity:4},i=(0,Se.cv)(JSON.stringify(o));this.$router.push({path:"/business/profile",query:{str:i}})}if(5==o){let o={cid:e,uid:t,identity:5},i=(0,Se.cv)(JSON.stringify(o));this.$router.push({path:"/vendor/profile",query:{str:i}})}},skipToAccountHome(){let e=this;setTimeout((function(){e.submitLoadingValue=!1,e.$router.push("/account/home")}),3e3)},submitForm(e,o){let t,i,a;this.selectBusinessTypeList.forEach((e=>{t=e.id,i=e.identity_name,a=e.identity_name_cn})),this.basicForm.category_id=t,this.basicForm.category_name_en=i,this.basicForm.category_name_cn=a;let l={country_name_en:this.countryName,country_name_cn:this.countryNameCn,province_name_en:this.provinceName,province_name_cn:this.provinceNameCn,city_name_en:this.cityName,city_name_cn:this.cityNameCn,district_name_en:this.districtName,district_name_cn:this.districtNameCn};this.basicForm.country_info=JSON.stringify(l);let s=this.action;this.$refs[e].validate((e=>{if(!e)return this.$message({type:"warning",message:"Please complete all required fields",grouping:!0}),console.log("error submit!!"),!1;{1===o&&(this.submitLoadingValue=!0),2===o&&(this.submitAndViewLoadingValue=!0),"edit"==s&&(this.basicForm.id=this.cid),"add"==s&&(this.basicForm.id=this.cid);let e=Object.assign({},this.basicForm);(0,ke.G9)(e).then((e=>{console.log(e),200==e.code&&(this.$store.commit("companyName",this.basicForm.company_name),this.$store.commit("userAvatar",this.basicForm.logo),"edit"==s?(this.uploadAccountImages(this.cid),this.updateUserProfilePercentage(),1===o&&this.skipToAccountHome(),2===o&&this.skipToViewProfile(e.message.vendor_company_id,5)):(this.accountImageFileList.length>0&&this.uploadAccountImages(e.message.vendor_company_id),localStorage.setItem("company_id",e.message.vendor_company_id),this.$store.commit("allIdentityChanged",!0),this.updateUserProfilePercentage(),this.changeIdentity(e.message.vendor_company_id,2,o)))})).catch((e=>{console.log(e)}))}}))},getUserMenuList(e,o,t,i){let a={user_id:e,identity:o,company_id:t,create_user_id:i,page:1,limit:1e3};(0,ke.$Z)(a).then((e=>{if(200===e.code){let t=e.message.pc;if(t){let e=t.filter((e=>e.identity==o));this.$store.commit("menuData",e),localStorage.setItem("menuData",JSON.stringify(e))}}})).catch((e=>{console.log(e)}))},resetForm(e){this.$refs[e].resetFields()},handleChange(e){console.log(e)},getAllCountry(){let e={};(0,ke.PQ)(e).then((e=>{console.log(e),200==e.code&&(this.countryOptions=e.message)})).catch((e=>{this.$message.error(e.msg)}))},getAllProvinces(e){let o={country_id:e};(0,ke.PQ)(o).then((e=>{console.log(e),200==e.code&&(this.provinceOptions=e.message)})).catch((e=>{this.$message.error(e.msg)}))},getAllCitys(e,o){let t={country_id:e,state_id:o};(0,ke.PQ)(t).then((e=>{console.log(e),200==e.code&&(this.cityOptions=e.message)})).catch((e=>{this.$message.error(e.msg)}))},countryChange(e){console.log(e),this.basicForm.state_id=void 0,this.basicForm.town_id=void 0,this.provinceOptions=[],this.cityOptions=[],this.basicForm.country_id=e.id,this.countryName=e.name,this.countryNameCn=e.name,this.getAllProvinces(e.id)},provinceChange(e){console.log(e),this.basicForm.town_id=void 0,this.cityOptions=[],this.basicForm.state_id=e.id,this.provinceName=e.name,this.provinceNameCn=e.name,this.getAllCitys(this.basicForm.country_id,e.id)},cityChange(e){console.log(e),this.basicForm.town_id=e.id,this.cityName=e.name,this.cityNameCn=e.name},selectBusinessType(e){if(console.log(e),-1==this.selectBusinessTypeList.indexOf(e)){if(this.selectBusinessTypeList.length>0){let e=this.selectBusinessTypeList.length-1;this.selectBusinessTypeList.splice(e,1)}this.selectBusinessTypeList.push(e)}else this.selectBusinessTypeList.splice(this.selectBusinessTypeList.indexOf(e),1)},async getVisitorInfo(){let e={user_id:localStorage.getItem("uid"),identity:5};await(0,ke.Vd)(e).then((e=>{if(200==e.code){let o=e.message.user_contact.company;if(o.company_name&&(this.basicForm.company_name=o.company_name),o.desc&&(this.basicForm.desc=o.desc),o.work_phone&&(this.basicForm.work_phone=o.work_phone),o.technology_available&&(this.basicForm.technology_available=o.technology_available),o.felds_trips&&(this.basicForm.felds_trips=o.felds_trips),o.work_email&&(this.basicForm.work_email=o.work_email),o.lat&&(this.basicForm.lat=o.lat),o.lng&&(this.basicForm.lng=o.lng),o.address&&(this.basicForm.address=o.address),o.country_code&&(this.basicForm.country_code=o.country_code),o.video_url&&(this.introVideoUrl=o.video_url,this.basicForm.video_url=o.video_url),o.logo&&(this.logoPhotoUrl=o.logo,this.basicForm.logo=o.logo),o.business_reg_img&&(this.businessRegPhotoUrl=o.business_reg_img,this.basicForm.business_reg_img=o.business_reg_img),o.license&&(this.licensePhotoUrl=o.license,this.basicForm.license=o.license),o.year_founded&&(this.basicForm.year_founded=o.year_founded.toString()),o.tuition&&(this.basicForm.tuition=o.tuition),o.country_info){this.basicForm.country_info=o.country_info;let e=JSON.parse(o.country_info);this.countryName=e.country_name_en,this.countryNameCn=e.country_name_cn,this.provinceName=e.province_name_en,this.provinceNameCn=e.province_name_cn,this.cityName=e.city_name_en,this.cityNameCn=e.city_name_cn,this.basicForm.country_info=o.country_info,this.countryInfo=o.country_info,this.haveLocationStatus=!0}o.country_id&&(this.basicForm.country_id=o.country_id),o.state_id&&(this.basicForm.state_id=o.state_id),o.town_id&&(this.basicForm.town_id=o.town_id),o.website&&(this.basicForm.website=o.website);let t=o.category_id,i=o.category_name_en,a=o.category_name_cn,l={id:t,identity_name:i,identity_name_cn:a};this.selectBusinessTypeList.push(l)}})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},async getBasicInfo(){let e=this,o={identity:5};await(0,ke.Lk)(o).then((o=>{if(200==o.code){let t=o.message.user_contact.company;if(this.companyInfo=t,t.company_name&&(this.basicForm.company_name=t.company_name),t.desc&&(this.basicForm.desc=t.desc),t.work_phone&&(this.basicForm.work_phone=t.work_phone),t.display_name&&(this.basicForm.display_name=t.display_name),t.job_title&&(this.basicForm.job_title=t.job_title),t.technology_available&&(this.basicForm.technology_available=t.technology_available),t.felds_trips&&(this.basicForm.felds_trips=t.felds_trips),t.work_email&&(this.basicForm.work_email=t.work_email),t.lat&&(this.basicForm.lat=t.lat),t.lng&&(this.basicForm.lng=t.lng),t.lat&&t.lng&&(this.mapCenterValue=[t.lng,t.lat]),setTimeout((function(){e.initMap()}),2e3),t.address&&(this.basicForm.address=t.address),t.country_code&&(this.basicForm.country_code=t.country_code),t.video_url&&(this.introVideoUrl=t.video_url,this.basicForm.video_url=t.video_url),t.logo&&(this.logoPhotoUrl=t.logo,this.basicForm.logo=t.logo),t.background_image&&"0"!=t.background_image&&(this.backgroundPhotoUrl=t.background_image,this.basicForm.background_image=t.background_image),t.business_reg_img&&(this.businessRegPhotoUrl=t.business_reg_img,this.basicForm.business_reg_img=t.business_reg_img),t.profile_photo&&(this.profilePhotoUrl=t.profile_photo,this.basicForm.profile_photo=t.profile_photo),t.license&&(this.licensePhotoUrl=t.license,this.basicForm.license=t.license),t.year_founded&&(this.basicForm.year_founded=t.year_founded.toString()),t.tuition&&(this.basicForm.tuition=t.tuition),t.country_info){this.basicForm.country_info=t.country_info;let e=JSON.parse(t.country_info);this.countryName=e.country_name_en,this.countryNameCn=e.country_name_cn,this.provinceName=e.province_name_en,this.provinceNameCn=e.province_name_cn,this.cityName=e.city_name_en,this.cityNameCn=e.city_name_cn,this.basicForm.country_info=t.country_info,this.countryInfo=t.country_info,this.haveLocationStatus=!0}t.country_id&&(this.basicForm.country_id=t.country_id),t.state_id&&(this.basicForm.state_id=t.state_id),t.town_id&&(this.basicForm.town_id=t.town_id),t.website&&(this.basicForm.website=t.website);let i=t.category_id,a=t.category_name_en,l=t.category_name_cn,s={id:i,identity_name:a,identity_name_cn:l};if(this.selectBusinessTypeList.push(s),t.images){let e=t.images;if(e.length>0){let o=[];e.forEach((e=>{let t={name:"",url:e.url};o.push(t)})),this.accountImageFileList=[],this.accountImageFileList=o}}this.initProfileLoadingStatus=!1}})).catch((e=>{if(console.log(e),e.msg)return this.$message.error(e.msg)}))},handleAccountImageRemove(e,o){console.log(e,o),this.accountImageFileList.splice(o,1)},handleAccountImagePreview(e){this.dialogAccountImageUrl=e.url,this.dialogAccountImageVisible=!0},handleVideoPreview(e){this.dialogVideoUrl=e,this.dialogVideoVisible=!0},handleSingleImagePreview(e){this.dialogSingleImageUrl=e,this.dialogSingleImageVisible=!0},handleBusinessRegPhotoRemove(){this.businessRegPhotoUrl="",this.basicForm.business_reg_img=""},handleLicensePhotoRemove(){this.licensePhotoUrl="",this.basicForm.license=""},handleLogoPhotoRemove(){this.logoPhotoUrl="",this.basicForm.logo=""},handleVideoUrlRemove(){this.introVideoUrl="",this.basicForm.video_url=""},handleBackgroundPhotoRemove(){this.backgroundPhotoUrl="",this.basicForm.background_image=""},handleProfilePhotoRemove(){this.profilePhotoUrl="",this.basicForm.profile_photo=""},beforeAccountImageUpload(e){const o="image/png"===e.type||"image/jpg"===e.type;return o||this.$message.error("Please select the correct file format to upload")},handleAccountImageChange(e,o){console.log(e),console.log(o);let t=new FormData,i=localStorage.getItem("token");t.append("token",i),t.append("platform",4),t.append("file[]",e.raw),this.uploadLoadingStatus=!0,(0,ke.Rk)(t).then((e=>{if(console.log(e),200==e.code){let o=e.message;o.forEach((e=>{let o={name:"",url:e};this.accountImageFileList.push(o),this.uploadLoadingStatus=!1}))}})).catch((e=>{this.uploadLoadingStatus=!1,console.log(e)}))},uploadAccountImages(e){let o=[],t=this.accountImageFileList;t.length>0&&t.forEach((e=>{o.push(e.url)}));let i={token:localStorage.getItem("token"),identity:5,company_id:e,img:o};(0,ke.gm)(i).then((e=>{console.log(e),200==e.code&&console.log("account images ----")})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},accountImagePreview(e){this.dialogAccountImageVisible=!0,this.dialogAccountImageUrl=e}}},qe=t(8118);const De=(0,qe.Z)(Ne,[["render",ve],["__scopeId","data-v-6eadc8e2"]]);var Oe=De}}]);
//# sourceMappingURL=4319.3692309a.js.map