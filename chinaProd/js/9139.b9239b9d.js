"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[9139],{1250:function(e,o,t){t.r(o),t.d(o,{default:function(){return Ie}});var s=t(6866),i=t(6252);const l={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},a=(0,i._)("path",{fill:"currentColor",d:"M28 6H4a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Zm-2.2 2L16 14.78L6.2 8ZM4 24V8.91l11.43 7.91a1 1 0 0 0 1.14 0L28 8.91V24Z"},null,-1),n=[a];function r(e,o){return(0,i.wg)(),(0,i.iD)("svg",l,n)}var g={name:"carbon-email",render:r};const m={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},u=(0,i._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 2H11c-1 0-2 1-2 2v24c0 1 1 2 2 2h10c1 0 2-1 2-2V4c0-1-1-2-2-2ZM9 5h14M9 27h14"},null,-1),d=[u];function c(e,o){return(0,i.wg)(),(0,i.iD)("svg",m,d)}var h={name:"bytesize-mobile",render:c},p=t(6612);const y=e=>((0,i.dD)("data-v-309da3cb"),e=e(),(0,i.Cn)(),e),w={class:"login-bg"},b=y((()=>(0,i._)("div",{class:"mobile-banner"},[(0,i._)("div",{class:"mobile-banner-bg"})],-1))),f={class:"login-m"},_=y((()=>(0,i._)("h1",null,"Log in",-1))),S={class:"xll-login-form-container"},P={class:"remember-forgot-container"},k={class:"remember-container"},C={class:"forgot-password-container"},V=(0,i.Uk)(" Forgot password? "),v=(0,i.Uk)(" Login "),I=y((()=>(0,i._)("span",{class:"login-require-star"},"*",-1))),L=y((()=>(0,i._)("span",{class:"login-label-text"},"Phone #",-1))),F={class:"password-container"},$=y((()=>(0,i._)("div",{class:"password-l"},[(0,i._)("span",{class:"login-require-star"},"*"),(0,i._)("span",{class:"login-label-text"},"6 Digit Code")],-1))),W={class:"password-r"},U=(0,i.Uk)(" Log in via password "),B={class:"xll-input-container"},q={class:"xll-input-input"},x={class:"remember-forgot-container"},E={class:"remember-container"},D={class:"forgot-password-container"},R=(0,i.Uk)("Forgot password? "),T=(0,i.Uk)(" LOGIN "),M=y((()=>(0,i._)("span",{class:"login-require-star"},"*",-1))),H=y((()=>(0,i._)("span",{class:"login-label-text"},"Phone #",-1))),A={class:"password-container"},O=y((()=>(0,i._)("div",{class:"password-l"},[(0,i._)("span",{class:"login-require-star"},"*"),(0,i._)("span",{class:"login-label-text"},"Password")],-1))),z={class:"password-r"},N=(0,i.Uk)(" Log in via SMS verification code "),j={class:"remember-forgot-container"},G={class:"remember-container"},Z={class:"forgot-password-container"},J=(0,i.Uk)(" Forgot password? "),K=(0,i.Uk)(" LOGIN "),Y={key:2,class:"xll-divider"},X=(0,i.Uk)("or"),Q={key:3,class:"sign-in-btn-container"},ee=(0,i.Uk)(" SIGN IN WITH PHONE NUMBER "),oe=(0,i.Uk)(" SIGN IN WITH EMAIL "),te={class:"login-r"},se={class:"login-close"},ie=(0,i.Uk)(" CLOSE "),le={class:"sign-up"},ae=(0,i.Uk)(" SIGN UP "),ne={class:"login-error-container"},re=y((()=>(0,i._)("h4",null," Welcome Back! ",-1))),ge=y((()=>(0,i._)("p",null," Oops, your username or password is wrong ",-1))),me={class:"login-error-ok-container"},ue=(0,i.Uk)("GET HELP"),de=(0,i.Uk)("OK");function ce(e,o,t,l,a,n){const r=(0,i.up)("el-image"),m=(0,i.up)("el-col"),u=(0,i.up)("el-input"),d=(0,i.up)("el-form-item"),c=(0,i.up)("el-checkbox"),y=(0,i.up)("el-button"),ce=(0,i.up)("el-form"),he=(0,i.up)("el-divider"),pe=h,ye=(0,i.up)("el-icon"),we=g,be=(0,i.up)("el-row"),fe=s.Z,_e=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",w,[b,(0,i.Wm)(be,{justify:"center",align:"top",class:"login-container"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{xs:4,sm:4,md:4,lg:4,xl:4},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"login-l",onClick:o[0]||(o[0]=e=>n.turnHome())},[(0,i.Wm)(r,{class:"login-l-logo",src:a.logoImgLight},null,8,["src"])])])),_:1}),(0,i.Wm)(m,{class:"login-m-col",xs:16,sm:16,md:16,lg:16,xl:16},{default:(0,i.w5)((()=>[(0,i._)("div",f,[_,(0,i._)("div",S,[a.loginEmailStatus?((0,i.wg)(),(0,i.j4)(ce,{key:0,model:a.loginForm,rules:a.loginRules,ref:"loginForm","label-width":"100px","label-position":"top",class:"demo-ruleForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{prop:"email"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Email Address",modelValue:a.loginForm.email,"onUpdate:modelValue":o[1]||(o[1]=e=>a.loginForm.email=e)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(d,{style:{"margin-top":"25px"},prop:"password"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Password",type:"password","show-password":"",modelValue:a.loginForm.password,"onUpdate:modelValue":o[2]||(o[2]=e=>a.loginForm.password=e)},null,8,["modelValue"])])),_:1}),(0,i._)("div",P,[(0,i._)("div",k,[(0,i.Wm)(c,{size:"large",modelValue:a.rememberValue,"onUpdate:modelValue":o[3]||(o[3]=e=>a.rememberValue=e),label:"Remember Me",onChange:n.rememberChange},null,8,["modelValue","onChange"])]),(0,i._)("div",C,[(0,i.Wm)(y,{link:"",class:"forgot-password-btn",onClick:o[4]||(o[4]=e=>n.forgotPassword())},{default:(0,i.w5)((()=>[V])),_:1})])]),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(y,{class:"submit-btn",round:"",type:"primary",size:"large",loading:a.submitLoginLoadingStatus,onClick:o[5]||(o[5]=e=>n.submitLoginForm("loginForm"))},{default:(0,i.w5)((()=>[v])),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])):(0,i.kq)("",!0),a.loginPhoneStatus?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[a.loginByPhoneWithSmsStatus?((0,i.wg)(),(0,i.j4)(ce,{key:0,model:a.loginPhoneSmsForm,rules:a.loginPhoneSmsRules,ref:"loginPhoneSmsForm","hide-required-asterisk":!0,"label-position":"top",class:"demo-ruleForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{label:"Phone #",prop:"phone"},{label:(0,i.w5)((()=>[I,L])),default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Phone #",modelValue:a.loginPhoneSmsForm.phone,"onUpdate:modelValue":o[6]||(o[6]=e=>a.loginPhoneSmsForm.phone=e)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(d,{label:"6 Digit Code",prop:"phone_code"},{label:(0,i.w5)((()=>[(0,i._)("div",F,[$,(0,i._)("div",W,[(0,i.Wm)(y,{link:"",size:"large",onClick:o[7]||(o[7]=e=>n.switchToPhoneBySms())},{default:(0,i.w5)((()=>[U])),_:1})])])])),default:(0,i.w5)((()=>[(0,i._)("div",B,[(0,i._)("div",q,[(0,i.Wm)(u,{size:"large",placeholder:"Code",modelValue:a.loginPhoneSmsForm.code,"onUpdate:modelValue":o[8]||(o[8]=e=>a.loginPhoneSmsForm.code=e)},null,8,["modelValue"])]),(0,i.Wm)(y,{class:"xll-input-btn",type:"primary",round:"",size:"large",loading:l.checkCodeBtn.loading,disabled:l.checkCodeBtn.disabled,onClick:o[9]||(o[9]=e=>n.getCheckCode())},{default:(0,i.w5)((()=>[(0,i.Uk)((0,p.zw)(l.checkCodeBtn.text),1)])),_:1},8,["loading","disabled"])])])),_:1}),(0,i._)("div",x,[(0,i._)("div",E,[(0,i.Wm)(c,{modelValue:a.rememberValue,"onUpdate:modelValue":o[10]||(o[10]=e=>a.rememberValue=e),label:"Remember Me",onChange:n.rememberChange},null,8,["modelValue","onChange"])]),(0,i._)("div",D,[(0,i.Wm)(y,{link:"",class:"forgot-password-btn",onClick:o[11]||(o[11]=e=>n.forgotPassword())},{default:(0,i.w5)((()=>[R])),_:1})])]),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(y,{class:"submit-btn",size:"large",round:"",type:"primary",onClick:o[12]||(o[12]=e=>n.submitLoginPhoneSmsForm("loginPhoneSmsForm"))},{default:(0,i.w5)((()=>[T])),_:1})])),_:1})])),_:1},8,["model","rules"])):(0,i.kq)("",!0),a.loginByPhoneWithPasswordStatus?((0,i.wg)(),(0,i.j4)(ce,{key:1,model:a.loginPhonePassForm,rules:a.loginPhonePassRules,ref:"loginPhonePassForm","hide-required-asterisk":!0,"label-position":"top",class:"demo-ruleForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{label:"Phone #",prop:"phone"},{label:(0,i.w5)((()=>[M,H])),default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Phone #",modelValue:a.loginPhonePassForm.phone,"onUpdate:modelValue":o[13]||(o[13]=e=>a.loginPhonePassForm.phone=e)},null,8,["modelValue"])])),_:1}),(0,i.Wm)(d,{label:"Password",prop:"password"},{label:(0,i.w5)((()=>[(0,i._)("div",A,[O,(0,i._)("div",z,[(0,i.Wm)(y,{link:"",size:"large",onClick:o[14]||(o[14]=e=>n.switchToPhoneBySms())},{default:(0,i.w5)((()=>[N])),_:1})])])])),default:(0,i.w5)((()=>[(0,i.Wm)(u,{size:"large",placeholder:"Password",type:"password","show-password":"",modelValue:a.loginPhonePassForm.password,"onUpdate:modelValue":o[15]||(o[15]=e=>a.loginPhonePassForm.password=e)},null,8,["modelValue"])])),_:1}),(0,i._)("div",j,[(0,i._)("div",G,[(0,i.Wm)(c,{modelValue:a.rememberValue,"onUpdate:modelValue":o[16]||(o[16]=e=>a.rememberValue=e),label:"Remember Me",onChange:n.rememberChange},null,8,["modelValue","onChange"])]),(0,i._)("div",Z,[(0,i.Wm)(y,{link:"",class:"forgot-password-btn",onClick:o[17]||(o[17]=e=>n.forgotPassword())},{default:(0,i.w5)((()=>[J])),_:1})])]),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(y,{class:"submit-btn",size:"large",round:"",type:"primary",onClick:o[18]||(o[18]=e=>n.submitLoginPhonePassForm("loginPhonePassForm"))},{default:(0,i.w5)((()=>[K])),_:1})])),_:1})])),_:1},8,["model","rules"])):(0,i.kq)("",!0)],64)):(0,i.kq)("",!0),"yes"===a.isFromChinaEnv?((0,i.wg)(),(0,i.iD)("div",Y,[(0,i.Wm)(he,{"content-position":"center"},{default:(0,i.w5)((()=>[X])),_:1})])):(0,i.kq)("",!0),"yes"===a.isFromChinaEnv?((0,i.wg)(),(0,i.iD)("div",Q,[a.loginPhoneStatus?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(y,{key:0,size:"large",onClick:o[19]||(o[19]=e=>n.loginWithPhone()),class:"login-option-btn",link:"",round:""},{icon:(0,i.w5)((()=>[(0,i.Wm)(ye,null,{default:(0,i.w5)((()=>[(0,i.Wm)(pe)])),_:1})])),default:(0,i.w5)((()=>[ee])),_:1})),a.loginEmailStatus?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(y,{key:1,onClick:o[20]||(o[20]=e=>n.loginWithPhone()),class:"login-option-btn",link:"",round:"",size:"large"},{icon:(0,i.w5)((()=>[(0,i.Wm)(ye,null,{default:(0,i.w5)((()=>[(0,i.Wm)(we)])),_:1})])),default:(0,i.w5)((()=>[oe])),_:1}))])):(0,i.kq)("",!0)])])])),_:1}),(0,i.Wm)(m,{xs:4,sm:4,md:4,lg:4,xl:4},{default:(0,i.w5)((()=>[(0,i._)("div",te,[(0,i._)("div",se,[(0,i.Wm)(y,{type:"primary",link:"",onClick:o[21]||(o[21]=e=>n.goHome())},{default:(0,i.w5)((()=>[ie])),_:1})]),(0,i._)("div",le,[(0,i.Wm)(y,{plain:"",round:"",onClick:o[22]||(o[22]=e=>n.signUp())},{default:(0,i.w5)((()=>[ae])),_:1})])])])),_:1})])),_:1}),(0,i.Wm)(fe,{isShow:l.forgotDialogVisible,onClose:o[23]||(o[23]=e=>n.closeForgotDialog())},null,8,["isShow"]),(0,i.Wm)(_e,{modelValue:a.loginErrorDialogVisible,"onUpdate:modelValue":o[26]||(o[26]=e=>a.loginErrorDialogVisible=e),width:a.loginErrorDialogWidthValue},{default:(0,i.w5)((()=>[(0,i._)("div",ne,[re,ge,(0,i._)("div",me,[(0,i.Wm)(y,{plain:"",round:"",onClick:o[24]||(o[24]=e=>n.loginErrorHelp())},{default:(0,i.w5)((()=>[ue])),_:1}),(0,i.Wm)(y,{type:"primary",round:"",onClick:o[25]||(o[25]=e=>n.loginErrorOk())},{default:(0,i.w5)((()=>[de])),_:1})])])])),_:1},8,["modelValue","width"])])}var he=t(7454),pe=t(6949),ye=t(1836),we=t(8339),be=t(9669),fe=t.n(be),_e=t(1474),Se=t(3907),Pe=t(2931),ke=t(4276),Ce={name:"index",data(){return{isFromChinaEnv:"yes",loginErrorDialogWidthValue:"50%",loginErrorDialogVisible:!1,imgLogo:pe,logoImgLight:he,identityBusinessCheckedStatus:!1,identityBusinessStrBefore:"",identityBusinessStr:"Education-Business",loginPhoneStatus:!1,loginEmailStatus:!0,loginByPhoneWithPasswordStatus:!1,loginByPhoneWithSmsStatus:!0,loginForm:{email:"",password:""},loginRules:{email:[{type:"email",required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},loginPhoneSmsForm:{phone:"",code:""},loginPhoneSmsRules:{phone:[{required:!0,message:"Please fill out your phone #.",trigger:"blur"}],code:[{required:!0,message:"Please enter 6 digit code.",trigger:"blur"}]},loginPhonePassForm:{phone:"",password:""},loginPhonePassRules:{phone:[{required:!0,message:"Please fill out your phone #.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}]},submitLoginLoadingStatus:!1,submitRegisterLoadingStatus:!1,humanVerifyStatus:!0,rememberValue:!1,registerForm:{first_name:"",last_name:"",email:"",code:"",password:"",c_password:""},registerRules:{first_name:[{required:!0,message:"Please fill out your first name.",trigger:"blur"}],last_name:[{required:!0,message:"Please fill out your last name.",trigger:"blur"}],code:[{required:!0,message:"Please fill out your code.",trigger:"blur"}],email:[{type:"email",required:!0,message:"Please fill out your email address.",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],c_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},registerPhoneForm:{first_name:"",last_name:"",phone:"",code:"",password:"",c_password:""},registerPhoneRules:{first_name:[{required:!0,message:"Please fill out your first name.",trigger:"blur"}],last_name:[{required:!0,message:"Please fill out your last name.",trigger:"blur"}],phone:[{required:!0,message:"Please fill out your phone #.",trigger:"blur"}],code:[{required:!0,message:"Please fill out your code",trigger:"blur"}],password:[{required:!0,message:"Please enter your password",trigger:"blur"}],c_password:[{required:!0,message:"Please enter your password again",trigger:"blur"}]},identityValue:0,sendCodeLoading:!1,showValue:"login",businessDialogStatus:!1}},components:{ForgotPassword:s.Z},setup(e,o){console.log(e),console.log(o);let t=(0,we.tv)(),s=(0,we.yj)();const i=()=>s.query,l=(0,Pe.iH)(!1),a=()=>{let e=s.query.redirect_params;if(e){let o=JSON.parse((0,ke.Jx)(e));if(o.path)return t.push({path:o.path,query:o.query})}return t.push({path:"/overview"})};let n=s.query.type;const r=n||"login",g=(0,Se.oR)(),m=e=>g.commit("currentUser",e);let u=(0,Pe.qj)({text:"Get Code",loading:!1,disabled:!1,duration:10,timer:null});const d=()=>{10!==u.duration&&(u.disabled=!0,u.loading=!0),u.timer&&clearInterval(u.timer),u.timer=setInterval((()=>{const e=u.duration--;u.text=`${e} S`,u.loading=!0,u.disabled=!0,e<=0&&(clearInterval(u.timer),u.duration=10,u.text="Reacquire",u.disabled=!1,u.loading=!1),console.log(u)}),1e3)};return{getParams:i,skipHomePage:a,showType:r,setCurrentUser:m,checkCodeBtn:u,getCheckCodeTimer:d,forgotDialogVisible:l}},beforeRouteUpdate(e){e.query.email&&(this.loginForm.email=e.query.email)},unmounted(){window.onresize=null},mounted(){let e=document.body.clientWidth,o=Math.floor(e);o<=768&&(this.loginErrorDialogWidthValue="90%"),window.onresize=()=>{o<=768&&(this.loginErrorDialogWidthValue="90%")};let t=this.$route.query.email;t&&(this.loginForm.email=t);let s=this.$cookies.isKey("account");if(console.log(s),s){let e=this.$cookies.get("account");this.rememberValue=!0,1===e.type&&(this.loginForm.email=e.email,this.loginForm.password=e.password),2===e.type&&(this.loginPhonePassForm.phone=e.phone,this.loginPhonePassForm.password=e.password)}},created(){this.showValue=this.showType},methods:{loginErrorOk(){this.loginErrorDialogVisible=!1},loginErrorHelp(){window.open("https://salesiq.zoho.com/signaturesupport.ls?widgetcode=75672d291fd9d5fcab53ffa3194f32598809c21f9b5284cbaf3493087cdd2e0d1a2010ab7b6727677d37b27582c0e9c4","_blank")},sendPrivatePassword(e){let o={email:e};(0,ye.pJ)(o).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},turnHome(){this.$router.push("/")},changeType(e){e.target.type="password"},getCheckCode(){let e={phone:this.loginPhoneSmsForm.phone};(0,ye.eo)(e).then((e=>{console.log(e),200===e.code&&(this.getCheckCodeTimer(),this.$message.success("Success"))})).catch((e=>{e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},getCheckCodeForRegister(){let e={phone:this.registerPhoneForm.phone};(0,ye.eo)(e).then((e=>{console.log(e),200===e.code&&(this.getCheckCodeTimer(),this.$message.success("Success"))})).catch((e=>{e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},signUp(){this.$router.push("/signup")},goHome(){this.$router.push("/")},rememberChange(e){console.log(e)},humanVerify(e,o){console.log(o),this.$loading({text:"Loading..."});let t=new FormData;t.append("secret","0x55587f4f237ef6B48A96284Ee257D0AA3d828508"),t.append("response",e),fe().post("/siteverify",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"},baseURL:"/hcaptcha",timeout:1e5}).then((e=>{console.log(e),e.success?(this.$loading().close(),this.humanVerifyStatus=!0,this.$message.success("Success")):(this.$message.error("Fail"),this.$loading().close())}))},sendEmailCode(){let e=this,o=this.registerForm.email;if(o){let t={email:o};e.sendCodeLoading=!0,(0,ye.h1)(t).then((o=>{200==o.code&&setTimeout((function(){e.sendCodeLoading=!1,e.$message.success("Activation Code Sent")}),1500)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))}},selectEducationBusiness(){this.businessDialogStatus=!0,this.identityBusinessCheckedStatus=!1,this.identityValue=0},submitIdentityBusiness(){0!=this.identityValue&&(this.businessDialogStatus=!1)},selectedIdentityBusiness(e,o){this.businessDialogStatus=!0,e&&o&&(this.identityBusinessCheckedStatus=!0,this.identityValue=e,this.identityBusinessStr=o)},closeBusinessDialog(){this.businessDialogStatus=!1,this.identityBusinessCheckedStatus=!1,this.identityValue=0,this.identityBusinessStr="Education-Business"},selectedIdentity(e){console.log(e),this.identityBusinessCheckedStatus=!1,this.identityBusinessStr="Education-Business",this.businessDialogStatus=!1,this.identityValue=e},rememberMeAction(e,o){let t=this.$cookies.isKey("account");if(t&&this.$cookies.remove("account"),this.rememberValue){let t={};1===o&&(t={type:1,email:e.email,password:e.password}),2===o&&(t={type:2,phone:e.phone,password:e.password}),this.$cookies.set("account",t,2592e3)}},handleSetCurrentUser(e,o,t,s,i,l){let a=e+"#"+o+"#"+t,n=s+" "+i,r={uuid:a,name:n,avatar:l};this.setCurrentUser(r)},storageLoginUserInfo(e){let o=this,t=e.identity,s=e.first_name,i=e.last_name,l="https://oss.esl-passport.cn/educator.png",a=e.company_id,n=s+" "+i,r="";localStorage.setItem("token",e.token),localStorage.setItem("uid",e.id),localStorage.setItem("identity",e.identity),localStorage.setItem("language",e.language),localStorage.setItem("email",e.email),localStorage.setItem("company_id",e.company_id),localStorage.setItem("name",n),localStorage.setItem("first_name",s),localStorage.setItem("last_name",i),1==t&&(l=e.headimgurl,r=s+" "+i,this.updateEducatorPercentage()),2==t&&(l=e.recruiting_info.logo,r=e.recruiting_info.company_name,this.updateRecruiterPercentage()),3==t&&(l=e.school_info.logo,r=e.school_info.company_name,this.updateSchoolPercentage()),4==t&&(l=e.other_info.logo,r=e.other_info.company_name,this.updateOtherPercentage()),5==t&&(l=e.vendor_info.logo,r=e.vendor_info.company_name,this.updateVendorPercentage()),this.$store.commit("currentCompanyId",e.company_id),e.third_company_id&&(localStorage.setItem("thirdCompanyId",e.third_company_id),this.$store.commit("thirdCompanyId",e.third_company_id)),this.$store.commit("username",n),this.$store.commit("userAvatar",l),this.$store.commit("identity",e.identity),this.$store.commit("companyName",r),this.$store.commit("changeThirdCompanyStatus",e.is_third_company),this.handleSetCurrentUser(e.id,t,a,s,i,l),this.getUserMenuList(e.id,t,e.company_id,e.id),setTimeout((function(){o.skipHomePage(),o.submitLoginLoadingStatus=!1}),1500)},updateEducatorPercentage(){let e={token:localStorage.getItem("token")};(0,ye.nr)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},updateRecruiterPercentage(){let e={token:localStorage.getItem("token")};(0,ye.H7)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},updateSchoolPercentage(){let e={token:localStorage.getItem("token")};(0,ye.kg)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},updateOtherPercentage(){let e={token:localStorage.getItem("token")};(0,ye.yx)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},updateVendorPercentage(){let e={token:localStorage.getItem("token")};(0,ye.OH)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},submitLoginForm(e){let o=this;o.humanVerifyStatus&&(this.submitLoginLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoginLoadingStatus=!1,!1;{let e=Object.assign({},this.loginForm);(0,ye.Jw)(e).then((o=>{if(console.log(o),200==o.code){this.rememberMeAction(e,1);let t=o.message;this.storageLoginUserInfo(t)}})).catch((e=>{console.log(e),10001==e.message.status?this.$msgbox({title:"Seems you dont have an account",message:"would you like to sign up?",dangerouslyUseHTMLString:!1,type:"warning",center:!0,showCancelButton:!0,cancelButtonText:"No,thank you",confirmButtonText:"Sign Up","round-button":!0,callback(e){console.log(e),"confirm"===e&&o.$router.push({path:"/signup",query:{}})}}):this.loginErrorDialogVisible=!0,this.submitLoginLoadingStatus=!1}))}})))},submitLoginPhoneSmsForm(e){let o=this;o.humanVerifyStatus&&this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoginLoadingStatus=!1,!1;{let e=Object.assign({},this.loginPhoneSmsForm);(0,ye.Nj)(e).then((e=>{if(console.log(e),200==e.code){let t=e.message;localStorage.setItem("token",t.token),localStorage.setItem("uid",t.id),localStorage.setItem("identity",t.identity),localStorage.setItem("language",t.language),localStorage.setItem("phone",t.phone),localStorage.setItem("company_id",t.company_id),this.$store.commit("currentCompanyId",t.company_id),t.third_company_id&&(localStorage.setItem("thirdCompanyId",t.third_company_id),this.$store.commit("thirdCompanyId",t.third_company_id));let s=t.identity,i=t.first_name,l=t.last_name,a="https://oss.esl-passport.cn/educator.png",n=t.company_id;localStorage.setItem("name",i+" "+l),localStorage.setItem("first_name",i),localStorage.setItem("last_name",l),this.$store.commit("identity",t.identity),this.handleSetCurrentUser(t.id,s,n,i,l,a),this.getUserMenuList(t.id,s,t.company_id,t.id),setTimeout((function(){o.skipHomePage(),o.submitLoginLoadingStatus=!1}),1500)}})).catch((e=>{console.log(e),10001==e.message.status?this.$msgbox({title:"Seems you dont have an account",message:"would you like to sign up?",dangerouslyUseHTMLString:!1,type:"warning",center:!0,showCancelButton:!0,cancelButtonText:"No,thank you",confirmButtonText:"Sign Up","round-button":!0,callback(e){console.log(e),"confirm"===e&&o.$router.push({path:"/signup",query:{}})}}):this.loginErrorDialogVisible=!0}))}}))},submitLoginPhonePassForm(e){let o=this;o.humanVerifyStatus&&this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitLoginLoadingStatus=!1,!1;{let e=Object.assign({},this.loginPhonePassForm);(0,ye.IX)(e).then((t=>{if(console.log(t),200==t.code){this.rememberMeAction(e,2);let s=t.message;localStorage.setItem("token",s.token),localStorage.setItem("uid",s.id),localStorage.setItem("identity",s.identity),localStorage.setItem("language",s.language),localStorage.setItem("phone",s.phone),localStorage.setItem("company_id",s.company_id),this.$store.commit("currentCompanyId",s.company_id),s.third_company_id&&(localStorage.setItem("thirdCompanyId",s.third_company_id),this.$store.commit("thirdCompanyId",s.third_company_id));let i=s.identity,l=s.first_name,a=s.last_name,n="https://oss.esl-passport.cn/educator.png",r=s.company_id;localStorage.setItem("name",l+" "+a),localStorage.setItem("first_name",l),localStorage.setItem("last_name",a),this.$store.commit("identity",s.identity),this.handleSetCurrentUser(s.id,i,r,l,a,n),this.getUserMenuList(s.id,i,s.company_id,s.id),setTimeout((function(){o.skipHomePage(),o.submitLoginLoadingStatus=!1}),1500)}})).catch((e=>{console.log(e),10001==e.message.status?this.$msgbox({title:"Seems you dont have an account",message:"would you like to sign up?",dangerouslyUseHTMLString:!1,type:"warning",center:!0,showCancelButton:!0,cancelButtonText:"No,thank you",confirmButtonText:"Sign Up","round-button":!0,callback(e){console.log(e),"confirm"===e&&o.$router.push({path:"/signup",query:{}})}}):this.loginErrorDialogVisible=!0}))}}))},getUserMenuList(e,o,t,s){let i={user_id:e,identity:o,company_id:t,create_user_id:s,page:1,limit:1e3};(0,ye.$Z)(i).then((e=>{if(200===e.code){let o=JSON.stringify(e.message);localStorage.setItem("menuData",o),this.$store.commit("menuData",e.message)}})).catch((e=>{console.log(e)}))},submitRegisterForm(e){let o=this;this.submitRegisterLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitRegisterLoadingStatus=!1,!1;{let e=Object.assign({identity:o.identityValue},this.registerForm);(0,ye.BI)(e).then((e=>{console.log(e),200==e.code&&(o.submitRegisterLoadingStatus=!1,this.$msgbox({title:"All Set",message:"Let's get you logged in!",dangerouslyUseHTMLString:!1,type:"success",center:!0,confirmButtonText:"OK","round-button":!0,callback(e){console.log(e),"confirm"===e&&(o.$router.push({path:"/login",query:{type:"login",email:o.registerForm.email}}),o.showValue="login")}}))})).catch((e=>{console.log(e),o.submitRegisterLoadingStatus=!1,this.$message.error(e.msg)}))}}))},submitRegisterPhoneForm(e){let o=this;this.submitRegisterLoadingStatus=!0,this.$refs[e].validate((e=>{if(!e)return console.log("error submit!!"),this.submitRegisterLoadingStatus=!1,!1;{let e=Object.assign({identity:o.identityValue},this.registerPhoneForm);(0,ye.LO)(e).then((e=>{console.log(e),200==e.code&&(o.submitRegisterLoadingStatus=!1,this.$msgbox({title:"All Set",message:"Let's get you logged in!",dangerouslyUseHTMLString:!1,type:"success",center:!0,confirmButtonText:"OK","round-button":!0,callback(e){console.log(e),"confirm"===e&&(o.$router.push({path:"/login",query:{type:"login",phone:o.registerPhoneForm.phone}}),o.showValue="login")}}))})).catch((e=>{console.log(e),o.submitRegisterLoadingStatus=!1,this.$message.error(e.msg)}))}}))},resetForm(e){this.$refs[e].resetFields()},switchLoginRegister(e){this.showValue=e},async googleSignIn(){try{const e=await this.$gAuth.signIn();if(!e)return null;console.log("googleUser",e),this.user=e.getBasicProfile().getEmail(),console.log("getId",this.user),console.log("getBasicProfile",e.getBasicProfile()),console.log("getAuthResponse",e.getAuthResponse()),console.log("getAuthResponse",this.$gAuth.instance.currentUser.get().getAuthResponse())}catch(e){return console.error(e),null}},async handleClickGetAuthCode(){try{const e=await this.$gAuth.getAuthCode();console.log("authCode",e)}catch(e){return console.error(e),null}},linkedinSignIn(){let e="779x5mbmt7ltgg",o="code",t="https://www.edupassport.cn/edupassport/linkedin",s=(0,_e.O1)(),i="r_liteprofile%20r_emailaddress%20w_member_social";window.location.href="https://www.linkedin.com/oauth/v2/authorization?response_type="+o+"&client_id="+e+"&redirect_uri="+t+"&state="+s+"&scope="+i},loginWithPhone(){this.loginPhoneStatus=!this.loginPhoneStatus,this.loginEmailStatus=!this.loginEmailStatus},switchToPhoneBySms(){this.loginByPhoneWithSmsStatus=!this.loginByPhoneWithSmsStatus,this.loginByPhoneWithPasswordStatus=!this.loginByPhoneWithPasswordStatus},forgotPassword(){this.forgotDialogVisible=!0},closeForgotDialog(){this.forgotDialogVisible=!1}}},Ve=t(8118);const ve=(0,Ve.Z)(Ce,[["render",ce],["__scopeId","data-v-309da3cb"]]);var Ie=ve}}]);
//# sourceMappingURL=9139.b9239b9d.js.map