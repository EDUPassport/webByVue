"use strict";(self["webpackChunkeslweb"]=self["webpackChunkeslweb"]||[]).push([[6152],{7033:function(e,t,s){s.d(t,{Z:function(){return g}});var i=s(6252);const o={class:"action-container"},a={class:"action-l"},l=(0,i.Uk)(" EXIT PREVIEW "),n={class:"action-r"},r=(0,i.Uk)(" EDIT PROFILE ");function c(e,t,s,c,d,m){const u=(0,i.up)("ArrowLeft"),f=(0,i.up)("el-icon"),g=(0,i.up)("el-button");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",a,[(0,i.Wm)(g,{class:"action-exit-preview-btn",link:"",onClick:t[0]||(t[0]=e=>m.exitPreview())},{default:(0,i.w5)((()=>[(0,i.Wm)(f,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u)])),_:1}),l])),_:1})]),(0,i._)("div",n,[(0,i.Wm)(g,{onClick:t[1]||(t[1]=e=>m.editProfile()),plain:"",round:""},{default:(0,i.w5)((()=>[r])),_:1})])])}var d=s(4276),m={name:"businessProfileActionWithPreview",props:["info","identity"],methods:{exitPreview(){this.$router.push("/account/home")},editProfile(){let e=this.info.id,t=this.identity,s="";if(e){let t={cid:e,action:"edit"};s=(0,d.cv)(JSON.stringify(t))}else{let e={i:t,action:"add"};s=(0,d.cv)(JSON.stringify(e))}2==t&&this.$router.push({path:"/business/edit/recruiter",query:{s:s}}),3==t&&this.$router.push({path:"/business/edit/school",query:{s:s}}),4==t&&this.$router.push({path:"/business/edit/other",query:{s:s}}),5==t&&this.$router.push({path:"/vendor/edit/vendor",query:{s:s}})}}},u=s(8118);const f=(0,u.Z)(m,[["render",c],["__scopeId","data-v-3f9f5822"]]);var g=f},6152:function(e,t,s){s.r(t),s.d(t,{default:function(){return K}});var i=s(1708),o=s(7033),a=s(6252),l=s(6612);const n=e=>((0,a.dD)("data-v-39d9cf72"),e=e(),(0,a.Cn)(),e),r={class:"container"},c={class:"deals-from-t"},d={key:0,class:"deals-from-back"},m=(0,a.Uk)(" BACK TO SEARCH RESULTS "),u={key:1,class:"deals-from-back"},f=(0,a.Uk)(" EXIT PREVIEW "),g={class:"deals-from-label"},h={class:"deals-from-b"},p={class:"deals-item-bg"},_={class:"img-slot-background"},b=["onClick"],y=n((()=>(0,a._)("i",{class:"iconfont el-icon-alixll-heart-filled xll-heart-icon"},null,-1))),k=[y],v=["onClick"],w=n((()=>(0,a._)("i",{class:"iconfont el-icon-alixll-heart xll-heart-icon"},null,-1))),D=[w],W={class:"deals-item-c"},C={class:"deals-item-c-l"},L={class:"deals-item-c-r"},I={class:"deals-item-c-r-1"},S=["onClick"],P={class:"deals-item-b"},E={class:"deals-item-b-l"},$=(0,a.Uk)(" unknown "),z={class:"deals-item-b-r"},R=(0,a.Uk)(" DETAILS ");function T(e,t,s,i,o,n){const y=(0,a.up)("ArrowLeft"),w=(0,a.up)("el-icon"),T=(0,a.up)("el-button"),A=(0,a.up)("Picture"),x=(0,a.up)("el-image"),B=(0,a.up)("el-avatar"),N=(0,a.up)("el-empty"),U=(0,a.up)("el-scrollbar");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(U,{class:"deals-from-bg-container"},{default:(0,a.w5)((()=>[(0,a._)("div",c,[s.fromVendorProfile?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)(T,{class:"deals-from-back-btn",onClick:t[0]||(t[0]=e=>n.backToSearchResults()),link:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y)])),_:1}),m])),_:1})])),s.fromVendorProfile?((0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(T,{class:"deals-from-back-btn",onClick:t[1]||(t[1]=e=>n.backToSearchResults()),link:""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y)])),_:1}),f])),_:1})])):(0,a.kq)("",!0),(0,a._)("div",g," Deals from "+(0,l.zw)(s.info.company_name),1)]),(0,a._)("div",h,[s.listData.length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(s.listData,((t,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"deals-from-item",key:s},[(0,a._)("div",p,[(0,a.Wm)(x,{class:"deals-item-background-img",src:t.company_info.background_image?t.company_info.background_image:"",fit:"cover"},{error:(0,a.w5)((()=>[(0,a._)("div",_,[(0,a.Wm)(w,{size:80,color:"#808080"},{default:(0,a.w5)((()=>[(0,a.Wm)(A)])),_:1})])])),_:2},1032,["src"]),t.is_favorite&&1==t.is_favorite?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"deals-item-favorite",onClick:i=>e.cancelFavorite(2,t.id,s)},k,8,b)):((0,a.wg)(),(0,a.iD)("div",{key:1,class:"deals-item-favorite",onClick:i=>e.addFavorite(t.id,2,t.title,t.company_logo,s)},D,8,v))]),(0,a._)("div",W,[(0,a._)("div",C,[(0,a.Wm)(B,{class:"deals-logo",src:t.company_logo},null,8,["src"])]),(0,a._)("div",L,[(0,a._)("div",I,(0,l.zw)(t.company_name),1),(0,a._)("div",{class:"deals-item-c-r-2",onClick:e=>n.showDealDetailDialog(t)},(0,l.zw)(t.title),9,S)])]),(0,a._)("div",P,[(0,a._)("div",E,[t.company_info.category_name_en&&"0"!=t.company_info.category_name_en?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)((0,l.zw)(t.company_info.category_name_en),1)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[$],64))]),(0,a._)("div",z,[(0,a.Wm)(T,{link:"",onClick:e=>n.showDealDetailDialog(t)},{default:(0,a.w5)((()=>[R])),_:2},1032,["onClick"])])])])))),128)):((0,a.wg)(),(0,a.j4)(N,{key:1,description:"..."}))])])),_:1})])}var A={name:"dealByListComponent",props:["listData","info","fromVendorProfile"],methods:{backToSearchResults(){this.$emit("back")},showDealDetailDialog(e){this.$emit("detail",e)}}},x=s(8118);const B=(0,x.Z)(A,[["render",T],["__scopeId","data-v-39d9cf72"]]);var N=B,U=s(6995);const Z={class:"business-profile-container"},q={class:"business-profile-l"},F={class:"business-profile-r"},j={class:"business-deals"};function V(e,t,s,l,n,r){const c=U.Z,d=N,m=(0,a.up)("el-col"),u=o.Z,f=i.Z,g=(0,a.up)("el-scrollbar"),h=(0,a.up)("el-row");return(0,a.wg)(),(0,a.iD)("div",Z,[(0,a._)("div",q,[(0,a.Wm)(c)]),(0,a._)("div",F,[(0,a.Wm)(h,{gutter:0,align:"top",justify:"space-between"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{xs:0,sm:0,md:8,lg:9,xl:8},{default:(0,a.w5)((()=>[(0,a._)("div",j,[(0,a.Wm)(d,{listData:n.dealsListData,"from-vendor-profile":!0,onBack:r.backToSearchResults,onDetail:r.showDealDetailDialog,info:n.companyInfo},null,8,["listData","onBack","onDetail","info"])])])),_:1}),(0,a.Wm)(m,{xs:24,sm:24,md:16,lg:15,xl:16},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{info:n.companyInfo,identity:r.identity},null,8,["info","identity"]),(0,a.Wm)(g,{class:"business-profile"},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{info:n.companyInfo,identity:r.identity,fromMe:!0},null,8,["info","identity"])])),_:1})])),_:1})])),_:1})])])}var J=s(1836),M=s(4276),O=s(2576),H={name:"profile",components:{meSideMenu:U.Z,businessProfile:i.Z,dealByListComponent:N,businessProfileActionWithPreview:o.Z},computed:{identity:{get(){return this.$store.state.identity}}},data(){return{profilePercentage:0,userContact:{},companyContact:{},companyInfo:{},dealsListData:[]}},unmounted(){(0,O.lJ)(),window.onresize=null},mounted(){let e=document.body.clientWidth,t=Math.floor(e);t<=768&&(0,O.lJ)(),window.onresize=()=>{t<=768&&(0,O.lJ)()};let s=this.$route.query.str;s&&console.log((0,M.Jx)(s)),this.getUserInfo(),this.updateBusinessProfile(),this.getDealsList(1,1e3)},methods:{getDealsList(e,t){let s=this.filterResultData,i={page:e,limit:t},o=Object.assign(i,s);(0,J.Jq)(o).then((e=>{console.log(e),200==e.code&&(this.dealsListData=e.message.data,this.dealTotalNum=e.message.total,this.showLoadingStatus=!1)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},backToSearchResults(){this.$router.push("/account/home")},showDealDetailDialog(){},updateBusinessProfile(){let e={token:localStorage.getItem("token")};(0,J.OH)(e).then((e=>{console.log(e)})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},getUserInfo(){let e=localStorage.getItem("identity"),t={identity:e};(0,J.Lk)(t).then((t=>{if(console.log(t),200==t.code){let s=t.message.user_contact,i=t.message.user_contact.company;if(2==e&&(this.profilePercentage=s.is_recruiting),3==e&&(this.profilePercentage=s.is_school),4==e&&(this.profilePercentage=s.is_other),i&&(this.companyInfo=i,i.benefits)){let e=i.benefits;e.forEach(((t,s)=>{e[s].id=t.object_id,e[s].pid=t.object_pid})),this.selectBenefitsList=e,this.benefitsList=i.benefits}s&&(this.userContact=s);let o=i.images;this.accountImageFileList=[],o&&o.forEach((e=>{let t={name:"",url:e.url};this.accountImageFileList.push(t)}))}})).catch((e=>{console.log(e),this.$message.error(e.msg)}))},addFavorite(e,t,s,i,o){let a={token:localStorage.getItem("token"),type:t,type_id:e,type_title:s,type_url:i};(0,J.q8)(a).then((e=>{console.log(e),200==e.code&&(this.$message.success("Success"),this.jobListData[o]["is_favorite"]=1)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},cancelFavorite(e,t,s){let i={token:localStorage.getItem("token"),type:e,type_id:t};(0,J.Bv)(i).then((e=>{console.log(e),200==e.code&&(this.jobListData[s]["is_favorite"]=0)})).catch((e=>{console.log(e),e.msg&&this.$message.error(e.msg),e.message&&this.$message.error(e.message)}))},async submitEduBusinessCompanyForm(){let e=localStorage.getItem("uid"),t=[{zf_referrer_name:""},{zf_redirect_url:""},{zc_gad:""},{SingleLine:this.companyInfo.company_name},{Dropdown2:""},{Dropdown:"Education Business"},{Website:""},{SingleLine1:""},{Number2:""},{SingleLine5:e},{PhoneNumber_countrycode:""},{Email:""},{Number:""},{Number1:""},{Dropdown1:""},{Address_AddressLine1:""},{Address_City:""},{Address_Region:""},{Address_Country:""},{SingleLine4:""},{MultiLine:""},{SingleLine3:""},{Number3:""},{Number4:""},{MultipleChoice:""},{MultiLine1:""},{MultiLine2:""},{Website1:""},{Website2:this.companyInfo.logo},{Website3:this.companyInfo.background_image}],s={zoho_data:t,zoho_url:"https://forms.zohopublic.com/edupassport/form/EduBusinessCompanyForm/formperma/2gsVgXjDNmE5niOKVzRmwT2tlYNWWCTD2kCDHv_CAV8/htmlRecords/submit"};await(0,J.Qi)(s).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}}};const Y=(0,x.Z)(H,[["render",V],["__scopeId","data-v-a92162a6"]]);var K=Y}}]);
//# sourceMappingURL=6152.d0345041.js.map